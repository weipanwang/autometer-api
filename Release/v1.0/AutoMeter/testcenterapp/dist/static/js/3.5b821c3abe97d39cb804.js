webpackJsonp([3],{"3C/1":function(e,t,a){a("M6a0"),a("zQR9"),a("+tPU"),a("qCoq"),a("UvrK"),a("Xjd4"),a("bqnK"),e.exports=a("FeBl").Map},"4WTo":function(e,t,a){var i=a("NWt+");e.exports=function(e,t){var a=[];return i(e,!1,a.push,a,t),a}},"7Doy":function(e,t,a){var i=a("EqjI"),s=a("7UMu"),n=a("dSzd")("species");e.exports=function(e){var t;return s(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!s(t.prototype)||(t=void 0),i(t)&&null===(t=t[n])&&(t=void 0)),void 0===t?Array:t}},"90i1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),n=a("exGp"),o=a.n(n),l=a("ifoU"),r=a.n(l),c=a("Dd8w"),d=a.n(c),p=a("2d0t"),u=a("Xw19"),m=a("W/rB"),h=a("MyJb"),b=a("W+bg"),v=a("nAq6"),f=a("XcM5"),g=a("0xDb"),y=a("vLgD");var x=a("NYxO"),_=a("nzYI");function w(e){return Object(y.a)({url:"/apicases/debug/condition/searchnotexit",method:"post",data:e})}function L(e){return Object(y.a)({url:"/apicases/debug/condition/searchexit",method:"post",data:e})}var k=a("IBLw"),$=a("CS7w"),S=a("k8Cg"),C=a("5kbS"),V=a("0qgb"),D=a("sc77"),O=a("jO+8"),z=a("mKAx"),F=a("JGZL"),j=a("TKH6"),A=a("tQBS"),q=a("jAkc"),P=a("ggxm");function B(e){return Object(y.a)({url:"/apicases/dbassert/search",method:"post",data:e})}var T=a("nv77"),I={name:"用例库",components:{uservariables:A.a},filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{accountList:[],tmpdbassertvalue:{id:"",dbassertid:"",fieldname:"",roworder:"",valuetype:"",assertcondition:"",expectvalue:"",memo:"",creator:""},tmpfieldname:"",dbassertvaluetotal:0,searchdbassertvalue:{page:1,size:10,fieldname:null,dbassertid:null},ApicasesdbassertvalueList:[],dbassertvalueDialogFormVisible:!1,dbassertvaluelistDialogFormVisible:!1,dbAssertvaluetextMap:{update:"修改断言值",add:"添加断言值"},dbAssertvaluedialogStatus:"add",tmpdbasserttype:"",tmpdbassertenviromrnt:"",tmpdbassert:{id:"",caseid:"",assembleid:"",assemblename:"",expectrecordsnums:null,envid:"",expression:"",enviroment:"",creator:""},dbasserttotal:0,dbAssertAUdialogFormVisible:!1,dbAssertdialogStatus:"add",dbassertList:[],dbassertitemKey:null,searchdbassert:{page:1,size:10,assemblename:null,enviroment:null,caseid:null},assertactiveName:"zero",conditionorderList:[],saveconditionorderList:[],searchconditionorder:{subconditionid:"",conditiontype:""},ConditionOrderdialogFormVisible:!1,id:null,Headertabledatas:[],Paramstabledatas:[],Bodytabledatas:[],ApicasesVariablesList:[],apicasesList:[],modelList:[],checked:"false",activeName:"zero",itemKey:null,headercasenotexistKey:null,headercaseexistKey:null,casenotexistKey:null,caseexistKey:null,assertitemKey:null,tmpasserttype:null,tmpprotocal:null,tmpapiid:null,tmppath:null,tmpdeployunitid:null,tmpcasetype:null,tmpcasename:null,tmpnotexistdeployunitid:0,tmpexistdeployunitid:0,tmpnotexistconditionid:0,tmpexistconditionid:0,tmpnotexistglobalheaderid:0,tmpnotexistheaderdeployunitid:0,tmpexistglobalheaderid:0,tmpexistheaderdeployunitid:0,globalheaderallList:[],paraList:[],paravaluemap:[],notexistcasemultipleSelection:[],existcasemultipleSelection:[],headernotexistcasemultipleSelection:[],headerexistcasemultipleSelection:[],multipleSelection:[],apiList:[],enviromentnameList:[],dbconditionenviromentnameList:[],enviroment_assembleList:[],deployunitList:[],caseparamtypelist:[],caseparamsbytypelist:[],tmpcaseparamslist:[],sourcetestcaseList:[],assertList:[],headerList:[],cookies:[],requestHeadList:[],requestParamsList:[],conditionList:[],apicasesnotexistList:[],apicasesheadernotexistList:[],apicasesheaderexistList:[],apicasesexistList:[],apiconditioncaseList:[],conditionapicaseList:[],apiconditionmodelList:[],apiconditionapiList:[],dbconditioncaseList:[],scriptconditionList:[],dbvariablesList:[],scriptvariablesList:[],listLoading:!1,threadloopvisible:!1,JmeterClassVisible:!1,ExpressionVisible:!1,AssertSubVisible:!1,AssertdialogFormVisible:!1,AssertAUdialogFormVisible:!1,BatchAssertdialogFormVisible:!1,TestdialogFormVisible:!1,HeaderandParamsVisible:!1,casedataialogFormVisible:!1,CopybatchdialogFormVisible:!1,casedebugconditionnotexistdialogFormVisible:!1,casedebugconditionexistdialogFormVisible:!1,scriptVariablesDialogFormVisible:!1,BodyVisible:!1,BodyParamDataVisible:!1,BodyDataVisible:!1,caseglobalheadernotexistdialogFormVisible:!1,caseglobalheaderexistdialogFormVisible:!1,caseVariablesDialogFormVisible:!1,caseaddvariablesdialogFormVisible:!1,scenecaseConditionFormVisible:!1,adddbvariablesdialogFormVisible:!1,addscriptVariablesdialogFormVisible:!1,dbVariablesDialogFormVisible:!1,caseindex:"",total:0,asserttotal:0,casenotexisttotal:0,headercasenotexisttotal:0,headercaseexisttotal:0,globalheaderctotal:0,caseexisttotal:0,apicasevariablestotal:0,dbvariablestotal:0,scriptvariablestotal:0,apiSearchQuery:{deployunitname:"",apiname:""},apiQuery:{deployunitid:"",deployunitname:"",modelid:0},dialogStatus:"add",AssertdialogStatus:"add",DelaydialogStatus:"add",apiconditiondialogStatus:"add",scriptdialogStatus:"add",dbdialogStatus:"add",dbvariablesdialogStatus:"add",scriptVariablesdialogStatus:"add",paramtitle:"用例参数值",AssertTitle:"新增修改断言",CopyApiCase:"复制用例",CopyBatchApiCase:"批量复制用例",loadassert:"断言",dialogFormVisible:!1,CopydialogFormVisible:!1,paramdialogFormVisible:!1,caseconditiondialogFormVisible:!1,dbconditiondialogFormVisible:!1,DelaydialogFormVisible:!1,scriptdialogFormVisible:!1,caseaddvariablesdialogStatus:"add",caseaddvariablestextMap:{update:"修改变量",add:"添加变量"},scripttextMap:{updateRole:"修改环境",update:"修改脚本前置条件",add:"添加脚本前置条件"},dbtextMap:{updateRole:"修改环境",update:"修改数据库前置条件",add:"添加数据库前置条件"},apiconditiontextMap:{update:"修改前置接口",add:"添加前置接口"},DelaytextMap:{update:"修改延时条件",add:"添加延时条件"},textMap:{updateRole:"修改API用例",update:"修改API用例",add:"添加API用例"},dbvariablestextMap:{updateRole:"修改API用例",update:"修改数据库变量",add:"添加数据库变量"},scriptVariablestextMap:{updateRole:"修改API用例",update:"修改脚本变量",add:"添加脚本变量"},AsserttextMap:{updateRole:"修改用例断言",update:"修改用例断言",add:"添加用例断言"},dbAsserttextMap:{updateRole:"修改数据库断言",update:"修改数据库断言",add:"添加数据库断言"},diclevelQuery:{page:1,size:10,diccode:"casecondition"},btnLoading:!1,tmpapicases:{id:"",apiid:"",deployunitid:"",casename:"",deployunitname:"",apiname:"",casejmxname:"",casecontent:"",casetype:"",threadnum:"",loops:"",expect:"",middleparam:"",level:0,memo:"",creator:"",modelid:"",modelname:"",mnickname:"",creatorid:"",mid:""},tmpmodelquery:{page:1,size:100,deployunitid:""},tmpapicasesdata:{id:"",caseid:"",casename:"",propertytype:"",memo:"",casedataMap:[],keyname:""},tmpapicasesbodydata:{id:"",caseid:"",casename:"",propertytype:"",memo:"",apiparam:"",apiparamvalue:"",paramstype:"",mid:""},tmpcopycase:{sourcecaseid:"",sourcedeployunitid:"",sourcedeployunitname:"",sourcecasename:"",newcasename:""},tmpbatchcopycase:{sourcedeployunitid:"",sourcedeployunitname:"",destinationdeployunitid:"",destinationdeployunitname:""},tmpassert:{id:"",caseid:"",asserttype:"",assertsubtype:"",expression:"",assertcondition:"",assertvalues:"",assertvaluetype:"",creator:""},tmpbatchassert:{id:"",caseid:"",asserttype:"",assertsubtype:"",expression:"",assertcondition:"",assertvalues:"",assertvaluetype:"",creator:""},tmptest:{globalheadername:"",globalheaderid:0,conditionname:"",conditionid:0,enviromentname:"",respone:"",code:"",responeTime:"",size:"",general:"",requestdata:""},tmpheader:{name:"",value:""},tmptestdata:{conditionid:0,globalheaderid:0,caseid:"",enviromentid:"",prixflag:"",projectid:""},tmpapi:{id:"",deployunitid:"",deployunitname:"",apiname:"",visittype:"",requesttype:"",apistyle:"",path:"",requestcontenttype:"",responecontenttype:"",memo:"",creator:""},casevalue:{apiid:"",caseid:"",propertytype:""},search:{page:1,size:10,deployunitname:null,modelname:null,apiid:"",deployunitid:"",modelid:"",apiname:null,path:null,casetype:null,casename:null,projectid:"",mid:""},searchassert:{page:1,size:10,asserttype:null,caseid:null},searchnotexistcase:{page:1,size:10,conditionid:0,conditionname:"",deployunitid:0,deployunitname:""},searchexistcase:{page:1,size:10,conditionid:0,conditionname:"",deployunitid:0,deployunitname:""},searchglobalnotexistheadercase:{page:1,size:10,globalheaderid:0,globalheadername:"",deployunitid:0,deployunitname:""},searchglobalheadercase:{page:1,size:10,globalheaderid:0,globalheadername:"",deployunitid:0,deployunitname:""},tmpconditionquery:{objecttype:"",projectid:""},tmptestvariables:{id:"",caseid:"",casename:"",testvariablesname:"",variablesdes:"",valuetype:"",testvariablestype:"",variablesexpress:"",memo:"",creator:"",projectid:""},tmpscriptcondition:{id:"",subconditionname:"",conditionid:"",conditionname:"",script:"",creator:"",projectid:""},tmpapicondition:{page:1,size:10,id:"",modelid:0,modelname:"",conditionid:"",subconditionname:"",conditionname:"",deployunitid:"",deployunitname:"",apiname:"",apiid:"",caseid:"",casename:"",memo:"",conditiontype:"",creator:"",projectid:""},tmpdelaycondition:{id:"",subconditionname:"",conditionid:"",conditionname:"",conditiontype:"",delaytime:"",creator:"",projectid:""},tmpdbcondition:{id:"",conditionid:"",conditionname:"",assembleid:"",assemblename:"",subconditionname:"",enviromentid:"",enviromentname:"",dbtype:"",dbcontent:"",connectstr:"",memo:"",conditiontype:"",creator:"",projectid:""},tmpdbvariables:{id:"",dbvariablesname:"",variablesdes:"",valuetype:"",fieldname:"",roworder:"",conditionid:"",conditionname:"",memo:"",creator:"",projectid:""},tmpscriptvariables:{id:"",scriptvariablesname:"",variablesdes:"",valuetype:"",memo:"",creator:"",conditionid:"",conditionname:"",projectid:""},searchapicondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},Scenedelaysearch:{page:1,size:10,conditionid:null,conditiontype:null,projectid:null},searchscriptcondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},searchdbcondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},searchdbvariables:{page:1,size:10,conditionid:"",projectid:""},searchscriptvariables:{page:1,size:10,conditionid:"",projectid:""},searchapicasevariables:{page:1,size:10,projectid:""},searchparam:{page:1,size:10,paramtype:""},searchassemble:{page:1,size:100,assembletype:"组件",envid:""}}},created:function(){this.search.projectid=window.localStorage.getItem("pid"),this.tmpconditionquery.projectid=window.localStorage.getItem("pid"),this.tmptestdata.projectid=window.localStorage.getItem("pid"),this.searchapicondition.projectid=window.localStorage.getItem("pid"),this.searchdbcondition.projectid=window.localStorage.getItem("pid"),this.searchscriptcondition.projectid=window.localStorage.getItem("pid"),this.searchapicasevariables.projectid=window.localStorage.getItem("pid"),this.Scenedelaysearch.projectid=window.localStorage.getItem("pid"),this.getaccountLists(),this.getenviromentallList(),this.getapicasesList(),this.getdepunitLists(),this.getalltestcondition(),this.getglobalheaderallList()},activated:function(){this.getapicasesList(),this.getdepunitLists(),this.getalltestcondition(),this.getglobalheaderallList(),this.getenviromentallList()},computed:d()({},Object(x.b)(["name","nickname","sidebar","projectlist","projectid","accountId"])),methods:{unix2CurrentTime:g.b,mnicknameselectChanged:function(e){for(var t=0;t<this.accountList.length;t++)this.accountList[t].nickname===e&&(this.tmpapicases.mid=this.accountList[t].id)},getaccountLists:function(){var e=this;this.accountList=null,Object(T.i)().then(function(t){e.accountList=t.data}).catch(function(t){e.$message.error("加载服务列表失败")})},showapicasesdbassertvalueDialog:function(e){this.tmpdbassertvalue.dbassertid=this.dbassertList[e].id,this.dbassertvaluelistDialogFormVisible=!0,this.searchdbassertvalue.dbassertid=this.dbassertList[e].id,this.getdbassertvaluebyid()},showconditionorderDialog:function(){this.ConditionOrderdialogFormVisible=!0,this.searchconditionorder.subconditionid=this.tmptestdata.caseid,this.searchconditionorder.conditiontype="case",this.searchConditionorder()},searchConditionorder:function(){var e=this;Object(q.c)(this.searchconditionorder).then(function(t){e.conditionorderList=t.data}).catch(function(t){e.$message.error("查询条件顺序失败")})},saveconditionorder:function(){var e=this;this.saveconditionorderList=[];for(var t=0;t<this.conditionorderList.length;t++)this.saveconditionorderList.push({id:this.conditionorderList[t].id,conditionid:this.conditionorderList[t].conditionid,subconditionid:this.conditionorderList[t].subconditionid,subconditiontype:this.conditionorderList[t].subconditiontype,orderstatus:"已排序",subconditionname:this.conditionorderList[t].subconditionname,conditionname:this.conditionorderList[t].conditionname,conditionorder:t+1,creator:this.name});console.log(this.saveconditionorderList),Object(q.a)(this.saveconditionorderList).then(function(){e.$message.success("条件顺序保存成功")}).catch(function(t){e.$message.error("条件顺序保存失败")}),this.ConditionOrderdialogFormVisible=!1},moveUp:function(e,t){if(e>0){var a=this.conditionorderList[e-1];this.conditionorderList.splice(e-1,1),this.conditionorderList.splice(e,0,a)}else alert("已经是第一条，不可上移");console.log(this.conditionorderList)},moveDown:function(e,t){if(console.log("下移",e,t),e+1===this.conditionorderList.length)alert("已经是最后一条，不可下移");else{console.log(e);var a=this.conditionorderList[e+1];this.conditionorderList.splice(e+1,1),this.conditionorderList.splice(e,0,a)}},removedbvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.dbvariablesList[e].id;Object(F.b)(a).then(function(){t.$message.success("删除成功"),t.getdbvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},removescriptvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.scriptvariablesList[e].id;Object(j.b)(a).then(function(){t.$message.success("删除成功"),t.getscriptvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},showUpdatedbvariablesDialog:function(e){this.adddbvariablesdialogFormVisible=!0,this.dbvariablesdialogStatus="update",this.tmpdbvariables.id=this.dbvariablesList[e].id,this.tmpdbvariables.dbvariablesname=this.dbvariablesList[e].dbvariablesname,this.tmpdbvariables.variablesdes=this.dbvariablesList[e].variablesdes,this.tmpdbvariables.valuetype=this.dbvariablesList[e].valuetype,this.tmpdbvariables.roworder=this.dbvariablesList[e].roworder,this.tmpdbvariables.fieldname=this.dbvariablesList[e].fieldname,this.tmpdbvariables.memo=this.dbvariablesList[e].memo,this.tmpdbvariables.creator=this.name},showUpdatescriptvariablesDialog:function(e){this.addscriptVariablesdialogFormVisible=!0,this.scriptVariablesdialogStatus="update",this.tmpscriptvariables.id=this.scriptvariablesList[e].id,this.tmpscriptvariables.scriptvariablesname=this.scriptvariablesList[e].scriptvariablesname,this.tmpscriptvariables.variablesdes=this.scriptvariablesList[e].variablesdes,this.tmpscriptvariables.valuetype=this.scriptvariablesList[e].valuetype,this.tmpscriptvariables.memo=this.scriptvariablesList[e].memo,this.tmpscriptvariables.creator=this.name},updatedbvariables:function(){var e=this;this.$refs.tmpdbvariables.validate(function(t){t&&Object(F.d)(e.tmpdbvariables).then(function(){e.$message.success("更新成功"),e.getdbvariablesList(),e.adddbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},updatescriptvariables:function(){var e=this;this.$refs.tmpscriptvariables.validate(function(t){t&&Object(j.d)(e.tmpscriptvariables).then(function(){e.$message.success("更新成功"),e.getscriptvariablesList(),e.addscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},getdbvariablesList:function(){var e=this;Object(F.c)(this.searchdbvariables).then(function(t){e.dbvariablesList=t.data.list,e.dbvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},getscriptvariablesList:function(){var e=this;Object(j.c)(this.searchscriptvariables).then(function(t){e.scriptvariablesList=t.data.list,e.scriptvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},showdbvariablesDialog:function(e){this.dbVariablesDialogFormVisible=!0,this.tmpdbvariables.conditionid=this.dbconditioncaseList[e].id,this.searchdbvariables.conditionid=this.dbconditioncaseList[e].id,this.tmpdbvariables.conditionname=this.dbconditioncaseList[e].subconditionname,this.getdbvariablesList()},showscriptvariablesDialog:function(e){this.scriptVariablesDialogFormVisible=!0,this.tmpscriptvariables.conditionid=this.scriptconditionList[e].id,this.searchscriptvariables.conditionid=this.scriptconditionList[e].id,this.tmpscriptvariables.conditionname=this.scriptconditionList[e].subconditionname,this.getscriptvariablesList()},showAdddbvariablesDialog:function(){this.adddbvariablesdialogFormVisible=!0,this.dbvariablesdialogStatus="add",this.tmpdbvariables.id="",this.tmpdbvariables.dbvariablesname="",this.tmpdbvariables.variablesdes="",this.tmpdbvariables.roworder="",this.tmpdbvariables.fieldname="",this.tmpdbvariables.memo="",this.tmpdbvariables.valuetype="",this.tmpdbvariables.creator=this.name,this.tmpdbvariables.projectid=window.localStorage.getItem("pid")},showAddscriptvariablesDialog:function(){this.addscriptVariablesdialogFormVisible=!0,this.scriptVariablesdialogStatus="add",this.tmpscriptvariables.id="",this.tmpscriptvariables.scriptvariablesname="",this.tmpscriptvariables.variablesdes="",this.tmpscriptvariables.valuetype="",this.tmpscriptvariables.memo="",this.tmpscriptvariables.creator=this.name,this.tmpscriptvariables.projectid=window.localStorage.getItem("pid")},adddbvariables:function(){var e=this;this.$refs.tmpdbvariables.validate(function(t){t&&Object(F.a)(e.tmpdbvariables).then(function(){e.$message.success("添加成功"),e.getdbvariablesList(),e.adddbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},addscriptvariables:function(){var e=this;this.$refs.tmpscriptvariables.validate(function(t){t&&Object(j.a)(e.tmpscriptvariables).then(function(){e.$message.success("添加成功"),e.getscriptvariablesList(),e.addscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},showUpdatescriptconditionDialog:function(e){this.scriptdialogFormVisible=!0,this.scriptdialogStatus="update",this.tmpscriptcondition.id=this.scriptconditionList[e].id,this.tmpscriptcondition.subconditionname=this.scriptconditionList[e].subconditionname,this.tmpscriptcondition.conditionname=this.scriptconditionList[e].conditionname,this.tmpscriptcondition.script=this.scriptconditionList[e].script,this.tmpscriptcondition.creator=this.name},removedbcondition:function(e){var t=this;this.$confirm("删除该数据库条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.dbconditioncaseList[e].id;Object(C.c)(a).then(function(){t.$message.success("删除成功"),t.getdbconditionList()})}).catch(function(){t.$message.info("已取消删除")})},updatedbcondition:function(){var e=this;this.$refs.tmpdbcondition.validate(function(t){t&&Object(C.e)(e.tmpdbcondition).then(function(){e.$message.success("更新成功"),e.getdbconditionList(),e.dbconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},showUpdatedbconditionDialog:function(e){this.dbconditiondialogFormVisible=!0,this.dbdialogStatus="update",this.tmpdbcondition.id=this.dbconditioncaseList[e].id,this.tmpdbcondition.conditionid=this.dbconditioncaseList[e].conditionid,this.tmpdbcondition.assembleid=this.dbconditioncaseList[e].assembleid,this.tmpdbcondition.enviromentid=this.dbconditioncaseList[e].enviromentid,this.tmpdbcondition.enviromentname=this.dbconditioncaseList[e].enviromentname,this.tmpdbcondition.assemblename=this.dbconditioncaseList[e].assemblename,this.tmpdbcondition.conditionname=this.dbconditioncaseList[e].conditionname,this.tmpdbcondition.subconditionname=this.dbconditioncaseList[e].subconditionname,this.tmpdbcondition.dbtype=this.dbconditioncaseList[e].dbtype,this.tmpdbcondition.dbcontent=this.dbconditioncaseList[e].dbcontent,this.tmpdbcondition.creator=this.name},getassembleallnameList:function(){var e=this;Object(z.b)(this.searchdbcondition).then(function(t){e.enviroment_assembleList=t.data}).catch(function(t){e.$message.error("获取组件列表失败")})},findMacAndDepWithEnv:function(){var e=this;Object(P.e)(this.searchassemble).then(function(t){e.enviroment_assembleList=t.data.list}).catch(function(t){e.$message.error("获取组件列表失败")})},selectChangedEN:function(e){for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpdbcondition.enviromentid=this.enviromentnameList[t].id,this.searchassemble.envid=this.enviromentnameList[t].id,this.tmpdbcondition.assembleid=null,this.tmpdbcondition.assemblename=null,this.findMacAndDepWithEnv())},ConditionselectChangedAS:function(e){for(var t=0;t<this.enviroment_assembleList.length;t++)this.enviroment_assembleList[t].deployunitname===e&&(this.tmpdbcondition.assembleid=this.enviroment_assembleList[t].assembleid)},dbassertselectChangedAS:function(e){for(var t=0;t<this.enviroment_assembleList.length;t++)this.enviroment_assembleList[t].deployunitname===e&&(this.tmpdbassert.assembleid=this.enviroment_assembleList[t].assembleid)},apiconditioncaseIndex:function(e){return(this.searchapicondition.page-1)*this.searchapicondition.size+e+1},dbconditioncaseIndex:function(e){return(this.searchdbcondition.page-1)*this.searchdbcondition.size+e+1},scriptconditioncaseIndex:function(e){return(this.searchscriptcondition.page-1)*this.searchscriptcondition.size+e+1},apiconditiontestcaseselectChanged:function(e){for(var t=0;t<this.conditionapicaseList.length;t++)this.conditionapicaseList[t].casename===e&&(this.tmpapicondition.caseid=this.conditionapicaseList[t].id)},apiconditionapiselectChanged:function(e){var t=this;this.tmpapicondition.casename=null;for(var a=0;a<this.apiconditionapiList.length;a++)this.apiconditionapiList[a].apiname===e&&(this.tmpapicondition.apiid=this.apiconditionapiList[a].id);Object(p.d)(this.tmpapicondition).then(function(e){t.conditionapicaseList=e.data}).catch(function(e){t.$message.error("加载apicase列表失败")})},apiconditionmodelselectChanged:function(e){var t=this;this.tmpapicondition.apiname=null,this.tmpapicondition.casename=null;for(var a=0;a<this.apiconditionmodelList.length;a++)this.apiconditionmodelList[a].modelname===e&&(this.tmpapicondition.modelid=this.apiconditionmodelList[a].id);""===e&&(this.tmpapicondition.modelid=0,this.tmpapicondition.modelname=""),Object(b.d)(this.tmpapicondition).then(function(e){t.apiconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},apiconditiondeployunitselectChanged:function(e){var t=this;this.tmpapicondition.casename=null,this.tmpapicondition.apiname=null,this.tmpapicondition.modelname=null;for(var a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===e&&(this.tmpapicondition.deployunitid=this.deployunitList[a].id);Object(S.c)(this.tmpapicondition).then(function(e){t.apiconditionmodelList=e.data.list}).catch(function(e){t.$message.error("加载服务模块列表失败")}),this.apiconditionapiList=null,Object(b.d)(this.tmpapicondition).then(function(e){t.apiconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},updatedelaycondition:function(){var e=this;this.$refs.tmpdelaycondition.validate(function(t){t&&Object(O.e)(e.tmpdelaycondition).then(function(){e.$message.success("更新成功"),e.getdelayconditionList(),e.DelaydialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},showUpdateapiconditionDialog:function(e){var t=this;this.caseconditiondialogFormVisible=!0,this.apiconditiondialogStatus="update",this.tmpapicondition.id=this.apiconditioncaseList[e].id,this.tmpapicondition.subconditionname=this.apiconditioncaseList[e].subconditionname,this.tmpapicondition.deployunitname=this.apiconditioncaseList[e].deployunitname,this.tmpapicondition.apiname=this.apiconditioncaseList[e].apiname,this.tmpapicondition.casename=this.apiconditioncaseList[e].casename,this.tmpapicondition.modelname=this.apiconditioncaseList[e].modelname,this.tmpapicondition.memo=this.apiconditioncaseList[e].memo,this.tmpapicondition.creator=this.name,this.tmpapicondition.projectid=window.localStorage.getItem("pid");for(var a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===this.apiconditioncaseList[e].deployunitname&&(this.tmpapicondition.deployunitid=this.deployunitList[a].id);Object(S.c)(this.tmpapicondition).then(function(e){t.apiconditionmodelList=e.data.list}).catch(function(e){t.$message.error("加载服务模块列表失败")}),this.apiconditionapiList=null,Object(b.d)(this.tmpapicondition).then(function(e){t.apiconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")});for(var i=0;i<this.apiconditionapiList.length;i++)this.apiconditionapiList[i].apiname===this.apiconditioncaseList[e].apiname&&(this.tmpapicondition.apiid=this.apiconditionapiList[i].id);Object(p.d)(this.tmpapicondition).then(function(e){t.conditionapicaseList=e.data}).catch(function(e){t.$message.error("加载apicase列表失败")})},updateapicondition:function(){var e=this;this.$refs.tmpapicondition.validate(function(t){t&&Object(V.d)(e.tmpapicondition).then(function(){e.$message.success("更新成功"),e.getapiconditionList(),e.caseconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removedelaycondition:function(e){var t=this;this.$confirm("删除该延时条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.delayconditionList[e].id;Object(O.b)(a).then(function(){t.$message.success("删除成功"),t.getdelayconditionList()})}).catch(function(){t.$message.info("已取消删除")})},removescriptcondition:function(e){var t=this;this.$confirm("删除该脚本条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.scriptconditionList[e].id;Object(D.c)(a).then(function(){t.$message.success("删除成功"),t.getscriptconditionList()})}).catch(function(){t.$message.info("已取消删除")})},removecaseapicondition:function(e){var t=this;this.$confirm("删除该前置条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.apiconditioncaseList[e].id;Object(V.b)(a).then(function(){t.$message.success("删除成功"),t.getapiconditionList()})}).catch(function(){t.$message.info("已取消删除")})},adddelaycondition:function(){var e=this;this.$refs.tmpdelaycondition.validate(function(t){t&&Object(O.a)(e.tmpdelaycondition).then(function(){e.$message.success("添加成功"),e.getdelayconditionList(),e.DelaydialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},addapicondition:function(){var e=this;this.$refs.tmpapicondition.validate(function(t){t&&Object(V.a)(e.tmpapicondition).then(function(){e.$message.success("添加成功"),e.caseconditiondialogFormVisible=!1,e.getapiconditionList()}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},adddbcondition:function(){var e=this;this.$refs.tmpdbcondition.validate(function(t){t&&Object(C.a)(e.tmpdbcondition).then(function(){e.$message.success("添加成功"),e.dbconditiondialogFormVisible=!1,e.getdbconditionList()}).catch(function(t){e.$message.error("添加失败")})})},addscriptcondition:function(){var e=this;this.$refs.tmpscriptcondition.validate(function(t){t&&Object(D.a)(e.tmpscriptcondition).then(function(){e.$message.success("添加成功"),e.getscriptconditionList(),e.scriptdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},updatescriptcondition:function(){var e=this;this.$refs.tmpscriptcondition.validate(function(t){t&&Object(D.e)(e.tmpscriptcondition).then(function(){e.$message.success("更新成功"),e.getscriptconditionList(),e.scriptdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},showAddscriptDialog:function(){this.scriptdialogFormVisible=!0,this.scriptdialogStatus="add",this.tmpscriptcondition.id="",this.tmpscriptcondition.subconditionname="",this.tmpscriptcondition.script="",this.tmpscriptcondition.creator=this.name,this.tmpscriptcondition.projectid=window.localStorage.getItem("pid")},AddcasedbconditionDialog:function(e){this.dbconditiondialogFormVisible=!0,this.dbdialogStatus="add",this.tmpdbcondition.id="",this.tmpdbcondition.enviromentid="",this.tmpdbcondition.enviromentname="",this.tmpdbcondition.assembleid="",this.tmpdbcondition.assemblename="",this.tmpdbcondition.subconditionname="",this.tmpdbcondition.dbtype="",this.tmpdbcondition.dbcontent="",this.tmpdbcondition.creator=this.name,this.tmpdbcondition.projectid=window.localStorage.getItem("pid")},showAddSceneCasedelayconditionDialog:function(){this.DelaydialogFormVisible=!0,this.DelaydialogStatus="add",this.tmpdelaycondition.id="",this.tmpdelaycondition.subconditionname="",this.tmpdelaycondition.conditionid=this.tmpapicondition.conditionid,this.tmpdelaycondition.conditionname=this.tmpapicondition.conditionname,this.tmpdelaycondition.conditiontype="scencecase",this.tmpdelaycondition.delaytime="",this.tmpdelaycondition.creator=this.name,this.tmpdelaycondition.projectid=window.localStorage.getItem("pid")},ShowAddcasecaseconditionDialog:function(e){this.caseconditiondialogFormVisible=!0,this.apiconditiondialogStatus="add",this.tmpapicondition.id="",this.tmpapicondition.subconditionname="",this.tmpapicondition.deployunitname="",this.tmpapicondition.apiname="",this.tmpapicondition.modelname="",this.tmpapicondition.casename="",this.tmpapicondition.memo="",this.tmpapicondition.creator=this.name,this.tmpapicondition.projectid=window.localStorage.getItem("pid")},getdbconditionList:function(){var e=this;Object(C.d)(this.searchdbcondition).then(function(t){e.dbconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载测试数据库条件列表失败")})},getapiconditionList:function(){var e=this;Object(V.c)(this.searchapicondition).then(function(t){e.apiconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载测试接口条件列表失败")})},getdelayconditionList:function(){var e=this;this.Scenedelaysearch.conditiontype="case",Object(O.d)(this.Scenedelaysearch).then(function(t){e.delayconditionList=t.data}).catch(function(t){e.$message.error("加载测试延时条件列表失败")})},getscriptconditionList:function(){var e=this;Object(D.d)(this.searchscriptcondition).then(function(t){e.scriptconditionList=t.data.list}).catch(function(t){e.$message.error("加载测试脚本条件列表失败")})},showtestcaseConditionDialog:function(){this.scenecaseConditionFormVisible=!0,this.getapiconditionList(),this.getdelayconditionList(),this.getdbconditionList(),this.getscriptconditionList()},creatorselectChanged:function(e){this.search.mid="全部"===e?null:this.accountId},removetestvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.ApicasesVariablesList[e].id;Object(u.d)(a).then(function(){t.$message.success("删除成功"),t.findtestvariablesbycaseid()})}).catch(function(){t.$message.info("已取消删除")})},updatetestvariables:function(){var e=this;this.$refs.tmptestvariables.validate(function(t){t&&Object(u.f)(e.tmptestvariables).then(function(){e.$message.success("更新成功"),e.findtestvariablesbycaseid(),e.caseaddvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},showUpdatetestvariablesDialog:function(e){this.caseaddvariablesdialogFormVisible=!0,this.caseaddvariablesdialogStatus="update",this.tmptestvariables.id=this.ApicasesVariablesList[e].id,this.tmptestvariables.testvariablesname=this.ApicasesVariablesList[e].testvariablesname,this.tmptestvariables.variablesdes=this.ApicasesVariablesList[e].variablesdes,this.tmptestvariables.testvariablestype=this.ApicasesVariablesList[e].testvariablestype,this.tmptestvariables.variablesexpress=this.ApicasesVariablesList[e].variablesexpress,this.tmptestvariables.tmptestvariables=this.ApicasesVariablesList[e].tmptestvariables,this.tmptestvariables.valuetype=this.ApicasesVariablesList[e].valuetype,this.tmptestvariables.memo=this.ApicasesVariablesList[e].memo,this.tmptestvariables.creator=this.name},showAddApicasesVariablesDialog:function(e){this.caseaddvariablesdialogFormVisible=!0,this.caseaddvariablesdialogStatus="add",this.tmptestvariables.id="",this.tmptestvariables.testvariablesname="",this.tmptestvariables.variablesdes="",this.tmptestvariables.testvariablestype="",this.tmptestvariables.variablesexpress="",this.tmptestvariables.memo="",this.tmptestvariables.valuetype="",this.tmptestvariables.tmptestvariables="",this.tmptestvariables.creator=this.name,this.tmptestvariables.projectid=window.localStorage.getItem("pid")},addtestvariables:function(){var e=this;this.$refs.tmptestvariables.validate(function(t){t&&Object(u.a)(e.tmptestvariables).then(function(){e.$message.success("添加成功"),e.caseaddvariablesdialogFormVisible=!1,e.findtestvariablesbycaseid()}).catch(function(t){e.$message.error("添加失败")})})},findtestvariablesbycaseid:function(){var e=this;Object(u.b)(this.searchapicasevariables).then(function(t){e.ApicasesVariablesList=t.data.list,e.apicasevariablestotal=t.data.total}).catch(function(t){e.$message.error("获取用例变量列表失败")})},handleClick:function(e,t){},change:function(){this.$forceUpdate()},removebatchapicase:function(){var e=this;this.$confirm("删除所选的用例？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){0===e.multipleSelection.length?e.$message.error("请选择需要删除的用例"):(console.log(e.multipleSelection),Object(p.k)(e.multipleSelection).then(function(){e.$message.success("批量删除成功"),e.getapicasesList()}).catch(function(t){e.$message.error("批量删除失败")}))}).catch(function(){e.$message.info("批量删除异常")})},getheaderdatabycaseidandtype:function(){var e=this,t={caseid:this.tmpapicases.id,propertytype:"Header"};Object(h.c)(t).then(function(t){e.Headertabledatas=t.data.list}).catch(function(t){e.$message.error("获取Header参数值失败")})},getparamdatabycaseidandtype:function(e){var t=this,a={caseid:this.tmpapicases.id,propertytype:"Params"};Object(h.c)(a).then(function(e){t.Paramstabledatas=e.data.list}).catch(function(e){t.$message.error("获取Params参数值失败")})},getbodydatabycaseidandtype:function(e){var t=this,a={caseid:this.tmpapicases.id,propertytype:"Body"};Object(h.c)(a).then(function(e){t.Bodytabledatas=e.data.list}).catch(function(e){t.$message.error("获取Body参数值失败")})},getbodytextdatabycaseidandtype:function(){var e=this,t={caseid:this.tmpapicases.id,propertytype:"Body"};Object(h.c)(t).then(function(t){console.log(t.data.list),console.log(33333333333),t.data.list.length>0?(e.tmpapicasesbodydata=t.data.list[0],console.log(1111111),console.log(e.tmpapicasesbodydata)):(console.log(2222),e.tmpapicasesbodydata.id="",e.tmpapicasesbodydata.apiparamvalue="")}).catch(function(t){e.$message.error("获取Body文本参数值失败")})},handleClickTableRow:function(e,t,a){},handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)},runprexchange:function(e){this.checked=e,this.tmptestdata.prixflag=e},funorperformChanged:function(e){"性能"===e?(this.threadloopvisible=!0,this.tmpapicases.threadnum="",this.tmpapicases.loops=""):(this.threadloopvisible=!1,this.tmpapicases.threadnum=1,this.tmpapicases.loops=1)},selectparamsChanged:function(e){this.getcaseparamsbytype(e)},EnviromentselectChanged:function(e){this.tmptest.respone="";for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmptestdata.enviromentid=this.enviromentnameList[t].id,this.tmpdbassert.envid=this.enviromentnameList[t].id)},dbassertEnviromentselectChanged:function(e){this.searchdbassert.assemblename=null,this.tmpdbassert.assemblename=null;for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpdbassert.envid=this.enviromentnameList[t].id,this.searchassemble.envid=this.enviromentnameList[t].id);this.findMacAndDepWithEnv()},asserttypeselectChanged:function(e){"Respone"===e?(this.ExpressionVisible=!1,this.AssertSubVisible=!0):(this.AssertSubVisible=!1,this.ExpressionVisible=!0),this.tmpassert.assertsubtype="",this.tmpassert.assertcondition="",this.tmpassert.expression="",this.tmpassert.assertvalues=""},getcaseparamsbytype:function(e){var t=this;if("Body"===e)console.log("Body的数据，如果没有用例值，则从参数中获取，如果有，则永远取用例中的数据"),this.HeaderandParamsVisible=!1,this.BodyVisible=!0,this.casevalue.apiid=this.apicasesList[this.caseindex].apiid,this.casevalue.caseid=this.apicasesList[this.caseindex].id,this.casevalue.propertytype=e,Object(h.b)(this.casevalue).then(function(e){t.tmpapicasesdata.keyname=e.data}).catch(function(e){t.$message.error()});else{this.HeaderandParamsVisible=!0,this.BodyVisible=!1,this.tmpcaseparamslist=null,this.paravaluemap;for(var a=0;a<this.caseparamsbytypelist.length;a++)this.caseparamsbytypelist[a].propertytype===e&&(this.tmpcaseparamslist=this.caseparamsbytypelist[a].keyname.split(","),this.casevalue.caseid=this.apicasesList[this.caseindex].id,this.casevalue.propertytype=e,Object(h.c)(this.casevalue).then(function(e){t.paraList=[],t.paravaluemap=new r.a;for(var a=0;a<e.data.list.length;a++)t.paravaluemap.set(e.data.list[a].apiparam,e.data.list[a].apiparamvalue);for(var i=0;i<t.tmpcaseparamslist.length;i++)t.paravaluemap.has(t.tmpcaseparamslist[i])?t.paraList.push(t.paravaluemap.get(t.tmpcaseparamslist[i])):t.paraList.push(""),console.log(t.paraList);null===t.paraList&&(t.paraList=new Array(t.tmpcaseparamslist.length))}).catch(function(e){t.$message.error()}))}},getenviromentallList:function(){var e=this;Object(m.c)(this.search).then(function(t){e.enviromentnameList=t.data}).catch(function(t){e.$message.error("加载环境列表失败")})},getglobalheaderallList:function(){var e=this;Object($.b)(this.search).then(function(t){e.globalheaderallList=t.data}).catch(function(t){e.$message.error("加载全局Header列表失败")})},getapicasesList:function(){var e=this;this.listLoading=!0,this.search.deployunitid=this.tmpdeployunitid,this.search.apiid=this.tmpapiid,this.search.casetype=this.tmpcasetype,this.search.casename=this.tmpcasename,this.search.path=this.tmppath,Object(p.o)(this.search).then(function(t){e.apicasesList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载用例列表失败")})},getassertbycaseid:function(){var e,t=this;(e=this.searchassert,Object(y.a)({url:"/apicases/assert/getassertbycaseid",method:"post",data:e})).then(function(e){t.assertList=e.data.list,t.asserttotal=e.data.total}).catch(function(e){t.$message.error("加载用例断言列表失败")})},getdbassertbycaseid:function(){var e=this;this.searchdbassert.enviroment=this.tmpdbassertenviromrnt,this.searchdbassert.assemblename=this.tmpdbasserttype,B(this.searchdbassert).then(function(t){e.dbassertList=t.data.list,e.dbasserttotal=t.data.total}).catch(function(t){e.$message.error("加载用例断言列表失败")})},getdbassertvaluebyid:function(){var e,t=this;this.searchdbassertvalue.fieldname=this.tmpfieldname,(e=this.searchdbassertvalue,Object(y.a)({url:"/apicases/dbassert/value/search",method:"post",data:e})).then(function(e){t.ApicasesdbassertvalueList=e.data.list,t.dbassertvaluetotal=e.data.total}).catch(function(e){t.$message.error("加载用例断言列表失败")})},searchdeployunitmodel:function(){var e=this;Object(S.c)(this.tmpmodelquery).then(function(t){e.modelList=t.data.list}).catch(function(t){e.$message.error("加载服务模块列表失败")})},selectChanged:function(e){var t=this;this.apiList=[],this.tmpapicases.apiname="",this.apiQuery.deployunitname=e,this.apiQuery.modelid=0,this.tmpapicases.modelname="";for(var a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===e&&(this.tmpapicases.deployunitid=this.deployunitList[a].id,this.apiQuery.deployunitid=this.deployunitList[a].id,this.tmpmodelquery.deployunitid=this.deployunitList[a].id);this.searchdeployunitmodel(),Object(b.d)(this.apiQuery).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")}),Object(f.b)(this.apiQuery).then(function(e){t.tmpprotocal=e.data.protocal,"http"===t.tmpprotocal||"https"===t.tmpprotocal?t.JmeterClassVisible=!1:(t.JmeterClassVisible=!0,t.tmpapicases.casejmxname="")}).catch(function(e){t.$message.error("加载微服务信息失败")})},modelselectChanged:function(e){for(var t=this,a=0;a<this.modelList.length;a++)this.modelList[a].modelname===e&&(this.apiQuery.modelid=this.modelList[a].id,this.tmpapicases.modelid=this.modelList[a].id);Object(b.d)(this.apiQuery).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},CopyCasesSourceDeployselectChanged:function(e){for(var t=this,a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===e&&(this.tmpcopycase.sourcedeployunitid=this.deployunitList[a].id);Object(p.f)(this.tmpcopycase).then(function(e){t.sourcetestcaseList=e.data}).catch(function(e){t.$message.error("根据微服务id获取用例列表失败")})},CopyBatchCasesSourceDeployselectChanged:function(e){for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.tmpbatchcopycase.sourcedeployunitid=this.deployunitList[t].id)},CopyBatchDesiCasesSourceDeployselectChanged:function(e){for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.tmpbatchcopycase.destinationdeployunitid=this.deployunitList[t].id)},CopySourceCasesChanged:function(e){for(var t=0;t<this.sourcetestcaseList.length;t++)this.sourcetestcaseList[t].casename===e&&(this.tmpcopycase.sourcecaseid=this.sourcetestcaseList[t].id)},apiselectChanged:function(e){this.apiSearchQuery.apiname=e;for(var t=0;t<this.apiList.length;t++)this.apiList[t].apiname===e&&(console.log(this.tmpapicases.apiid),this.tmpapicases.apiid=this.apiList[t].id)},deployunitselectChanged:function(e){this.apiList=null,this.search.deployunitid="",this.search.modelid="",this.search.modelname="",this.search.apiname="",this.search.apiid="",this.search.casetype="",this.apiQuery.deployunitid=0,this.apiQuery.deployunitname=e;for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.tmpapicases.deployunitid=this.deployunitList[t].id,this.apiQuery.deployunitid=this.deployunitList[t].id,this.search.deployunitid=this.deployunitList[t].id,this.tmpmodelquery.deployunitid=this.deployunitList[t].id);this.searchdeployunitmodel()},searchmodelselectChanged:function(e){var t=this;this.search.modelid=0;for(var a=0;a<this.modelList.length;a++)this.modelList[a].modelname===e&&(this.search.modelid=this.modelList[a].id);Object(b.d)(this.search).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},searchapiselectChanged:function(e){this.search.apiid="",console.log(e);for(var t=0;t<this.apiList.length;t++)this.apiList[t].apiname===e&&(this.search.apiid=this.apiList[t].id,console.log(this.search.apiid))},getdepunitLists:function(){var e=this;Object(f.e)(this.search).then(function(t){e.deployunitList=t.data}).catch(function(t){e.$message.error("加载微服务列表失败")})},searchBy:function(){var e=this;this.search.page=1,this.listLoading=!0,Object(p.o)(this.search).then(function(t){e.itemKey=Math.random(),e.apicasesList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("搜索失败")}),this.tmpdeployunitid=this.search.deployunitid,this.tmpapiid=this.search.apiid,this.tmpcasetype=this.search.casetype,this.tmpcasename=this.search.casename,this.tmppath=this.search.path},handleSizeChange:function(e){this.search.page=1,this.search.size=e,this.getapicasesList()},apicasevariableshandleSizeChange:function(e){this.searchapicasevariables.page=1,this.searchapicasevariables.size=e,this.findtestvariablesbycaseid()},dbvariableshandleSizeChange:function(e){this.searchdbvariables.page=1,this.searchdbvariables.size=e,this.getdbvariablesList()},scriptvariableshandleSizeChange:function(e){this.searchscriptvariables.page=1,this.searchscriptvariables.size=e,this.getscriptvariablesList()},handleCurrentChange:function(e){this.search.page=e,this.getapicasesList()},apicasevariableshandleCurrentChange:function(e){this.searchapicasevariables.page=e,this.findtestvariablesbycaseid()},dbvariableshandleCurrentChange:function(e){this.searchdbvariables.page=e,this.getdbvariablesList()},scriptvariableshandleCurrentChange:function(e){this.searchscriptvariables.page=e,this.getscriptvariablesList()},getIndex:function(e){return(this.search.page-1)*this.search.size+e+1},scriptvariablesgetIndex:function(e){return(this.searchscriptvariables.page-1)*this.searchscriptvariables.size+e+1},ApicasesVariablesgetIndex:function(e){return(this.searchapicasevariables.page-1)*this.searchapicasevariables.size+e+1},dbVariablesgetIndex:function(e){return(this.searchdbvariables.page-1)*this.searchdbvariables.size+e+1},searchassertBy:function(){var e,t=this;this.searchassert.page=1,this.searchassert.caseid=this.tmpassert.caseid,(e=this.searchassert,Object(y.a)({url:"/apicases/assert/search",method:"post",data:e})).then(function(e){t.assertitemKey=Math.random(),t.assertList=e.data.list,t.asserttotal=e.data.total}).catch(function(e){t.$message.error("搜索失败")}),this.tmpasserttype=this.searchassert.asserttype},searchdbassertBy:function(){var e=this;this.searchdbassert.page=1,B(this.searchdbassert).then(function(t){e.dbassertitemKey=Math.random(),e.dbassertList=t.data.list,e.dbasserttotal=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.tmpdbasserttype=this.searchdbassert.assemblename,this.tmpdbassertenviromrnt=this.searchdbassert.enviroment},asserthandleSizeChange:function(e){this.searchassert.page=1,this.searchassert.size=e,this.getassertbycaseid(this.tmpassert)},dbasserthandleSizeChange:function(e){this.searchdbassert.page=1,this.searchdbassert.size=e,this.getdbassertbycaseid()},dbassertvaluehandleSizeChange:function(e){this.searchdbassertvalue.page=1,this.searchdbassertvalue.size=e,this.getdbassertvaluebyid()},asserthandleCurrentChange:function(e){this.searchassert.page=e,this.getassertbycaseid(this.tmpassert)},dbasserthandleCurrentChange:function(e){this.searchdbassert.page=e,this.getdbassertbycaseid(this.tmpassert)},dbassertvaluehandleCurrentChange:function(e){this.searchdbassertvalue.page=e,this.getdbassertvaluebyid()},assertgetIndex:function(e){return(this.searchassert.page-1)*this.searchassert.size+e+1},dbassertgetIndex:function(e){return(this.searchdbassert.page-1)*this.searchdbassert.size+e+1},ApicasesdbassertvaluegetIndex:function(e){return(this.searchdbassertvalue.page-1)*this.searchdbassertvalue.size+e+1},showAddapicasesDialog:function(){this.dialogFormVisible=!0,this.dialogStatus="add",this.tmpapicases.id="",this.tmpapicases.casename="",this.tmpapicases.apiname="",this.tmpapicases.casetype="",this.tmpapicases.deployunitname="",this.tmpapicases.casejmxname="",this.tmpapicases.casecontent="",this.tmpapicases.expect="",this.tmpapicases.middleparam="",this.tmpapicases.level=0,this.tmpapicases.memo="",this.tmpapicases.creator=this.nickname,this.tmpapicases.creatorid=this.accountId,this.tmpapicases.projectid=window.localStorage.getItem("pid"),this.tmpapicases.modelid="",this.tmpapicases.modelname="",this.tmpapicases.mid="",this.tmpapicases.mnickname="",this.apiQuery.modelid=0,console.log(this.name)},showAddassertDialog:function(){this.AssertdialogStatus="add",this.AssertAUdialogFormVisible=!0,this.tmpassert.id="",this.tmpassert.assertcondition="",this.tmpassert.assertsubtype="",this.tmpassert.asserttype="",this.tmpassert.assertvalues="",this.tmpassert.expression="",this.tmpassert.assertvaluetype="",this.tmpassert.creator=this.name},showAdddbassertDialog:function(){this.dbAssertdialogStatus="add",this.dbAssertAUdialogFormVisible=!0,this.tmpdbassert.id="",this.tmpdbassert.enviroment="",this.tmpdbassert.envid="",this.tmpdbassert.assembleid="",this.tmpdbassert.assemblename="",this.tmpdbassert.expectrecordsnums=null,this.tmpdbassert.expression="",this.tmpdbassert.creator=this.name},showAddApicasesdbassertvalueDialog:function(){this.dbAssertvaluedialogStatus="add",this.dbassertvalueDialogFormVisible=!0,this.tmpdbassertvalue.id="",this.tmpdbassertvalue.expectvalue="",this.tmpdbassertvalue.valuetype="",this.tmpdbassertvalue.roworder="",this.tmpdbassertvalue.fieldname="",this.tmpdbassertvalue.assertcondition="",this.tmpdbassertvalue.creator=this.name},showCopyapicasesDialog:function(){this.CopydialogFormVisible=!0,this.tmpcopycase.newcasename="",this.tmpcopycase.sourcedeployunitname="",this.tmpcopycase.sourcecasename="",this.tmpcopycase.sourcedeployunitid="",this.tmpcopycase.sourcecaseid=""},showCopyBatchapicasesDialog:function(){this.CopybatchdialogFormVisible=!0,this.tmpbatchcopycase.destinationdeployunitid="",this.tmpbatchcopycase.sourcedeployunitname="",this.tmpbatchcopycase.destinationdeployunitname="",this.tmpbatchcopycase.sourcedeployunitid=""},showBatchAssertDialog:function(){this.BatchAssertdialogFormVisible=!0,this.tmpbatchassert.assertvaluetype="",this.tmpbatchassert.expression="",this.tmpbatchassert.assertcondition="",this.tmpbatchassert.assertvalues="",this.tmpbatchassert.asserttype="",this.tmpbatchassert.caseid="",this.tmpbatchassert.creator="",this.tmpbatchassert.assertsubtype=""},addbatchassert:function(){var e,t=this;if(this.testcasebatchassertList=[],0===this.multipleSelection.length)this.$message.error("请选择需要断言的用例");else{for(var a=0;a<this.multipleSelection.length;a++)this.testcasebatchassertList.push({asserttype:this.tmpbatchassert.asserttype,assertsubtype:this.tmpbatchassert.assertsubtype,assertvalues:this.tmpbatchassert.assertvalues,expression:this.tmpbatchassert.expression,assertcondition:this.tmpbatchassert.assertcondition,assertvaluetype:this.tmpbatchassert.assertvaluetype,caseid:this.multipleSelection[a].id,creator:this.name});(e=this.testcasebatchassertList,Object(y.a)({url:"/apicases/batchassertapicase",method:"post",data:e})).then(function(){t.getapicasesList(),t.$message.success("添加成功"),t.BatchAssertdialogFormVisible=!1}).catch(function(e){t.$message.error("添加失败")})}},copycases:function(){var e=this;this.$refs.tmpcopycase.validate(function(t){t&&(e.btnLoading=!0,Object(p.c)(e.tmpcopycase).then(function(){e.$message.success("复制成功"),e.getapicasesList(),e.CopydialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("复制失败"),e.btnLoading=!1}))})},copybatchcases:function(){var e=this;this.$refs.tmpbatchcopycase.validate(function(t){t&&Object(p.b)(e.tmpbatchcopycase).then(function(){e.$message.success("批量复制成功"),e.getapicasesList(),e.CopybatchdialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("批量复制失败"),e.btnLoading=!1})})},addapicases:function(){var e=this;this.$refs.tmpapicases.validate(function(t){t&&(e.btnLoading=!0,e.tmpapicases.expect=e.tmpapicases.expect.trim(),"http"!==e.tmpprotocal&&"https"!==e.tmpprotocal||(e.tmpapicases.casejmxname="httpapi"),Object(p.a)(e.tmpapicases).then(function(){e.$message.success("添加成功"),e.getapicasesList(),e.dialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},addassert:function(){var e=this;this.$refs.tmpassert.validate(function(t){var a;t&&(a=e.tmpassert,Object(y.a)({url:"/apicases/assert",method:"post",data:a})).then(function(){e.$message.success("添加断言成功"),e.searchassert.caseid=e.tmpassert.caseid,e.getassertbycaseid(e.searchassert),e.AssertAUdialogFormVisible=!1}).catch(function(t){e.$message.error("添加断言失败")})})},adddbassert:function(){var e=this;this.$refs.tmpdbassert.validate(function(t){var a;t&&(a=e.tmpdbassert,Object(y.a)({url:"/apicases/dbassert",method:"post",data:a})).then(function(){e.$message.success("添加断言成功"),e.getdbassertbycaseid(e.searchdbassert),e.dbAssertAUdialogFormVisible=!1}).catch(function(t){e.$message.error("添加断言失败")})})},adddbassertvalue:function(){var e=this;this.$refs.tmpdbassertvalue.validate(function(t){var a;t&&(a=e.tmpdbassertvalue,Object(y.a)({url:"/apicases/dbassert/value",method:"post",data:a})).then(function(){e.$message.success("添加断言成功"),e.getdbassertvaluebyid(),e.dbassertvalueDialogFormVisible=!1}).catch(function(t){e.$message.error("添加断言失败")})})},runtest:function(){var e=this;this.$refs.tmptest.validate(function(t){t&&Object(p.n)(e.tmptestdata).then(function(t){e.tmptest.general="1.请求地址："+t.data.responeGeneral.url+"\n2.协议："+t.data.responeGeneral.protocal+"\n3.请求风格："+t.data.responeGeneral.apistyle+"\n4.请求方法："+t.data.responeGeneral.method,e.tmptest.requestdata=t.data.responeGeneral.postData,e.headerList=t.data.headerList,e.cookies=t.data.cookies,e.requestHeadList=t.data.requestHeadList,e.requestParamsList=t.data.requestParamsList,e.tmptest.respone=t.data.responeContent,e.tmptest.code=t.data.responeCode,e.tmptest.responeTime=t.data.responeTime,e.tmptest.size=t.data.size}).catch(function(t){e.$message.error("调试失败")})})},addapicasesdata:function(){var e=this;this.tmpapicasesdata.casedataMap=[],this.$refs.tmpapicasesdata.validate(function(t){if(t){if("Body"===e.tmpapicasesdata.propertytype){var a={caseid:e.apicasesList[e.caseindex].id,casename:e.apicasesList[e.caseindex].casename,apiparam:"Body",apiparamvalue:e.tmpapicasesdata.keyname,propertytype:e.tmpapicasesdata.propertytype,memo:"memo"};e.tmpapicasesdata.casedataMap.push(a),console.log("处理Body")}else{console.log("处理Header，Params");for(var i=0;i<e.tmpcaseparamslist.length;i++)for(var s=0;s<e.paraList.length;s++)if(i===s){var n={caseid:e.apicasesList[e.caseindex].id,casename:e.apicasesList[e.caseindex].casename,apiparam:e.tmpcaseparamslist[i],apiparamvalue:e.paraList[s],propertytype:e.tmpapicasesdata.propertytype,memo:"memo"};e.tmpapicasesdata.casedataMap.push(n)}}Object(h.a)(e.tmpapicasesdata).then(function(){e.$message.success("添加成功"),e.btnLoading=!1,e.paramdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})}})},addnewapicasesdata:function(){var e=this;return o()(s.a.mark(function t(){var a,i,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=0;a<e.Headertabledatas.length;a++)e.Headertabledatas[a].mid=e.accountId;for(e.updateHeaderpropertydata(e.Headertabledatas),i=0;i<e.Paramstabledatas.length;i++)e.Paramstabledatas[i].mid=e.accountId;return e.updateHeaderpropertydata(e.Paramstabledatas),t.next=6,e.getapi();case 6:if("Form表单"===e.tmpapi.requestcontenttype){for(n=0;n<e.Bodytabledatas.length;n++)e.Bodytabledatas[n].mid=e.accountId;e.updateHeaderpropertydata(e.Bodytabledatas)}else e.updateapicasesdata();e.$message.success("保存成功"),e.casedataialogFormVisible=!1;case 9:case"end":return t.stop()}},t,e)}))()},updateapicasesdata:function(){var e=this;this.tmpapicasesbodydata.apiparam="Body",this.tmpapicasesbodydata.paramstype=this.tmpapi.requestcontenttype,this.tmpapicasesbodydata.propertytype="Body",this.tmpapicasesbodydata.mid=this.accountId,Object(h.d)(this.tmpapicasesbodydata).then(function(e){}).catch(function(t){e.$message.error("更新用例Body值失败")})},updateHeaderpropertydata:function(e){var t=this;Object(h.e)(e).then(function(e){}).catch(function(e){t.$message.error("更新用例Header,Params值失败")})},showUpdateapicasesDialog:function(e){var t=this;this.dialogFormVisible=!0,this.dialogStatus="update",this.tmpapicases.id=this.apicasesList[e].id,this.tmpapicases.casename=this.apicasesList[e].casename,this.tmpapicases.apiname=this.apicasesList[e].apiname,this.tmpapicases.apiid=this.apicasesList[e].apiid,this.tmpapicases.casetype=this.apicasesList[e].casetype,this.tmpapicases.deployunitname=this.apicasesList[e].deployunitname,this.tmpapicases.deployunitid=this.apicasesList[e].deployunitid,this.tmpapicases.casejmxname=this.apicasesList[e].casejmxname,this.tmpapicases.casecontent=this.apicasesList[e].casecontent,this.tmpapicases.expect=this.apicasesList[e].expect,this.tmpapicases.middleparam=this.apicasesList[e].middleparam,this.tmpapicases.level=this.apicasesList[e].level,this.tmpapicases.memo=this.apicasesList[e].memo,this.tmpapicases.loops=this.apicasesList[e].loops,this.tmpapicases.modelid=this.apicasesList[e].modelid,this.tmpapicases.modelname=this.apicasesList[e].modelname,this.tmpapicases.creator=this.apicasesList[e].creator,this.tmpapicases.mid=this.apicasesList[e].mid,this.tmpapicases.creatorid=this.accountId,this.tmpapicases.mnickname=this.apicasesList[e].mnickname,this.tmpapicases.projectid=window.localStorage.getItem("pid"),"性能"===this.tmpapicases.casetype?(this.threadloopvisible=!0,this.tmpapicases.threadnum=this.apicasesList[e].threadnum):(this.threadloopvisible=!1,this.tmpapicases.threadnum=1),this.apiList=[],this.apiQuery.deployunitname=this.apicasesList[e].deployunitname,this.apiQuery.modelid=0;for(var a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===this.apicasesList[e].deployunitname&&(this.apiQuery.deployunitid=this.deployunitList[a].id,this.tmpmodelquery.deployunitid=this.deployunitList[a].id);this.searchdeployunitmodel(),Object(b.d)(this.apiQuery).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},getapi:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.c)(e.tmpapicases.apiid).then(function(t){e.tmpapi=t.data}).catch(function(t){e.$message.error("获取api失败")});case 2:case"end":return t.stop()}},t,e)}))()},showcasedataDialog:function(e){var t=this;return o()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.activeName="zero",t.casedataialogFormVisible=!0,t.tmpapicases.casename=t.apicasesList[e].casename,t.tmpapicases.id=t.apicasesList[e].id,t.tmpapicases.apiid=t.apicasesList[e].apiid,t.tmpapicasesbodydata.caseid=t.apicasesList[e].id,t.tmpapicasesbodydata.casename=t.apicasesList[e].casename,t.getheaderdatabycaseidandtype(),t.getparamdatabycaseidandtype(),a.next=11,t.getapi();case 11:"Form表单"===t.tmpapi.requestcontenttype?(t.BodyParamDataVisible=!0,t.BodyDataVisible=!1,t.getbodydatabycaseidandtype()):(t.BodyDataVisible=!0,t.BodyParamDataVisible=!1,t.getbodytextdatabycaseidandtype());case 12:case"end":return a.stop()}},a,t)}))()},showUpdateapicasesparamsDialog:function(e){var t=this;this.BodyVisible=!1,this.tmpapicasesdata.keyname="",this.tmpapicasesdata.caseid=this.apicasesList[e].id,this.tmpapicases.casename=this.apicasesList[e].casename,this.tmpapicases.deployunitname=this.apicasesList[e].deployunitname,this.tmpapicases.apiname=this.apicasesList[e].apiname,this.caseindex=e,this.tmpcaseparamslist=null,this.tmpapicasesdata.propertytype=null,this.caseparamtypelist=null,this.paramdialogFormVisible=!0,Object(v.d)(this.tmpapicases).then(function(e){t.caseparamsbytypelist=e.data.list,t.caseparamtypelist=t.caseparamsbytypelist,console.log(t.caseparamtypelist)}).catch(function(e){t.$message.error()})},showUpdateapicasesassertDialog:function(e){this.AssertdialogStatus="update",this.AssertAUdialogFormVisible=!0,this.tmpassert.id=this.assertList[e].id,this.tmpassert.asserttype=this.assertList[e].asserttype,this.tmpassert.assertsubtype=this.assertList[e].assertsubtype,this.tmpassert.expression=this.assertList[e].expression,this.tmpassert.assertcondition=this.assertList[e].assertcondition,this.tmpassert.assertvalues=this.assertList[e].assertvalues,this.tmpassert.assertvaluetype=this.assertList[e].assertvaluetype,this.tmpassert.creator=this.name,"Respone"===this.tmpassert.asserttype?(this.ExpressionVisible=!1,this.AssertSubVisible=!0):(this.AssertSubVisible=!1,this.ExpressionVisible=!0)},showUpdateapicasesdbassertDialog:function(e){this.dbAssertdialogStatus="update",this.dbAssertAUdialogFormVisible=!0,this.tmpdbassert.id=this.dbassertList[e].id,this.tmpdbassert.assemblename=this.dbassertList[e].assemblename,this.tmpdbassert.envid=this.dbassertList[e].envid,this.tmpdbassert.assembleid=this.dbassertList[e].assembleid,this.tmpdbassert.enviroment=this.dbassertList[e].enviroment,this.tmpdbassert.expression=this.dbassertList[e].expression,this.tmpdbassert.expectrecordsnums=this.dbassertList[e].expectrecordsnums,this.tmpdbassert.creator=this.name},showUpdatedbassertvalueDialog:function(e){this.dbAssertvaluedialogStatus="update",this.dbassertvalueDialogFormVisible=!0,this.tmpdbassertvalue.id=this.ApicasesdbassertvalueList[e].id,this.tmpdbassertvalue.fieldname=this.ApicasesdbassertvalueList[e].fieldname,this.tmpdbassertvalue.roworder=this.ApicasesdbassertvalueList[e].roworder,this.tmpdbassertvalue.valuetype=this.ApicasesdbassertvalueList[e].valuetype,this.tmpdbassertvalue.assertcondition=this.ApicasesdbassertvalueList[e].assertcondition,this.tmpdbassertvalue.expectvalue=this.ApicasesdbassertvalueList[e].expectvalue,this.tmpdbassertvalue.memo=this.ApicasesdbassertvalueList[e].memo,this.tmpdbassertvalue.creator=this.name},showAssertDialog:function(e){this.assertactiveName="zero",this.tmpapicases.id=this.apicasesList[e].id,this.tmpassert.caseid=this.tmpapicases.id,this.tmpdbassert.caseid=this.apicasesList[e].id,this.searchassert.caseid=this.tmpassert.caseid,this.searchdbassert.caseid=this.apicasesList[e].id,this.getassertbycaseid(this.searchassert),this.getdbassertbycaseid(this.searchdbassert),this.AssertdialogFormVisible=!0,this.searchassert.asserttype=""},showTestDialog:function(e){this.tmptestdata.caseid=this.apicasesList[e].id,this.tmptestdata.conditionid=this.tmptest.conditionid,this.tmptestdata.globalheaderid=this.tmptest.globalheaderid,this.checked=!1,this.tmptestdata.prixflag=this.checked,this.tmpapicases.casename=this.apicasesList[e].casename,this.activeName="zero",this.tmptest.globalheaderid=0,this.tmptest.conditionid=0,this.tmptest.globalheadername="",this.tmptest.conditionname="",this.tmptest.general="",this.headerList=null,this.cookies=null,this.requestHeadList=null,this.tmptest.size="",this.tmptest.code="",this.tmptest.responeTime="",this.tmptest.enviromentname="",this.tmptest.respone="",this.TestdialogFormVisible=!0,this.tmpapicondition.conditionid=this.apicasesList[e].id,this.tmpapicondition.conditionname=this.apicasesList[e].casename,this.tmpapicondition.conditiontype="case",this.searchapicondition.conditiontype="case",this.searchapicondition.conditionid=this.apicasesList[e].id,this.searchdbcondition.conditiontype="case",this.searchdbcondition.conditionid=this.apicasesList[e].id,this.tmpdbcondition.conditionid=this.apicasesList[e].id,this.tmpdbcondition.conditionname=this.apicasesList[e].casename,this.tmpdbcondition.conditiontype="case",this.Scenedelaysearch.conditionid=this.apicasesList[e].id,this.tmpscriptcondition.conditionid=this.apicasesList[e].id,this.tmpscriptcondition.conditionname=this.apicasesList[e].casename,this.tmpscriptcondition.conditiontype="case",this.searchscriptcondition.conditiontype="case",this.searchscriptcondition.conditionid=this.apicasesList[e].id},showCaseVariablesDialog:function(e){this.caseVariablesDialogFormVisible=!0,this.tmptestvariables.caseid=this.apicasesList[e].id,this.tmptestvariables.casename=this.apicasesList[e].casename,this.findtestvariablesbycaseid()},showCaseVariablesforConditionDialog:function(e){this.caseVariablesDialogFormVisible=!0,this.tmptestvariables.caseid=this.apiconditioncaseList[e].caseid,this.tmptestvariables.casename=this.apiconditioncaseList[e].casename,this.findtestvariablesbycaseid()},showpreconditionDialog:function(){this.multipleSelection.length>1?this.$message.error("不支持多个用例一起设置条件，选择单个设置"):(this.preconditiondialogFormVisible=!0,this.tmpapicases.id=this.multipleSelection[0].id)},updateapicases:function(){var e=this;this.$refs.tmpapicases.validate(function(t){t&&(e.tmpapicases.expect=e.tmpapicases.expect.trim(),"http"!==e.tmpprotocal&&"https"!==e.tmpprotocal||(e.tmpapicases.casejmxname="httpapi"),Object(p.q)(e.tmpapicases).then(function(){e.$message.success("更新成功"),e.getapicasesList(),e.dialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")}))})},updateassert:function(){var e=this;this.$refs.tmpassert.validate(function(t){var a;t&&(a=e.tmpassert,Object(y.a)({url:"/apicases/assert/detail",method:"put",data:a})).then(function(){e.$message.success("更新成功"),e.getassertbycaseid(),e.AssertAUdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},updatedbassert:function(){var e=this;this.$refs.tmpdbassert.validate(function(t){var a;t&&(a=e.tmpdbassert,Object(y.a)({url:"/apicases/dbassert/detail",method:"put",data:a})).then(function(){e.$message.success("更新成功"),e.getdbassertbycaseid(),e.dbAssertAUdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},updatedbassertvalue:function(){var e=this;this.$refs.tmpdbassertvalue.validate(function(t){var a;t&&(a=e.tmpdbassertvalue,Object(y.a)({url:"/apicases/dbassert/value/detail",method:"put",data:a})).then(function(){e.$message.success("更新成功"),e.getdbassertvaluebyid(),e.dbassertvalueDialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removeapicases:function(e){var t=this;this.$confirm("删除该用例？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.apicasesList[e].id;Object(p.j)(a).then(function(){t.$message.success("删除成功"),t.getapicasesList()})}).catch(function(){t.$message.info("已取消删除")})},removeapicasesassert:function(e){var t=this;this.$confirm("删除该用例断言？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a,i=t.assertList[e].id;(a=i,Object(y.a)({url:"/apicases/assert/"+a,method:"delete"})).then(function(){t.$message.success("删除成功"),t.getassertbycaseid()})}).catch(function(){t.$message.info("已取消删除")})},removeapicasesdbassert:function(e){var t=this;this.$confirm("删除该用例断言？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a,i=t.dbassertList[e].id;(a=i,Object(y.a)({url:"/apicases/dbassert/"+a,method:"delete"})).then(function(){t.$message.success("删除成功"),t.getdbassertbycaseid()})}).catch(function(){t.$message.info("已取消删除")})},removedbassertvalue:function(e){var t=this;this.$confirm("删除该用例断言？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a,i=t.ApicasesdbassertvalueList[e].id;(a=i,Object(y.a)({url:"/apicases/dbassert/value/"+a,method:"delete"})).then(function(){t.$message.success("删除成功"),t.getdbassertvaluebyid()})}).catch(function(){t.$message.info("已取消删除")})},isUniqueDetail:function(e){for(var t=0;t<this.apicasesList.length;t++)if(this.apicasesList[t].id!==e.id&&this.apicasesList[t].deployunitname===e.deployunitname&&this.apicasesList[t].apiname===e.apiname&&this.apicasesList[t].casename===e.casename)return this.$message.error("用例名已存在"),!1;return!0},showAddapicasesconditionnotexistDialog:function(){this.casedebugconditionnotexistdialogFormVisible=!0,this.casenotexisttotal=0,this.apicasesnotexistList="",this.searchnotexistcase.conditionname="",this.searchnotexistcase.deployunitname=""},showGlobalHeadernotexistDialog:function(){this.caseglobalheadernotexistdialogFormVisible=!0,this.apicasesheadernotexistList="",this.headercasenotexisttotal=0,this.searchglobalnotexistheadercase.globalheadername="",this.searchglobalnotexistheadercase.deployunitname=""},showGlobalHeaderexistDialog:function(){this.caseglobalheaderexistdialogFormVisible=!0,this.apicasesheaderexistList="",this.headercaseexisttotal=0,this.searchglobalheadercase.globalheadername="",this.searchglobalheadercase.deployunitname=""},showdeleteapicasesconditionnotexistDialog:function(){this.casedebugconditionexistdialogFormVisible=!0,this.caseexisttotal=0,this.apicasesexistList="",this.searchexistcase.conditionname="",this.searchexistcase.deployunitname=""},casenotexisthandleClickTableRow:function(e,t,a){console.log(e)},casenotexisthandleSelectionChange:function(e){this.notexistcasemultipleSelection=e},headercasenotexisthandleSelectionChange:function(e){this.headernotexistcasemultipleSelection=e},headercaseexisthandleSelectionChange:function(e){this.headerexistcasemultipleSelection=e},caseexisthandleClickTableRow:function(e,t,a){console.log(e)},caseexisthandleSelectionChange:function(e){this.existcasemultipleSelection=e},addheadercasesdebug:function(){var e=this;if(this.testcaseList=[],0===this.headernotexistcasemultipleSelection.length)this.$message.error("请选择添加的用例");else{for(var t=0;t<this.headernotexistcasemultipleSelection.length;t++)this.testcaseList.push({globalheaderid:this.searchglobalnotexistheadercase.globalheaderid,globalheadername:this.searchglobalnotexistheadercase.globalheadername,deployunitname:this.searchglobalnotexistheadercase.deployunitname,deployunitid:this.searchglobalnotexistheadercase.deployunitid,testcasename:this.headernotexistcasemultipleSelection[t].testcasename,testcaseid:this.headernotexistcasemultipleSelection[t].id,execplanid:0});Object(_.b)(this.testcaseList).then(function(){e.getheadercasenotexistList(),e.$message.success("添加成功")}).catch(function(t){e.$message.error("添加失败")})}},adddebugconditiontestcase:function(){var e,t=this;if(this.testcaseList=[],0===this.notexistcasemultipleSelection.length)this.$message.error("请选择添加条件的用例");else{for(var a=0;a<this.notexistcasemultipleSelection.length;a++)this.testcaseList.push({conditionid:this.searchnotexistcase.conditionid,deployunitid:this.searchnotexistcase.deployunitid,conditionname:this.searchnotexistcase.conditionname,deployunitname:this.searchnotexistcase.deployunitname,casename:this.notexistcasemultipleSelection[a].casename,caseid:this.notexistcasemultipleSelection[a].id,creator:this.name});(e=this.testcaseList,Object(y.a)({url:"/apicases/debug/condition/addcases",method:"post",data:e})).then(function(){t.getcasenotexistconditionList(),t.$message.success("添加成功")}).catch(function(e){t.$message.error("添加失败")})}},delatedebugconditiontestcase:function(){var e,t=this;if(this.testcaseList=[],0===this.existcasemultipleSelection.length)this.$message.error("请选择添加条件的用例");else{for(var a=0;a<this.existcasemultipleSelection.length;a++)this.testcaseList.push({conditionid:this.searchexistcase.conditionid,deployunitid:this.searchexistcase.deployunitid,conditionname:this.searchexistcase.conditionname,deployunitname:this.searchexistcase.deployunitname,casename:this.existcasemultipleSelection[a].casename,caseid:this.existcasemultipleSelection[a].caseid,creator:this.name});(e=this.testcaseList,Object(y.a)({url:"/apicases/debug/condition/deletacases",method:"post",data:e})).then(function(){t.getcaseexistconditionList(),t.$message.success("取消成功")}).catch(function(e){t.$message.error("取消失败")})}},deleteheadercase:function(){var e=this;if(this.testcaseList=[],0===this.headerexistcasemultipleSelection.length)this.$message.error("请选择取消的用例");else{for(var t=0;t<this.headerexistcasemultipleSelection.length;t++)this.testcaseList.push({globalheaderid:this.searchglobalheadercase.globalheaderid,globalheadername:this.searchglobalheadercase.globalheadername,deployunitname:this.searchglobalheadercase.deployunitname,deployunitid:this.searchglobalheadercase.deployunitid,testcasename:this.headerexistcasemultipleSelection[t].testcasename,testcaseid:this.headerexistcasemultipleSelection[t].testcaseid,execplanid:0});Object(_.c)(this.testcaseList).then(function(){e.getheadercaseexistList(),e.$message.success("取消成功")}).catch(function(t){e.$message.error("取消失败")})}},getalltestcondition:function(){var e=this;this.tmpconditionquery.objecttype="测试集合",Object(k.b)(this.tmpconditionquery).then(function(t){e.conditionList=t.data,e.casenotexisttotal=t.data.total}).catch(function(t){e.$message.error("加载条件列表失败")})},notexistconditionnameselectChanged:function(e){if("请选择"===e)this.tmptestdata.conditionid=0;else for(var t=0;t<this.conditionList.length;t++)this.conditionList[t].conditionname===e&&(this.searchnotexistcase.conditionid=this.conditionList[t].id,this.tmptestdata.conditionid=this.conditionList[t].id)},existconditionnameselectChanged:function(e){for(var t=0;t<this.conditionList.length;t++)this.conditionList[t].conditionname===e&&(this.searchexistcase.conditionid=this.conditionList[t].id)},notexistheaderselectChanged:function(e){if("请选择"===e)this.tmptestdata.globalheaderid=0;else for(var t=0;t<this.globalheaderallList.length;t++)this.globalheaderallList[t].globalheadername===e&&(this.searchglobalnotexistheadercase.globalheaderid=this.globalheaderallList[t].id,this.tmptestdata.globalheaderid=this.globalheaderallList[t].id)},existheaderselectChanged:function(e){for(var t=0;t<this.globalheaderallList.length;t++)this.globalheaderallList[t].globalheadername===e&&(this.searchglobalheadercase.globalheaderid=this.globalheaderallList[t].id)},notexistdeployunitnameselectChanged:function(e){for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.searchnotexistcase.deployunitid=this.deployunitList[t].id,this.searchglobalnotexistheadercase.deployunitid=this.deployunitList[t].id)},existdeployunitnameselectChanged:function(e){for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.searchexistcase.deployunitid=this.deployunitList[t].id,this.searchglobalheadercase.deployunitid=this.deployunitList[t].id,console.log(this.searchglobalheadercase))},getcasenotexistconditionList:function(){var e=this;this.searchnotexistcase.conditionid=this.tmpnotexistconditionid,this.searchnotexistcase.deployunitid=this.tmpnotexistdeployunitid,w(this.searchnotexistcase).then(function(t){e.apicasesnotexistList=t.data.list,e.casenotexisttotal=t.data.total}).catch(function(t){e.$message.error("获取未添加条件用例失败")})},searchnotexistcaseBy:function(){var e=this;this.searchnotexistcase.page=1,console.log(this.searchnotexistcase),this.$refs.searchnotexistcase.validate(function(t){t&&(w(e.searchnotexistcase).then(function(t){e.casenotexistKey=Math.random(),e.apicasesnotexistList=t.data.list,e.casenotexisttotal=t.data.total}).catch(function(t){e.$message.error("获取未添加条件用例失败")}),e.tmpnotexistdeployunitid=e.searchnotexistcase.deployunitid,e.tmpnotexistconditionid=e.searchnotexistcase.conditionid)})},searchheadernotexist:function(){var e=this;this.searchglobalnotexistheadercase.page=1,this.$refs.searchglobalnotexistheadercase.validate(function(t){t&&(Object(_.g)(e.searchglobalnotexistheadercase).then(function(t){e.headercasenotexistKey=Math.random(),e.apicasesheadernotexistList=t.data.list,e.headercasenotexisttotal=t.data.total}).catch(function(t){e.$message.error("获取未添加header用例失败")}),e.tmpnotexistglobalheaderid=e.searchglobalnotexistheadercase.globalheaderid,e.tmpnotexistheaderdeployunitid=e.searchglobalnotexistheadercase.deployunitid)})},searchheaderexist:function(){var e=this;this.searchglobalheadercase.page=1,this.$refs.searchglobalheadercase.validate(function(t){t&&(Object(_.f)(e.searchglobalheadercase).then(function(t){e.headercaseexistKey=Math.random(),e.apicasesheaderexistList=t.data.list,e.headercaseexisttotal=t.data.total}).catch(function(t){e.$message.error("获取添加header用例失败")}),e.tmpexistglobalheaderid=e.searchglobalheadercase.globalheaderid,e.tmpexistheaderdeployunitid=e.searchglobalheadercase.deployunitid)})},getheadercaseexistList:function(){var e=this;this.searchglobalheadercase.globalheaderid=this.tmpexistglobalheaderid,this.searchglobalheadercase.deployunitid=this.tmpexistheaderdeployunitid,Object(_.f)(this.searchglobalheadercase).then(function(t){e.apicasesheaderexistList=t.data.list,e.headercaseexisttotal=t.data.total}).catch(function(t){e.$message.error("获取添加header用例失败")})},getheadercasenotexistList:function(){var e=this;this.searchglobalnotexistheadercase.globalheaderid=this.tmpnotexistglobalheaderid,this.searchglobalnotexistheadercase.deployunitid=this.tmpnotexistheaderdeployunitid,Object(_.g)(this.searchglobalnotexistheadercase).then(function(t){e.apicasesheadernotexistList=t.data.list,e.headercasenotexisttotal=t.data.total}).catch(function(t){e.$message.error("获取未添加header用例失败")})},casenotexisthandleSizeChange:function(e){console.log(e),this.searchnotexistcase.page=1,this.searchnotexistcase.size=e,this.getcasenotexistconditionList()},caseexisthandleSizeChange:function(e){this.searchexistcase.page=1,this.searchexistcase.search.size=e,this.getcaseexistconditionList()},headercasenotexisthandleSizeChange:function(e){this.searchglobalnotexistheadercase.page=1,this.searchglobalnotexistheadercase.size=e,this.getheadercasenotexistList()},headercaseexisthandleSizeChange:function(e){this.searchglobalheadercase.page=1,this.searchglobalheadercase.size=e,this.getheadercaseexistList()},caseexisthandleCurrentChange:function(e){this.searchexistcase.page=e,this.getcaseexistconditionList()},casenotexisthandleCurrentChange:function(e){this.searchnotexistcase.page=e,this.getcasenotexistconditionList()},headercasenotexisthandleCurrentChange:function(e){this.searchglobalnotexistheadercase.page=e,this.getheadercasenotexistList()},headercaseexisthandleCurrentChange:function(e){this.searchglobalheadercase.page=e,this.getheadercaseexistList()},caseexistgetIndex:function(e){return(this.searchexistcase.page-1)*this.searchexistcase.size+e+1},casenotexistgetIndex:function(e){return(this.searchnotexistcase.page-1)*this.searchnotexistcase.size+e+1},headercasenotexistgetIndex:function(e){return(this.searchglobalnotexistheadercase.page-1)*this.searchglobalnotexistheadercase.size+e+1},headercaseexistgetIndex:function(e){return(this.searchglobalheadercase.page-1)*this.searchglobalheadercase.size+e+1},getcaseexistconditionList:function(){var e=this;this.searchexistcase.conditionid=this.tmpexistconditionid,this.searchexistcase.deployunitid=this.tmpexistdeployunitid,L(this.searchexistcase).then(function(t){e.apicasesexistList=t.data.list,e.caseexisttotal=t.data.total}).catch(function(t){e.$message.error("获取未添加条件用例失败")})},searchexistcaseBy:function(){var e=this;this.searchexistcase.page=1,console.log(this.searchexistcase),this.$refs.searchexistcase.validate(function(t){t&&(L(e.searchexistcase).then(function(t){e.apicasesexistList=t.data.list,e.caseexisttotal=t.data.total}).catch(function(t){e.$message.error("获取未添加条件用例失败")}),e.tmpexistdeployunitid=e.searchexistcase.deployunitid,e.tmpexistconditionid=e.searchexistcase.conditionid)})}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("apicases:list")?a("el-button",{attrs:{type:"success",size:"mini",loading:e.btnLoading,icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.getapicasesList(t)}}},[e._v("刷新\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapicasesDialog(t)}}},[e._v("添加用例\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:copy")?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showCopyapicasesDialog(t)}}},[e._v("复制用例\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:batchcopy")?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showCopyBatchapicasesDialog(t)}}},[e._v("批量复制\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:batchassert")?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showBatchAssertDialog(t)}}},[e._v("批量接口断言\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:batchdelete")?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.removebatchapicase(t)}}},[e._v("批量删除\n          ")]):e._e()],1),e._v(" "),e.hasPermission("apicases:search")?a("span",[a("el-form-item",{attrs:{label:"微服务："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"微服务",clearable:""},on:{change:function(t){return e.deployunitselectChanged(t)}},model:{value:e.search.deployunitname,callback:function(t){e.$set(e.search,"deployunitname",t)},expression:"search.deployunitname"}},[a("el-option",{attrs:{label:"请选择",value:"请选择"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"模块："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"模块",clearable:""},on:{change:function(t){return e.searchmodelselectChanged(t)}},model:{value:e.search.modelname,callback:function(t){e.$set(e.search,"modelname",t)},expression:"search.modelname"}},[a("el-option",{attrs:{label:"请选择",value:"请选择"}}),e._v(" "),e._l(e.modelList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.modelname,value:e.modelname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"API",clearable:""},on:{change:function(t){return e.searchapiselectChanged(t)}},model:{value:e.search.apiname,callback:function(t){e.$set(e.search,"apiname",t)},expression:"search.apiname"}},[a("el-option",{attrs:{label:"请选择",value:"请选择"}}),e._v(" "),e._l(e.apiList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"Url路径:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"Url路径"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.path,callback:function(t){e.$set(e.search,"path",t)},expression:"search.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用例类型："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"用例类型",clearable:""},model:{value:e.search.casetype,callback:function(t){e.$set(e.search,"casetype",t)},expression:"search.casetype"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),a("el-option",{attrs:{label:"功能",value:"功能"}}),e._v(" "),a("el-option",{attrs:{label:"性能",value:"性能"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例："}},[a("el-input",{staticStyle:{width:"150px"},attrs:{clearable:"",clearable:"",placeholder:"用例"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.casename,callback:function(t){e.$set(e.search,"casename",t)},expression:"search.casename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"范围:"}},[a("el-select",{attrs:{clearable:"",placeholder:"范围"},on:{change:function(t){return e.creatorselectChanged(t)}},model:{value:e.search.nickname,callback:function(t){e.$set(e.search,"nickname",t)},expression:"search.nickname"}},[a("el-option",{attrs:{label:"我的",value:"我的"}}),e._v(" "),a("el-option",{attrs:{label:"全部",value:"全部"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.apicasesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用例名","show-overflow-tooltip":!0,align:"center",prop:"casename",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"微服务",align:"center",prop:"deployunitname",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"模块",align:"center",prop:"modelname",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"API",align:"center",prop:"apiname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"casetype",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"线程",align:"center",prop:"threadnum",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"循环",align:"center",prop:"loops",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"用例描述",align:"center",prop:"casecontent",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"维护人",align:"center",prop:"mnickname",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"操作人",align:"center",prop:"creator",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n        ")]}}])}),e._v(" "),e.hasPermission("apicases:update")||e.hasPermission("apicases:delete")?a("el-table-column",{attrs:{label:"管理",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("apicases:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapicasesDialog(t.$index)}}},[e._v("修改\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeapicases(t.$index)}}},[e._v("删除\n          ")]):e._e()]}}],null,!1,2834371654)}):e._e(),e._v(" "),e.hasPermission("apicases:update")||e.hasPermission("apicases:delete")?a("el-table-column",{attrs:{label:"用例操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("apicases:params")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showcasedataDialog(t.$index)}}},[e._v("用例数据\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showAssertDialog(t.$index)}}},[e._v("断言\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showTestDialog(t.$index)}}},[e._v("调试\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showCaseVariablesDialog(t.$index)}}},[e._v("提取变量\n          ")]):e._e()]}}],null,!1,3953029686)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.search.page,"page-size":e.search.size,total:e.total,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"tmpapicases",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpapicases}},[a("el-form-item",{attrs:{label:"微服务",prop:"deployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"微服务"},on:{change:function(t){return e.selectChanged(t)}},model:{value:e.tmpapicases.deployunitname,callback:function(t){e.$set(e.tmpapicases,"deployunitname",t)},expression:"tmpapicases.deployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"模块",prop:"modelname"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"模块"},on:{change:function(t){return e.modelselectChanged(t)}},model:{value:e.tmpapicases.modelname,callback:function(t){e.$set(e.tmpapicases,"modelname",t)},expression:"tmpapicases.modelname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.modelList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.modelname,value:e.modelname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API",prop:"apiname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"API"},on:{change:function(t){return e.apiselectChanged(t)}},model:{value:e.tmpapicases.apiname,callback:function(t){e.$set(e.tmpapicases,"apiname",t)},expression:"tmpapicases.apiname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.apiList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.apiname,value:e.apiname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例类型",prop:"casetype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"用例类型"},on:{change:function(t){return e.funorperformChanged(t)}},model:{value:e.tmpapicases.casetype,callback:function(t){e.$set(e.tmpapicases,"casetype",t)},expression:"tmpapicases.casetype"}},[a("el-option",{attrs:{label:"功能",value:"功能"}}),e._v(" "),a("el-option",{attrs:{label:"性能",value:"性能"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例名",prop:"casename",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.casename,callback:function(t){e.$set(e.tmpapicases,"casename","string"==typeof t?t.trim():t)},expression:"tmpapicases.casename"}})],1),e._v(" "),e.threadloopvisible?a("div",[a("el-form-item",{attrs:{label:"线程数",prop:"threadnum",required:""}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"20",type:"number","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.threadnum,callback:function(t){e.$set(e.tmpapicases,"threadnum",t)},expression:"tmpapicases.threadnum"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"循环次数",prop:"loops",required:""}},[a("el-input",{attrs:{placeholder:"用例循环执行次数",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"20",type:"number","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.loops,callback:function(t){e.$set(e.tmpapicases,"loops",t)},expression:"tmpapicases.loops"}})],1),e._v(" "),e.JmeterClassVisible?a("div",[a("el-form-item",{attrs:{label:"Jmeter",prop:"casejmxname",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.casejmxname,callback:function(t){e.$set(e.tmpapicases,"casejmxname",t)},expression:"tmpapicases.casejmxname"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"维护人:",prop:"mnickname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"维护人"},on:{change:function(t){return e.mnicknameselectChanged(t)}},model:{value:e.tmpapicases.mnickname,callback:function(t){e.$set(e.tmpapicases,"mnickname",t)},expression:"tmpapicases.mnickname"}},e._l(e.accountList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.nickname,value:e.nickname,required:""}})],1)}),0)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例描述",prop:"casecontent",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"50","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.casecontent,callback:function(t){e.$set(e.tmpapicases,"casecontent",t)},expression:"tmpapicases.casecontent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"text",maxlength:"100","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapicases.memo,callback:function(t){e.$set(e.tmpapicases,"memo",t)},expression:"tmpapicases.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpapicases.resetFields()}}},[e._v("重置\n        ")]):e._e(),e._v(" "),"add"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapicases(t)}}},[e._v("添加\n        ")]):e._e(),e._v(" "),"update"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateapicases(t)}}},[e._v("修改\n        ")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.paramtitle,visible:e.paramdialogFormVisible},on:{"update:visible":function(t){e.paramdialogFormVisible=t}}},[a("el-form",{ref:"tmpapicasesdata",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"100px",model:e.tmpapicasesdata}},[a("el-form-item",{attrs:{label:"用例名"}},[a("el-input",{attrs:{readonly:"true"},model:{value:e.tmpapicases.casename,callback:function(t){e.$set(e.tmpapicases,"casename",t)},expression:"tmpapicases.casename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数类型",prop:"propertytype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"参数类型"},on:{change:function(t){return e.selectparamsChanged(t)}},model:{value:e.tmpapicasesdata.propertytype,callback:function(t){e.$set(e.tmpapicasesdata,"propertytype",t)},expression:"tmpapicasesdata.propertytype"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.caseparamtypelist,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.propertytype,value:e.propertytype,required:""}})],1)})],2)],1),e._v(" "),e.HeaderandParamsVisible?a("div",e._l(e.tmpcaseparamslist,function(t,i){return a("el-form-item",{key:i,attrs:{label:t}},[a("el-input",{attrs:{type:"text","prefix-icon":"el-icon-edit"},model:{value:e.paraList[i],callback:function(t){e.$set(e.paraList,i,t)},expression:"paraList[index]"}})],1)}),1):e._e(),e._v(" "),e.BodyVisible?a("div",[a("el-form-item",{attrs:{label:"Body值：",prop:"keyname",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"30",cols:"50","prefix-icon":"el-icon-message","auto-complete":"off",placeholder:e.keyholder},model:{value:e.tmpapicasesdata.keyname,callback:function(t){e.$set(e.tmpapicasesdata,"keyname","string"==typeof t?t.trim():t)},expression:"tmpapicasesdata.keyname"}})],1)],1):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.paramdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapicasesdata(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用例值",width:"1000px",visible:e.casedataialogFormVisible},on:{"update:visible":function(t){e.casedataialogFormVisible=t}}},[a("el-form",{ref:"tmpapicasesdata",staticClass:"small-space",staticStyle:{width:"900px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"80px",model:e.tmpapicasesdata}},[a("el-form-item",{attrs:{label:"用例名:"}},[a("el-input",{attrs:{readonly:"true"},model:{value:e.tmpapicases.casename,callback:function(t){e.$set(e.tmpapicases,"casename",t)},expression:"tmpapicases.casename"}})],1),e._v(" "),[a("el-tabs",{ref:"tabs",attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Header",name:"zero"}},[[a("el-table",{attrs:{data:e.Headertabledatas,border:""}},[a("el-table-column",{attrs:{label:"参数",prop:"apiparam",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.apiparam,callback:function(a){e.$set(t.row,"apiparam",a)},expression:"scope.row.apiparam"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"值",prop:"apiparamvalue",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"值"},model:{value:t.row.apiparamvalue,callback:function(a){e.$set(t.row,"apiparamvalue",a)},expression:"scope.row.apiparamvalue"}})]}}])})],1)]],2),e._v(" "),a("el-tab-pane",{attrs:{label:"Params",name:"first"}},[[a("el-table",{attrs:{data:e.Paramstabledatas,border:""}},[a("el-table-column",{attrs:{label:"参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.apiparam,callback:function(a){e.$set(t.row,"apiparam",a)},expression:"scope.row.apiparam"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"值类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.paramstype,callback:function(a){e.$set(t.row,"paramstype",a)},expression:"scope.row.paramstype"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"值"},model:{value:t.row.apiparamvalue,callback:function(a){e.$set(t.row,"apiparamvalue",a)},expression:"scope.row.apiparamvalue"}})]}}])})],1)]],2),e._v(" "),a("el-tab-pane",{attrs:{label:"Body",name:"second"}},[[e.BodyParamDataVisible?a("div",[a("el-table",{attrs:{data:e.Bodytabledatas,border:""}},[a("el-table-column",{attrs:{label:"参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"参数名"},model:{value:t.row.apiparam,callback:function(a){e.$set(t.row,"apiparam",a)},expression:"scope.row.apiparam"}})]}}],null,!1,1535784312)}),e._v(" "),a("el-table-column",{attrs:{label:"值类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.paramstype,callback:function(a){e.$set(t.row,"paramstype",a)},expression:"scope.row.paramstype"}})]}}],null,!1,1280670791)}),e._v(" "),a("el-table-column",{attrs:{label:"默认值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"默认值"},model:{value:t.row.apiparamvalue,callback:function(a){e.$set(t.row,"apiparamvalue",a)},expression:"scope.row.apiparamvalue"}})]}}],null,!1,1666315820)})],1)],1):e._e(),e._v(" "),e.BodyDataVisible?a("div",[a("el-form-item",{attrs:{label:"Body值：",prop:"apiparamvalue"}},[a("el-input",{attrs:{type:"textarea",rows:"20",cols:"70","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapicasesbodydata.apiparamvalue,callback:function(t){e.$set(e.tmpapicasesbodydata,"apiparamvalue","string"==typeof t?t.trim():t)},expression:"tmpapicasesbodydata.apiparamvalue"}})],1)],1):e._e()]],2),e._v(" "),a("el-tab-pane",{attrs:{label:"使用变量",name:"third"}},[a("uservariables")],1)],1)]],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.casedataialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addnewapicasesdata(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.CopyApiCase,visible:e.CopydialogFormVisible},on:{"update:visible":function(t){e.CopydialogFormVisible=t}}},[a("el-form",{ref:"tmpcopycase",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpcopycase}},[a("el-form-item",{attrs:{label:"源微服务",prop:"sourcedeployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"微服务"},on:{change:function(t){return e.CopyCasesSourceDeployselectChanged(t)}},model:{value:e.tmpcopycase.sourcedeployunitname,callback:function(t){e.$set(e.tmpcopycase,"sourcedeployunitname",t)},expression:"tmpcopycase.sourcedeployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例来源",prop:"sourcecasename",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"用例"},on:{change:function(t){return e.CopySourceCasesChanged(t)}},model:{value:e.tmpcopycase.sourcecasename,callback:function(t){e.$set(e.tmpcopycase,"sourcecasename",t)},expression:"tmpcopycase.sourcecasename"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.sourcetestcaseList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.casename,value:e.casename,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"新用例名",prop:"newcasename",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpcopycase.newcasename,callback:function(t){e.$set(e.tmpcopycase,"newcasename",t)},expression:"tmpcopycase.newcasename"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.CopydialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.copycases(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.CopyBatchApiCase,visible:e.CopybatchdialogFormVisible},on:{"update:visible":function(t){e.CopybatchdialogFormVisible=t}}},[a("el-form",{ref:"tmpbatchcopycase",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpbatchcopycase}},[a("el-form-item",{attrs:{label:"源微服务",prop:"sourcedeployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"微服务"},on:{change:function(t){return e.CopyBatchCasesSourceDeployselectChanged(t)}},model:{value:e.tmpbatchcopycase.sourcedeployunitname,callback:function(t){e.$set(e.tmpbatchcopycase,"sourcedeployunitname",t)},expression:"tmpbatchcopycase.sourcedeployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标微服务",prop:"destinationdeployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"微服务"},on:{change:function(t){return e.CopyBatchDesiCasesSourceDeployselectChanged(t)}},model:{value:e.tmpbatchcopycase.destinationdeployunitname,callback:function(t){e.$set(e.tmpbatchcopycase,"destinationdeployunitname",t)},expression:"tmpbatchcopycase.destinationdeployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.CopybatchdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.copybatchcases(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.loadassert,width:"1000px",visible:e.AssertdialogFormVisible},on:{"update:visible":function(t){e.AssertdialogFormVisible=t}}},[a("el-tabs",{ref:"asserttabs",attrs:{type:"card"},model:{value:e.assertactiveName,callback:function(t){e.assertactiveName=t},expression:"assertactiveName"}},[a("el-tab-pane",{attrs:{label:"接口断言",name:"zero"}},[[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchcase",attrs:{inline:!0,model:e.searchassert}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddassertDialog(t)}}},[e._v("添加接口断言\n                    ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"接口断言类型:",prop:"asserttype"}},[a("el-select",{attrs:{placeholder:"断言类型"},model:{value:e.searchassert.asserttype,callback:function(t){e.$set(e.searchassert,"asserttype",t)},expression:"searchassert.asserttype"}},[a("el-option",{attrs:{label:"Respone断言",value:"Respone"}}),e._v(" "),a("el-option",{attrs:{label:"Json断言",value:"Json"}}),e._v(" "),a("el-option",{attrs:{label:"Xml断言",value:"Xml"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchassertBy}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{key:e.assertitemKey,ref:"assertTable",attrs:{data:e.assertList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.assertgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"断言类型",align:"center",prop:"asserttype",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"断言子类型",align:"center",prop:"assertsubtype",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"表达式",align:"center",prop:"expression",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"条件",align:"center",prop:"assertcondition",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"期望值",align:"center",prop:"assertvalues",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"断言值类型",align:"center",prop:"assertvaluetype",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"管理",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapicasesassertDialog(t.$index)}}},[e._v("修改\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeapicasesassert(t.$index)}}},[e._v("删除\n                    ")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchassert.page,"page-size":e.searchassert.size,total:e.asserttotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.asserthandleSizeChange,"current-change":e.asserthandleCurrentChange}})]],2),e._v(" "),a("el-tab-pane",{attrs:{label:"数据库断言",name:"first"}},[[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchdbassert",attrs:{inline:!0,model:e.searchdbassert}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAdddbassertDialog(t)}}},[e._v("添加数据库断言\n                    ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"环境：",prop:"enviroment"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"环境"},on:{change:function(t){return e.dbassertEnviromentselectChanged(t)}},model:{value:e.searchdbassert.enviroment,callback:function(t){e.$set(e.searchdbassert,"enviroment",t)},expression:"searchdbassert.enviroment"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库组件：",prop:"assemblename"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"数据库组件"},model:{value:e.searchdbassert.assemblename,callback:function(t){e.$set(e.searchdbassert,"assemblename",t)},expression:"searchdbassert.assemblename"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviroment_assembleList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchdbassertBy}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{key:e.dbassertitemKey,ref:"assertTable",attrs:{data:e.dbassertList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.dbassertgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"环境",align:"center",prop:"enviroment",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"组件",align:"center",prop:"assemblename",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"查询sql",align:"center",prop:"expression",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"结果条数",align:"center",prop:"expectrecordsnums",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"管理",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapicasesdbassertDialog(t.$index)}}},[e._v("修改\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeapicasesdbassert(t.$index)}}},[e._v("删除\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showapicasesdbassertvalueDialog(t.$index)}}},[e._v("断言值\n                    ")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchdbassert.page,"page-size":e.searchdbassert.size,total:e.dbasserttotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.dbasserthandleSizeChange,"current-change":e.dbasserthandleCurrentChange}})]],2)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dbAsserttextMap[e.dbAssertdialogStatus],width:"800px",visible:e.dbAssertAUdialogFormVisible},on:{"update:visible":function(t){e.dbAssertAUdialogFormVisible=t}}},[a("el-form",{ref:"tmpdbassert",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"150px",model:e.tmpdbassert}},[a("el-form-item",{attrs:{label:"环境：",prop:"enviroment",required:""}},[a("el-select",{staticStyle:{width:"500px"},attrs:{clearable:"",placeholder:"环境"},on:{change:function(t){return e.dbassertEnviromentselectChanged(t)}},model:{value:e.tmpdbassert.enviroment,callback:function(t){e.$set(e.tmpdbassert,"enviroment",t)},expression:"tmpdbassert.enviroment"}},e._l(e.enviromentnameList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)}),0)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库组件：",prop:"assemblename",required:""}},[a("el-select",{staticStyle:{width:"500px"},attrs:{clearable:"",filterable:"",placeholder:"数据库组件"},on:{change:function(t){return e.dbassertselectChangedAS(t)}},model:{value:e.tmpdbassert.assemblename,callback:function(t){e.$set(e.tmpdbassert,"assemblename",t)},expression:"tmpdbassert.assemblename"}},e._l(e.enviroment_assembleList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)}),0)],1),e._v(" "),a("el-form-item",{attrs:{label:"查询sql",prop:"expression",required:""}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:"20",cols:"90",maxlength:"4000","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbassert.expression,callback:function(t){e.$set(e.tmpdbassert,"expression",t)},expression:"tmpdbassert.expression"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结果条数",prop:"expectrecordsnums",required:""}},[a("el-input",{staticStyle:{width:"500px"},attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbassert.expectrecordsnums,callback:function(t){e.$set(e.tmpdbassert,"expectrecordsnums",t)},expression:"tmpdbassert.expectrecordsnums"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dbAssertAUdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dbAssertdialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.adddbassert(t)}}},[e._v("保存\n        ")]):e._e(),e._v(" "),"update"===e.dbAssertdialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbassert(t)}}},[e._v("更新\n        ")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"1000px",title:"数据库断言值列表",visible:e.dbassertvaluelistDialogFormVisible},on:{"update:visible":function(t){e.dbassertvaluelistDialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("apicasesdbassertvalue:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddApicasesdbassertvalueDialog(t)}}},[e._v("新增断言值")]):e._e()],1)],1)],1),e._v(" "),a("el-table",{attrs:{data:e.ApicasesdbassertvalueList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.ApicasesdbassertvaluegetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"列名",align:"center",prop:"fieldname",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"行号",align:"center",prop:"roworder",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"期望值",align:"center",prop:"expectvalue",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"值类型",align:"center",prop:"valuetype",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"条件",align:"center",prop:"assertcondition",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("apicasesdbassertvalue:update")||e.hasPermission("apicasesdbassertvalue:delete")?a("el-table-column",{attrs:{label:"管理",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("apicasesdbassertvalue:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdatedbassertvalueDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("apicasesdbassertvalue:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removedbassertvalue(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,3942284710)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchdbassertvalue.page,"page-size":e.searchdbassertvalue.size,total:e.dbassertvaluetotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.dbassertvaluehandleSizeChange,"current-change":e.dbassertvaluehandleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.dbAssertvaluetextMap[e.dbAssertvaluedialogStatus],width:"800px",visible:e.dbassertvalueDialogFormVisible},on:{"update:visible":function(t){e.dbassertvalueDialogFormVisible=t}}},[a("el-form",{ref:"tmpdbassertvalue",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"150px",model:e.tmpdbassertvalue}},[a("el-form-item",{attrs:{label:"列名",prop:"fieldname",required:""}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"text",maxlength:"60","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbassertvalue.fieldname,callback:function(t){e.$set(e.tmpdbassertvalue,"fieldname",t)},expression:"tmpdbassertvalue.fieldname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行号",prop:"roworder",required:""}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"text",maxlength:"20","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbassertvalue.roworder,callback:function(t){e.$set(e.tmpdbassertvalue,"roworder",t)},expression:"tmpdbassertvalue.roworder"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"期望值",prop:"expectvalue",required:""}},[a("el-input",{staticStyle:{width:"500px"},attrs:{maxlength:"200",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbassertvalue.expectvalue,callback:function(t){e.$set(e.tmpdbassertvalue,"expectvalue",t)},expression:"tmpdbassertvalue.expectvalue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[a("el-select",{staticStyle:{width:"500px"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpdbassertvalue.valuetype,callback:function(t){e.$set(e.tmpdbassertvalue,"valuetype",t)},expression:"tmpdbassertvalue.valuetype"}},[a("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),a("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"条件",prop:"assertcondition",required:""}},[a("el-select",{staticStyle:{width:"500px"},attrs:{placeholder:"条件"},model:{value:e.tmpdbassertvalue.assertcondition,callback:function(t){e.$set(e.tmpdbassertvalue,"assertcondition",t)},expression:"tmpdbassertvalue.assertcondition"}},[a("el-option",{attrs:{label:"等于",value:"="}}),e._v(" "),a("el-option",{attrs:{label:"大于",value:">"}}),e._v(" "),a("el-option",{attrs:{label:"小于",value:"<"}}),e._v(" "),a("el-option",{attrs:{label:"包含",value:"Contain"}}),e._v(" "),a("el-option",{attrs:{label:"不包含",value:"NoContain"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dbassertvalueDialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dbAssertvaluedialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.adddbassertvalue(t)}}},[e._v("保存\n        ")]):e._e(),e._v(" "),"update"===e.dbAssertvaluedialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbassertvalue(t)}}},[e._v("更新\n        ")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.AsserttextMap[e.AssertdialogStatus],visible:e.AssertAUdialogFormVisible},on:{"update:visible":function(t){e.AssertAUdialogFormVisible=t}}},[a("el-form",{ref:"tmpassert",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"150px",model:e.tmpassert}},[a("el-form-item",{attrs:{label:"断言类型",prop:"asserttype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"断言类型"},on:{change:function(t){return e.asserttypeselectChanged(t)}},model:{value:e.tmpassert.asserttype,callback:function(t){e.$set(e.tmpassert,"asserttype",t)},expression:"tmpassert.asserttype"}},[a("el-option",{attrs:{label:"Respone断言",value:"Respone"}}),e._v(" "),a("el-option",{attrs:{label:"Json断言",value:"Json"}}),e._v(" "),a("el-option",{attrs:{label:"Xml断言",value:"Xml"}})],1)],1),e._v(" "),e.AssertSubVisible?a("div",[a("el-form-item",{attrs:{label:"断言子类型",prop:"assertsubtype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"断言子类型"},model:{value:e.tmpassert.assertsubtype,callback:function(t){e.$set(e.tmpassert,"assertsubtype",t)},expression:"tmpassert.assertsubtype"}},[a("el-option",{attrs:{label:"Code",value:"Code"}}),e._v(" "),a("el-option",{attrs:{label:"文本",value:"文本"}})],1)],1)],1):e._e(),e._v(" "),e.ExpressionVisible?a("div",[a("el-form-item",{attrs:{label:"表达式",prop:"expression",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"400","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpassert.expression,callback:function(t){e.$set(e.tmpassert,"expression",t)},expression:"tmpassert.expression"}}),e._v(" "),a("div",{staticClass:"right"},[a("el-tooltip",{attrs:{placement:"right-end"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.如果断言类型是Json则使用JsonPath表示, 例如：$.store.book[0].title  在线解析网站：http://www.e123456.com/aaaphp/online/jsonpath/"),a("br"),e._v("2.如果断言类型为XML，则使用XPath表示， 例如：//div/h3//text()=hello|//div/h4//text()   在线解析网站： http://www.ab173.com/other/xpath.php")]),e._v(" "),a("el-button",[e._v("表达式语法")])],1)],1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"条件",prop:"assertcondition",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"条件"},on:{change:function(t){return e.assertnameselectChanged(t)}},model:{value:e.tmpassert.assertcondition,callback:function(t){e.$set(e.tmpassert,"assertcondition",t)},expression:"tmpassert.assertcondition"}},[a("el-option",{attrs:{label:"等于",value:"="}}),e._v(" "),a("el-option",{attrs:{label:"大于",value:">"}}),e._v(" "),a("el-option",{attrs:{label:"小于",value:"<"}}),e._v(" "),a("el-option",{attrs:{label:"包含",value:"Contain"}}),e._v(" "),a("el-option",{attrs:{label:"不包含",value:"NoContain"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"断言值",prop:"assertvalues",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"2000","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpassert.assertvalues,callback:function(t){e.$set(e.tmpassert,"assertvalues",t)},expression:"tmpassert.assertvalues"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"断言值类型",prop:"assertvaluetype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"断言值类型"},model:{value:e.tmpassert.assertvaluetype,callback:function(t){e.$set(e.tmpassert,"assertvaluetype",t)},expression:"tmpassert.assertvaluetype"}},[a("el-option",{attrs:{label:"int",value:"int"}}),e._v(" "),a("el-option",{attrs:{label:"Long",value:"Long"}}),e._v(" "),a("el-option",{attrs:{label:"Float",value:"Float"}}),e._v(" "),a("el-option",{attrs:{label:"Double",value:"Double"}}),e._v(" "),a("el-option",{attrs:{label:"Decimal",value:"Decimal"}}),e._v(" "),a("el-option",{attrs:{label:"字符串",value:"String"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.AssertAUdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.AssertdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addassert(t)}}},[e._v("保存\n        ")]):e._e(),e._v(" "),"update"===e.AssertdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateassert(t)}}},[e._v("更新\n        ")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用例调试",visible:e.TestdialogFormVisible},on:{"update:visible":function(t){e.TestdialogFormVisible=t}}},[a("el-form",{staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"100px"}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"tmptest",attrs:{inline:!0,model:e.tmptest}},[a("el-form-item",{attrs:{label:"用例名："}},[a("el-input",{staticStyle:{width:"500px"},attrs:{readonly:"true"},model:{value:e.tmpapicases.casename,callback:function(t){e.$set(e.tmpapicases,"casename",t)},expression:"tmpapicases.casename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"环境：",prop:"enviromentname",required:""}},[a("el-select",{staticStyle:{width:"500px"},attrs:{placeholder:"环境"},on:{change:function(t){return e.EnviromentselectChanged(t)}},model:{value:e.tmptest.enviromentname,callback:function(t){e.$set(e.tmptest,"enviromentname",t)},expression:"tmptest.enviromentname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"全局Header:",prop:"globalheadername"}},[a("el-select",{staticStyle:{width:"315px"},attrs:{placeholder:"全局Header"},on:{change:function(t){return e.notexistheaderselectChanged(t)}},model:{value:e.tmptest.globalheadername,callback:function(t){e.$set(e.tmptest,"globalheadername",t)},expression:"tmptest.globalheadername"}},[a("el-option",{attrs:{label:"请选择",value:"请选择"}}),e._v(" "),e._l(e.globalheaderallList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.globalheadername,value:e.globalheadername}})],1)})],2),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.runtest(t)}}},[e._v("调试")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.showtestcaseConditionDialog(t)}}},[e._v("前置条件")])],1),e._v(" "),[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"通用",name:"zero"}},[a("el-input",{staticStyle:{width:"100%",border:"none",outline:"none",resize:"none",overflow:"hidden"},attrs:{type:"textarea",readonly:"",rows:"20",cols:"90",maxlength:"4000"},model:{value:e.tmptest.general,callback:function(t){e.$set(e.tmptest,"general",t)},expression:"tmptest.general"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"响应内容",name:"first"}},[a("el-input",{staticStyle:{width:"100%",border:"none",outline:"none",resize:"none",overflow:"hidden"},attrs:{type:"textarea",readonly:"",rows:"20",cols:"90",maxlength:"4000"},model:{value:e.tmptest.respone,callback:function(t){e.$set(e.tmptest,"respone",t)},expression:"tmptest.respone"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"请求Header",name:"seven"}},[a("el-table",{attrs:{data:e.requestHeadList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Name",align:"center",prop:"keyName",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{label:"Value",align:"center",prop:"keyValue",width:"350"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"请求Params",name:"nine"}},[a("el-table",{attrs:{data:e.requestParamsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Name",align:"center",prop:"keyName",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{label:"Value",align:"center",prop:"keyValue",width:"350"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"请求Body",name:"eight"}},[a("el-input",{staticStyle:{width:"100%",border:"none",outline:"none",resize:"none",overflow:"hidden"},attrs:{type:"textarea",readonly:"",rows:"20",cols:"90",maxlength:"4000"},model:{value:e.tmptest.requestdata,callback:function(t){e.$set(e.tmptest,"requestdata",t)},expression:"tmptest.requestdata"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"响应Header",name:"five"}},[a("el-table",{attrs:{data:e.headerList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Name",align:"center",prop:"name",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{label:"Value",align:"center",prop:"value",width:"350"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"响应码",name:"second"}},[a("el-input",{staticStyle:{width:"100%",border:"none",outline:"none",resize:"none",overflow:"hidden"},attrs:{type:"textarea",readonly:"",rows:"20",cols:"90",maxlength:"4000"},model:{value:e.tmptest.code,callback:function(t){e.$set(e.tmptest,"code",t)},expression:"tmptest.code"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"响应时间(ms)",name:"third"}},[a("el-input",{staticStyle:{width:"100%",border:"none",outline:"none",resize:"none",overflow:"hidden"},attrs:{type:"textarea",readonly:"",rows:"20",cols:"90",maxlength:"4000"},model:{value:e.tmptest.responeTime,callback:function(t){e.$set(e.tmptest,"responeTime",t)},expression:"tmptest.responeTime"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"大小(B)",name:"fourth"}},[a("el-input",{staticStyle:{width:"100%",border:"none",outline:"none",resize:"none",overflow:"hidden"},attrs:{type:"textarea",readonly:"",rows:"20",cols:"90",maxlength:"4000"},model:{value:e.tmptest.size,callback:function(t){e.$set(e.tmptest,"size",t)},expression:"tmptest.size"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Cookies",name:"six"}},[a("el-table",{attrs:{data:e.cookies,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Name",align:"center",prop:"name",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{label:"Value",align:"center",prop:"value",width:"350"}})],1)],1)],1)]],2)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加调试前置条件用例",visible:e.casedebugconditionnotexistdialogFormVisible},on:{"update:visible":function(t){e.casedebugconditionnotexistdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchnotexistcase",attrs:{inline:!0,model:e.searchnotexistcase}},[a("el-form-item",{attrs:{label:"前置调试父条件:",prop:"conditionname",required:""}},[a("el-select",{attrs:{placeholder:"前置父条件"},on:{change:function(t){return e.notexistconditionnameselectChanged(t)}},model:{value:e.searchnotexistcase.conditionname,callback:function(t){e.$set(e.searchnotexistcase,"conditionname",t)},expression:"searchnotexistcase.conditionname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.conditionList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.conditionname,value:e.conditionname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"微服务:",prop:"deployunitname",required:""}},[a("el-select",{attrs:{placeholder:"微服务"},on:{change:function(t){return e.notexistdeployunitnameselectChanged(t)}},model:{value:e.searchnotexistcase.deployunitname,callback:function(t){e.$set(e.searchnotexistcase,"deployunitname",t)},expression:"searchnotexistcase.deployunitname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchnotexistcaseBy}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{key:e.casenotexistKey,ref:"caseTable",attrs:{data:e.apicasesnotexistList,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.casenotexisthandleClickTableRow,"selection-change":e.casenotexisthandleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.casenotexistgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"350"}}),e._v(" "),a("el-table-column",{attrs:{label:"微服务",align:"center",prop:"deployunitname",width:"220"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchnotexistcase.page,"page-size":e.searchnotexistcase.size,total:e.casenotexisttotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.casenotexisthandleSizeChange,"current-change":e.casenotexisthandleCurrentChange}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.casedebugconditionnotexistdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.adddebugconditiontestcase(t)}}},[e._v("添加前置")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"取消调试前置条件用例",visible:e.casedebugconditionexistdialogFormVisible},on:{"update:visible":function(t){e.casedebugconditionexistdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchexistcase",attrs:{inline:!0,model:e.searchexistcase}},[a("el-form-item",{attrs:{label:"前置调试父条件:",prop:"conditionname",required:""}},[a("el-select",{attrs:{placeholder:"前置父条件"},on:{change:function(t){return e.existconditionnameselectChanged(t)}},model:{value:e.searchexistcase.conditionname,callback:function(t){e.$set(e.searchexistcase,"conditionname",t)},expression:"searchexistcase.conditionname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.conditionList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.conditionname,value:e.conditionname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"微服务:",prop:"deployunitname",required:""}},[a("el-select",{attrs:{placeholder:"微服务"},on:{change:function(t){return e.existdeployunitnameselectChanged(t)}},model:{value:e.searchexistcase.deployunitname,callback:function(t){e.$set(e.searchexistcase,"deployunitname",t)},expression:"searchexistcase.deployunitname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchexistcaseBy}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{key:e.caseexistKey,ref:"caseTable",attrs:{data:e.apicasesexistList,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.caseexisthandleClickTableRow,"selection-change":e.caseexisthandleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.caseexistgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"350"}}),e._v(" "),a("el-table-column",{attrs:{label:"微服务",align:"center",prop:"deployunitname",width:"220"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchexistcase.page,"page-size":e.searchexistcase.size,total:e.caseexisttotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.caseexisthandleSizeChange,"current-change":e.caseexisthandleCurrentChange}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.casedebugconditionexistdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.delatedebugconditiontestcase(t)}}},[e._v("取消前置")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加全局Header用例",visible:e.caseglobalheadernotexistdialogFormVisible},on:{"update:visible":function(t){e.caseglobalheadernotexistdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchglobalnotexistheadercase",attrs:{inline:!0,model:e.searchglobalnotexistheadercase}},[a("el-form-item",{attrs:{label:"全局Header:",prop:"globalheadername",required:""}},[a("el-select",{attrs:{placeholder:"全局Header"},on:{change:function(t){return e.notexistheaderselectChanged(t)}},model:{value:e.searchglobalnotexistheadercase.globalheadername,callback:function(t){e.$set(e.searchglobalnotexistheadercase,"globalheadername",t)},expression:"searchglobalnotexistheadercase.globalheadername"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.globalheaderallList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.globalheadername,value:e.globalheadername}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"微服务:",prop:"deployunitname",required:""}},[a("el-select",{attrs:{placeholder:"微服务"},on:{change:function(t){return e.notexistdeployunitnameselectChanged(t)}},model:{value:e.searchglobalnotexistheadercase.deployunitname,callback:function(t){e.$set(e.searchglobalnotexistheadercase,"deployunitname",t)},expression:"searchglobalnotexistheadercase.deployunitname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchheadernotexist}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{key:e.headercasenotexistKey,ref:"caseTable",attrs:{data:e.apicasesheadernotexistList,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.casenotexisthandleClickTableRow,"selection-change":e.headercasenotexisthandleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.headercasenotexistgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例名",align:"center",prop:"testcasename",width:"350"}}),e._v(" "),a("el-table-column",{attrs:{label:"微服务",align:"center",prop:"deployunitname",width:"220"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchglobalnotexistheadercase.page,"page-size":e.searchglobalnotexistheadercase.size,total:e.headercasenotexisttotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.headercasenotexisthandleSizeChange,"current-change":e.headercasenotexisthandleCurrentChange}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseglobalheadernotexistdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addheadercasesdebug(t)}}},[e._v("添加Header")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"取消全局Header用例",visible:e.caseglobalheaderexistdialogFormVisible},on:{"update:visible":function(t){e.caseglobalheaderexistdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchglobalheadercase",attrs:{inline:!0,model:e.searchglobalheadercase}},[a("el-form-item",{attrs:{label:"全局Header:",prop:"globalheadername",required:""}},[a("el-select",{attrs:{placeholder:"全局Header"},on:{change:function(t){return e.existheaderselectChanged(t)}},model:{value:e.searchglobalheadercase.globalheadername,callback:function(t){e.$set(e.searchglobalheadercase,"globalheadername",t)},expression:"searchglobalheadercase.globalheadername"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.globalheaderallList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.globalheadername,value:e.globalheadername}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"微服务:",prop:"deployunitname",required:""}},[a("el-select",{attrs:{placeholder:"微服务"},on:{change:function(t){return e.existdeployunitnameselectChanged(t)}},model:{value:e.searchglobalheadercase.deployunitname,callback:function(t){e.$set(e.searchglobalheadercase,"deployunitname",t)},expression:"searchglobalheadercase.deployunitname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchheaderexist}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{key:e.headercaseexistKey,ref:"caseTable",attrs:{data:e.apicasesheaderexistList,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.casenotexisthandleClickTableRow,"selection-change":e.headercaseexisthandleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.headercaseexistgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例名",align:"center",prop:"testcasename",width:"350"}}),e._v(" "),a("el-table-column",{attrs:{label:"微服务",align:"center",prop:"deployunitname",width:"220"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchglobalheadercase.page,"page-size":e.searchglobalheadercase.size,total:e.headercaseexisttotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.headercaseexisthandleSizeChange,"current-change":e.headercaseexisthandleCurrentChange}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseglobalheaderexistdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.deleteheadercase(t)}}},[e._v("取消Header")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"批量断言",visible:e.BatchAssertdialogFormVisible},on:{"update:visible":function(t){e.BatchAssertdialogFormVisible=t}}},[a("el-form",{ref:"tmpbatchassert",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"150px",model:e.tmpbatchassert}},[a("el-form-item",{attrs:{label:"断言类型",prop:"asserttype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"断言类型"},on:{change:function(t){return e.asserttypeselectChanged(t)}},model:{value:e.tmpbatchassert.asserttype,callback:function(t){e.$set(e.tmpbatchassert,"asserttype",t)},expression:"tmpbatchassert.asserttype"}},[a("el-option",{attrs:{label:"Respone断言",value:"Respone"}}),e._v(" "),a("el-option",{attrs:{label:"Json断言",value:"Json"}}),e._v(" "),a("el-option",{attrs:{label:"Xml断言",value:"Xml"}})],1)],1),e._v(" "),e.AssertSubVisible?a("div",[a("el-form-item",{attrs:{label:"断言子类型",prop:"assertsubtype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"断言子类型"},model:{value:e.tmpbatchassert.assertsubtype,callback:function(t){e.$set(e.tmpbatchassert,"assertsubtype",t)},expression:"tmpbatchassert.assertsubtype"}},[a("el-option",{attrs:{label:"Code",value:"Code"}}),e._v(" "),a("el-option",{attrs:{label:"文本",value:"文本"}})],1)],1)],1):e._e(),e._v(" "),e.ExpressionVisible?a("div",[a("el-form-item",{attrs:{label:"表达式",prop:"expression",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"400","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpbatchassert.expression,callback:function(t){e.$set(e.tmpbatchassert,"expression",t)},expression:"tmpbatchassert.expression"}}),e._v(" "),a("div",{staticClass:"right"},[a("el-tooltip",{attrs:{placement:"right-end"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.如果断言类型是Json则使用JsonPath表示, 例如：$.store.book[0].title  在线解析网站：http://www.e123456.com/aaaphp/online/jsonpath/"),a("br"),e._v("2.如果断言类型为XML，则使用XPath表示， 例如：//div/h3//text()=hello|//div/h4//text()   在线解析网站： http://www.ab173.com/other/xpath.php")]),e._v(" "),a("el-button",[e._v("表达式语法")])],1)],1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"条件",prop:"assertcondition",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"条件"},model:{value:e.tmpbatchassert.assertcondition,callback:function(t){e.$set(e.tmpbatchassert,"assertcondition",t)},expression:"tmpbatchassert.assertcondition"}},[a("el-option",{attrs:{label:"等于",value:"="}}),e._v(" "),a("el-option",{attrs:{label:"大于",value:">"}}),e._v(" "),a("el-option",{attrs:{label:"小于",value:"<"}}),e._v(" "),a("el-option",{attrs:{label:"包含",value:"Contain"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"断言值",prop:"assertvalues",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"2000","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpbatchassert.assertvalues,callback:function(t){e.$set(e.tmpbatchassert,"assertvalues",t)},expression:"tmpbatchassert.assertvalues"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"断言值类型",prop:"assertvaluetype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"断言值类型"},model:{value:e.tmpbatchassert.assertvaluetype,callback:function(t){e.$set(e.tmpbatchassert,"assertvaluetype",t)},expression:"tmpbatchassert.assertvaluetype"}},[a("el-option",{attrs:{label:"int",value:"int"}}),e._v(" "),a("el-option",{attrs:{label:"Long",value:"Long"}}),e._v(" "),a("el-option",{attrs:{label:"Float",value:"Float"}}),e._v(" "),a("el-option",{attrs:{label:"Double",value:"Double"}}),e._v(" "),a("el-option",{attrs:{label:"Decimal",value:"Decimal"}}),e._v(" "),a("el-option",{attrs:{label:"字符串",value:"String"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.BatchAssertdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addbatchassert(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"1200px",title:"用例提取变量列表",visible:e.caseVariablesDialogFormVisible},on:{"update:visible":function(t){e.caseVariablesDialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("ApicasesVariables:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddApicasesVariablesDialog(t)}}},[e._v("提取变量")]):e._e()],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.ApicasesVariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.ApicasesVariablesgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量名",align:"center",prop:"testvariablesname",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属用例",align:"center",prop:"casename",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属API",align:"center",prop:"apiname",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属微服务",align:"center",prop:"deployunitname",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"变量来源",align:"center",prop:"testvariablestype",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量值提取表达",align:"center",prop:"variablesexpress",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("ApicasesVariables:update")||e.hasPermission("ApicasesVariables:delete")?a("el-table-column",{attrs:{label:"管理",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("ApicasesVariables:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdatetestvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("ApicasesVariables:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removetestvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,3910988262)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchapicasevariables.page,"page-size":e.searchapicasevariables.size,total:e.apicasevariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.apicasevariableshandleSizeChange,"current-change":e.apicasevariableshandleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.caseaddvariablestextMap[e.caseaddvariablesdialogStatus],visible:e.caseaddvariablesdialogFormVisible},on:{"update:visible":function(t){e.caseaddvariablesdialogFormVisible=t}}},[a("el-form",{ref:"tmptestvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmptestvariables}},[a("el-form-item",{attrs:{label:"变量名",prop:"testvariablesname",required:""}},[a("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.testvariablesname,callback:function(t){e.$set(e.tmptestvariables,"testvariablesname",t)},expression:"tmptestvariables.testvariablesname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[a("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.variablesdes,callback:function(t){e.$set(e.tmptestvariables,"variablesdes",t)},expression:"tmptestvariables.variablesdes"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量来源",prop:"testvariablestype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量来源"},on:{change:function(t){return e.testvariablestypeselectChanged(t)}},model:{value:e.tmptestvariables.testvariablestype,callback:function(t){e.$set(e.tmptestvariables,"testvariablestype",t)},expression:"tmptestvariables.testvariablestype"}},[a("el-option",{attrs:{label:"Header",value:"Header"}}),e._v(" "),a("el-option",{attrs:{label:"Cookies",value:"Cookies"}}),e._v(" "),a("el-option",{attrs:{label:"Body",value:"Body"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmptestvariables.valuetype,callback:function(t){e.$set(e.tmptestvariables,"valuetype",t)},expression:"tmptestvariables.valuetype"}},[a("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),a("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.expressname,prop:"variablesexpress",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"3",cols:"10",maxlength:"200",placeholder:"例如 $.store.book[0].title","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.variablesexpress,callback:function(t){e.$set(e.tmptestvariables,"variablesexpress",t)},expression:"tmptestvariables.variablesexpress"}}),e._v(" "),a("div",{staticClass:"right"},[a("el-tooltip",{attrs:{placement:"right-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.如果获取变量值的接口返回数据类型是Json则使用JsonPath表达式提取变量值，例如：$.store.book[0].title   在线解析网站：http://www.e123456.com/aaaphp/online/jsonpath/"),a("br"),e._v("2.如果获取变量值接口返回是html，xml则使用XPath表达式提取变量值， 例如：//div/h3//text()   在线解析网站： http://www.ab173.com/other/xpath.php")]),e._v(" "),a("el-button",[e._v("变量值提取表达语法规则")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"text",maxlength:"60","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmptestvariables.memo,callback:function(t){e.$set(e.tmptestvariables,"memo",t)},expression:"tmptestvariables.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseaddvariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.caseaddvariablesdialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmptestvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.caseaddvariablesdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addtestvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.caseaddvariablesdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatetestvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用例调试前置条件",width:"1120px",visible:e.scenecaseConditionFormVisible},on:{"update:visible":function(t){e.scenecaseConditionFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("testscene:scenecasecondition")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.ShowAddcasecaseconditionDialog(t)}}},[e._v("添加前置接口")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.AddcasedbconditionDialog(t)}}},[e._v("添加前置数据库")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddscriptDialog(t)}}},[e._v("添加前置脚本")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showconditionorderDialog(t)}}},[e._v("设置前置条件顺序")]):e._e()],1)],1)],1),e._v("\n\n      1.接口前置条件：\n      "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.apiconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.apiconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"前置条件名",align:"center",prop:"subconditionname",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属用例",align:"center",prop:"conditionname",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"前置接口",align:"center",prop:"casename",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("testscene:caseupdateapicondition")||e.hasPermission("testscene:casedeleteapicondition")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:caseupdateapicondition")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapiconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("testscene:casedeleteapicondition")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removecaseapicondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showCaseVariablesforConditionDialog(t.$index)}}},[e._v("提取变量\n            ")]):e._e()]}}],null,!1,3297224524)}):e._e()],1),e._v("\n\n      2 .数据库前置条件：\n      "),a("el-table",{attrs:{data:e.dbconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.dbconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属用例","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{label:"环境",align:"center",prop:"enviromentname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"组件名",align:"center",prop:"assemblename",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"Sql类型",align:"center",prop:"dbtype",width:"65"}}),e._v(" "),a("el-table-column",{attrs:{label:"Sql内容",align:"center",prop:"dbcontent",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.dbcontent))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(">\n        "),a("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("dbcondition:update")||e.hasPermission("dbcondition:delete")?a("el-table-column",{attrs:{label:"管理",align:"center",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbcondition:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdatedbconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removedbcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showdbvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,2850445887)}):e._e()],1),e._v("\n      3 .脚本前置条件\n      "),a("el-table",{attrs:{data:e.scriptconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.scriptconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属用例","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"脚本",align:"center",prop:"script",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.script))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center","show-overflow-tooltip":!0,prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间",align:"center","show-overflow-tooltip":!0,prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptcondition:update")||e.hasPermission("scriptcondition:delete")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptcondition:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdatescriptconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptcondition:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removescriptcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showscriptvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,33338166)}):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.scripttextMap[e.scriptdialogStatus],visible:e.scriptdialogFormVisible},on:{"update:visible":function(t){e.scriptdialogFormVisible=t}}},[a("el-form",{ref:"tmpscriptcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscriptcondition}},[a("el-form-item",{attrs:{label:"脚本条件名",prop:"subconditionname",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptcondition.subconditionname,callback:function(t){e.$set(e.tmpscriptcondition,"subconditionname",t)},expression:"tmpscriptcondition.subconditionname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Java代码",prop:"script",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"4000",placeholder:"Java 代码"},model:{value:e.tmpscriptcondition.script,callback:function(t){e.$set(e.tmpscriptcondition,"script",t)},expression:"tmpscriptcondition.script"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.scriptdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.scriptdialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpscriptcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.scriptdialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.addscriptcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.scriptdialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatescriptcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.apiconditiontextMap[e.apiconditiondialogStatus],visible:e.caseconditiondialogFormVisible},on:{"update:visible":function(t){e.caseconditiondialogFormVisible=t}}},[a("el-form",{ref:"tmpapicondition",staticClass:"small-space",staticStyle:{width:"450px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpapicondition}},[a("el-form-item",{attrs:{label:"前置条件名",prop:"subconditionname",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicondition.subconditionname,callback:function(t){e.$set(e.tmpapicondition,"subconditionname",t)},expression:"tmpapicondition.subconditionname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微服务",prop:"deployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"微服务"},on:{change:function(t){return e.apiconditiondeployunitselectChanged(t)}},model:{value:e.tmpapicondition.deployunitname,callback:function(t){e.$set(e.tmpapicondition,"deployunitname",t)},expression:"tmpapicondition.deployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"模块:",prop:"modelname"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"模块"},on:{change:function(t){return e.apiconditionmodelselectChanged(t)}},model:{value:e.tmpapicondition.modelname,callback:function(t){e.$set(e.tmpapicondition,"modelname",t)},expression:"tmpapicondition.modelname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.apiconditionmodelList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.modelname,value:e.modelname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API",prop:"apiname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"API"},on:{change:function(t){return e.apiconditionapiselectChanged(t)}},model:{value:e.tmpapicondition.apiname,callback:function(t){e.$set(e.tmpapicondition,"apiname",t)},expression:"tmpapicondition.apiname"}},e._l(e.apiconditionapiList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)}),0)],1),e._v(" "),a("el-form-item",{attrs:{label:"接口",prop:"casename",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"接口"},on:{change:function(t){return e.apiconditiontestcaseselectChanged(t)}},model:{value:e.tmpapicondition.casename,callback:function(t){e.$set(e.tmpapicondition,"casename",t)},expression:"tmpapicondition.casename"}},e._l(e.conditionapicaseList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.casename,value:e.casename,required:""}})],1)}),0)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.apiconditiondialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpapicondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.apiconditiondialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapicondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.apiconditiondialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateapicondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dbtextMap[e.dbdialogStatus],visible:e.dbconditiondialogFormVisible},on:{"update:visible":function(t){e.dbconditiondialogFormVisible=t}}},[a("el-form",{ref:"tmpdbcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdbcondition}},[a("el-form-item",{attrs:{label:"数据库条件名：",prop:"subconditionname",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbcondition.subconditionname,callback:function(t){e.$set(e.tmpdbcondition,"subconditionname",t)},expression:"tmpdbcondition.subconditionname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"环境：",prop:"enviromentname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"环境"},on:{change:function(t){return e.selectChangedEN(t)}},model:{value:e.tmpdbcondition.enviromentname,callback:function(t){e.$set(e.tmpdbcondition,"enviromentname",t)},expression:"tmpdbcondition.enviromentname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"组件：",prop:"assemblename",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"组件"},on:{change:function(t){return e.ConditionselectChangedAS(t)}},model:{value:e.tmpdbcondition.assemblename,callback:function(t){e.$set(e.tmpdbcondition,"assemblename",t)},expression:"tmpdbcondition.assemblename"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviroment_assembleList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作类型：",prop:"dbtype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"操作类型"},on:{change:function(t){return e.selectChangedDBType(t)}},model:{value:e.tmpdbcondition.dbtype,callback:function(t){e.$set(e.tmpdbcondition,"dbtype",t)},expression:"tmpdbcondition.dbtype"}},[a("el-option",{attrs:{label:"新增",value:"Insert"}}),e._v(" "),a("el-option",{attrs:{label:"删除",value:"Delete"}}),e._v(" "),a("el-option",{attrs:{label:"修改",value:"Update"}}),e._v(" "),a("el-option",{attrs:{label:"查询",value:"Select"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Sql语句：",prop:"dbcontent",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"2000","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbcondition.dbcontent,callback:function(t){e.$set(e.tmpdbcondition,"dbcontent",t)},expression:"tmpdbcondition.dbcontent"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dbconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dbdialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdbcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.dbdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.adddbcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.dbdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"1000px",title:"数据库变量列表",visible:e.dbVariablesDialogFormVisible},on:{"update:visible":function(t){e.dbVariablesDialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("ApicasesVariables:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAdddbvariablesDialog(t)}}},[e._v("添加数据库变量")]):e._e()],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.dbvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.dbVariablesgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"数据库变量名",align:"center","show-overflow-tooltip":!0,prop:"dbvariablesname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),a("el-table-column",{attrs:{label:"列名","show-overflow-tooltip":!0,align:"center",prop:"fieldname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"行号",align:"center",prop:"roworder",width:"45"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("dbvariables:update")||e.hasPermission("dbvariables:delete")?a("el-table-column",{attrs:{label:"管理",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbvariables:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdatedbvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removedbvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2015913382)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchdbvariables.page,"page-size":e.searchdbvariables.size,total:e.dbvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.dbvariableshandleSizeChange,"current-change":e.dbvariableshandleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.dbvariablestextMap[e.dbvariablesdialogStatus],visible:e.adddbvariablesdialogFormVisible},on:{"update:visible":function(t){e.adddbvariablesdialogFormVisible=t}}},[a("el-form",{ref:"tmpdbvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdbvariables}},[a("el-form-item",{attrs:{label:"变量名",prop:"dbvariablesname",required:""}},[a("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbvariables.dbvariablesname,callback:function(t){e.$set(e.tmpdbvariables,"dbvariablesname",t)},expression:"tmpdbvariables.dbvariablesname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[a("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbvariables.variablesdes,callback:function(t){e.$set(e.tmpdbvariables,"variablesdes",t)},expression:"tmpdbvariables.variablesdes"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpdbvariables.valuetype,callback:function(t){e.$set(e.tmpdbvariables,"valuetype",t)},expression:"tmpdbvariables.valuetype"}},[a("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),a("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"表列名",prop:"fieldname",required:""}},[a("el-input",{attrs:{placeholder:"数据库查询结果集表列名",maxLength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.fieldname,callback:function(t){e.$set(e.tmpdbvariables,"fieldname",t)},expression:"tmpdbvariables.fieldname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表行号",prop:"roworder",required:""}},[a("el-input",{attrs:{placeholder:"数据库查询结果集行号",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.roworder,callback:function(t){e.$set(e.tmpdbvariables,"roworder",t)},expression:"tmpdbvariables.roworder"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{maxlength:"60",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.memo,callback:function(t){e.$set(e.tmpdbvariables,"memo",t)},expression:"tmpdbvariables.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.adddbvariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dbvariablesdialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdbvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.dbvariablesdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.adddbvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.dbvariablesdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"1050px",title:"脚本变量列表",visible:e.scriptVariablesDialogFormVisible},on:{"update:visible":function(t){e.scriptVariablesDialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("ApicasesVariables:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddscriptvariablesDialog(t)}}},[e._v("添加脚本变量")]):e._e()],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.scriptvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.scriptvariablesgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"脚本变量名",align:"center",prop:"scriptvariablesname",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptvariables:update")||e.hasPermission("scriptvariables:delete")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptvariables:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdatescriptvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptvariables:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removescriptvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,1461344774)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchscriptvariables.page,"page-size":e.searchscriptvariables.size,total:e.scriptvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.scriptvariableshandleSizeChange,"current-change":e.scriptvariableshandleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.scriptVariablestextMap[e.scriptVariablesdialogStatus],visible:e.addscriptVariablesdialogFormVisible},on:{"update:visible":function(t){e.addscriptVariablesdialogFormVisible=t}}},[a("el-form",{ref:"tmpscriptvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscriptvariables}},[a("el-form-item",{attrs:{label:"变量名",prop:"scriptvariablesname",required:""}},[a("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptvariables.scriptvariablesname,callback:function(t){e.$set(e.tmpscriptvariables,"scriptvariablesname",t)},expression:"tmpscriptvariables.scriptvariablesname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[a("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptvariables.variablesdes,callback:function(t){e.$set(e.tmpscriptvariables,"variablesdes",t)},expression:"tmpscriptvariables.variablesdes"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpscriptvariables.valuetype,callback:function(t){e.$set(e.tmpscriptvariables,"valuetype",t)},expression:"tmpscriptvariables.valuetype"}},[a("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),a("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpscriptvariables.memo,callback:function(t){e.$set(e.tmpscriptvariables,"memo",t)},expression:"tmpscriptvariables.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.addscriptVariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.scriptVariablesdialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpscriptvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.scriptVariablesdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addscriptvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.scriptVariablesdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatescriptvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.DelaytextMap[e.DelaydialogStatus],visible:e.DelaydialogFormVisible},on:{"update:visible":function(t){e.DelaydialogFormVisible=t}}},[a("el-form",{ref:"tmpdelaycondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdelaycondition}},[a("el-form-item",{attrs:{label:"条件名",prop:"subconditionname",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdelaycondition.subconditionname,callback:function(t){e.$set(e.tmpdelaycondition,"subconditionname",t)},expression:"tmpdelaycondition.subconditionname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"等待时间(秒)",prop:"delaytime",required:""}},[a("el-input",{attrs:{placeholder:"等待时间(秒)",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdelaycondition.delaytime,callback:function(t){e.$set(e.tmpdelaycondition,"delaytime",t)},expression:"tmpdelaycondition.delaytime"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.DelaydialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.DelaydialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdelaycondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.DelaydialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.adddelaycondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.DelaydialogStatus?a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatedelaycondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"前置条件顺序",width:"840px",visible:e.ConditionOrderdialogFormVisible},on:{"update:visible":function(t){e.ConditionOrderdialogFormVisible=t}}},[a("el-form",{staticClass:"small-space",attrs:{"status-icon":"","label-position":"left","label-width":"120px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.conditionorderList,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"subconditionname",align:"center",label:"前置条件名",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"conditionname",align:"center",label:"条件来源",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subconditiontype",align:"center",label:"条件类型",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderstatus",align:"center",label:"状态",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"conditionorder",align:"center",label:"顺序",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作排序",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",disabled:0===t.$index},on:{click:function(a){return e.moveUp(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),a("el-button",{attrs:{size:"mini",disabled:t.$index===e.conditionorderList.length-1},on:{click:function(a){return e.moveDown(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-arrow-down"})])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.ConditionOrderdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.saveconditionorder(t)}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},U=a("VU/8")(I,M,!1,null,null,null);t.default=U.exports},"9Bbf":function(e,t,a){"use strict";var i=a("kM2E");e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,a){"use strict";var i=a("evD5").f,s=a("Yobk"),n=a("xH/j"),o=a("+ZMJ"),l=a("2KxR"),r=a("NWt+"),c=a("vIB/"),d=a("EGZi"),p=a("bRrM"),u=a("+E39"),m=a("06OY").fastKey,h=a("LIJb"),b=u?"_s":"size",v=function(e,t){var a,i=m(t);if("F"!==i)return e._i[i];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var d=e(function(e,i){l(e,d,t,"_i"),e._t=t,e._i=s(null),e._f=void 0,e._l=void 0,e[b]=0,void 0!=i&&r(i,a,e[c],e)});return n(d.prototype,{clear:function(){for(var e=h(this,t),a=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete a[i.i];e._f=e._l=void 0,e[b]=0},delete:function(e){var a=h(this,t),i=v(a,e);if(i){var s=i.n,n=i.p;delete a._i[i.i],i.r=!0,n&&(n.n=s),s&&(s.p=n),a._f==i&&(a._f=s),a._l==i&&(a._l=n),a[b]--}return!!i},forEach:function(e){h(this,t);for(var a,i=o(e,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(i(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!v(h(this,t),e)}}),u&&i(d.prototype,"size",{get:function(){return h(this,t)[b]}}),d},def:function(e,t,a){var i,s,n=v(e,t);return n?n.v=a:(e._l=n={i:s=m(t,!0),k:t,v:a,p:i=e._l,n:void 0,r:!1},e._f||(e._f=n),i&&(i.n=n),e[b]++,"F"!==s&&(e._i[s]=n)),e},getEntry:v,setStrong:function(e,t,a){c(e,t,function(e,a){this._t=h(e,t),this._k=a,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},a?"entries":"values",!a,!0),p(t)}}},ALrJ:function(e,t,a){var i=a("+ZMJ"),s=a("MU5D"),n=a("sB3e"),o=a("QRG4"),l=a("oeOm");e.exports=function(e,t){var a=1==e,r=2==e,c=3==e,d=4==e,p=6==e,u=5==e||p,m=t||l;return function(t,l,h){for(var b,v,f=n(t),g=s(f),y=i(l,h,3),x=o(g.length),_=0,w=a?m(t,x):r?m(t,0):void 0;x>_;_++)if((u||_ in g)&&(v=y(b=g[_],_,f),e))if(a)w[_]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return _;case 2:w.push(b)}else if(d)return!1;return p?-1:c||d?d:w}}},HpRW:function(e,t,a){"use strict";var i=a("kM2E"),s=a("lOnJ"),n=a("+ZMJ"),o=a("NWt+");e.exports=function(e){i(i.S,e,{from:function(e){var t,a,i,l,r=arguments[1];return s(this),(t=void 0!==r)&&s(r),void 0==e?new this:(a=[],t?(i=0,l=n(r,arguments[2],2),o(e,!1,function(e){a.push(l(e,i++))})):o(e,!1,a.push,a),new this(a))}})}},LIJb:function(e,t,a){var i=a("EqjI");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},MyJb:function(e,t,a){"use strict";t.e=function(e){return Object(i.a)({url:"/api/casedata/updatepropertydata",method:"post",data:e})},t.c=function(e){return Object(i.a)({url:"/api/casedata/casevalue",method:"post",data:e})},t.b=function(e){return Object(i.a)({url:"/api/casedata/casevalueforbody",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:"/api/casedata",method:"post",data:e})},t.d=function(e){return Object(i.a)({url:"/api/casedata/detail",method:"put",data:e})};var i=a("vLgD")},UvrK:function(e,t,a){var i=a("kM2E");i(i.P+i.R,"Map",{toJSON:a("m9gC")("Map")})},Xjd4:function(e,t,a){a("9Bbf")("Map")},bqnK:function(e,t,a){a("HpRW")("Map")},ifoU:function(e,t,a){e.exports={default:a("3C/1"),__esModule:!0}},m9gC:function(e,t,a){var i=a("RY/4"),s=a("4WTo");e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return s(this)}}},nzYI:function(e,t,a){"use strict";t.e=function(e){return Object(i.a)({url:"/globalheaderuse/searchheaderbyepid",method:"post",data:e})},t.g=function(e){return Object(i.a)({url:"globalheaderuse/searchnotexit",method:"post",data:e})},t.f=function(e){return Object(i.a)({url:"globalheaderuse/searchexit",method:"post",data:e})},t.b=function(e){return Object(i.a)({url:"globalheaderuse/addcases",method:"post",data:e})},t.c=function(e){return Object(i.a)({url:"globalheaderuse/deletacases",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:"globalheaderuse/",method:"post",data:e})},t.h=function(e){return Object(i.a)({url:"globalheaderuse/detail",method:"put",data:e})},t.d=function(e){return Object(i.a)({url:"globalheaderuse/"+e,method:"delete"})};var i=a("vLgD")},oeOm:function(e,t,a){var i=a("7Doy");e.exports=function(e,t){return new(i(e))(t)}},qCoq:function(e,t,a){"use strict";var i=a("9C8M"),s=a("LIJb");e.exports=a("qo66")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(s(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(s(this,"Map"),0===e?0:e,t)}},i,!0)},qo66:function(e,t,a){"use strict";var i=a("7KvD"),s=a("kM2E"),n=a("06OY"),o=a("S82l"),l=a("hJx8"),r=a("xH/j"),c=a("NWt+"),d=a("2KxR"),p=a("EqjI"),u=a("e6n0"),m=a("evD5").f,h=a("ALrJ")(0),b=a("+E39");e.exports=function(e,t,a,v,f,g){var y=i[e],x=y,_=f?"set":"add",w=x&&x.prototype,L={};return b&&"function"==typeof x&&(g||w.forEach&&!o(function(){(new x).entries().next()}))?(x=t(function(t,a){d(t,x,e,"_c"),t._c=new y,void 0!=a&&c(a,f,t[_],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!g||"clear"!=e)&&l(x.prototype,e,function(a,i){if(d(this,x,e),!t&&g&&!p(a))return"get"==e&&void 0;var s=this._c[e](0===a?0:a,i);return t?this:s})}),g||m(x.prototype,"size",{get:function(){return this._c.size}})):(x=v.getConstructor(t,e,f,_),r(x.prototype,a),n.NEED=!0),u(x,e),L[e]=x,s(s.G+s.W+s.F,L),g||v.setStrong(x,e,f),x}}});
//# sourceMappingURL=3.5b821c3abe97d39cb804.js.map