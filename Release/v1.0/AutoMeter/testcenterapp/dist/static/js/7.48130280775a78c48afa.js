webpackJsonp([7],{DkJU:function(e,t,i){"use strict";t.e=function(e){return Object(a.a)({url:"/testscene/search",method:"post",data:e})},t.f=function(e){return Object(a.a)({url:"/testscene/searchscenetreedata",method:"post",data:e})},t.a=function(e){return Object(a.a)({url:"/testscene",method:"post",data:e})},t.g=function(e){return Object(a.a)({url:"/testscene/detail",method:"put",data:e})},t.b=function(e){return Object(a.a)({url:"/testscene/copyscene",method:"post",data:e})},t.c=function(e){return Object(a.a)({url:"/testscene/scenes",method:"get",params:e})},t.d=function(e){return Object(a.a)({url:"/testscene/"+e,method:"delete"})};var a=i("vLgD")},NXqa:function(e,t,i){"use strict";t.f=function(e){return Object(a.a)({url:"/executeplan/testcase/getcasebydeployandapi",method:"post",data:e})},t.e=function(e){return Object(a.a)({url:"/executeplan/testcase/search",method:"post",data:e})},t.b=function(e){return Object(a.a)({url:"/executeplan/testcase/getplancasesbyplanidandorder",method:"post",data:e})},t.g=function(e){return Object(a.a)({url:"/executeplan/testcase/updatePlanCaseorder",method:"post",data:e})},t.a=function(e){return Object(a.a)({url:"/executeplan/testcase/addcases",method:"post",data:e})},t.c=function(e){return Object(a.a)({url:"/executeplan/testcase/removecases",method:"post",data:e})},t.d=function(e){return Object(a.a)({url:"/executeplan/testcase/"+e,method:"delete"})};var a=i("vLgD")},"j7l/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Xxa5"),n=i.n(a),s=i("exGp"),o=i.n(s),l=i("Dd8w"),c=i.n(l),r=i("jAkc"),d=i("2d0t"),p=i("W+bg"),m=i("XcM5"),u=i("W5b6"),b=i("NXqa"),h=i("vuyV"),v=i("0xDb"),f=i("W/rB"),g=i("L6vm"),y=i("CS7w"),_=i("NYxO"),x=i("DkJU"),w=i("nzYI"),L=i("ZBZm"),S=i("k8Cg"),k=i("mKAx"),$=i("0qgb"),D=i("5kbS"),V=i("jO+8"),C=i("Xw19"),O=i("TKH6"),F=i("sc77"),j=i("JGZL"),z=i("ggxm"),P=i("vLgD");var T={name:"测试集合",filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{CollectionNoticeFormVisible:!1,modifyplannmessagedialogFormVisible:!1,plannmessagedialogStatus:"add",plannmessagetextMap:{update:"修改集合通知",add:"添加集合通知"},planmessageList:[],searchnotice:{page:1,size:10,executeplanid:0},tmpplannmessage:{id:"",executeplanid:"",messagetype:"",hookcontent:"",mid:"",memo:""},tmpsubconditionid:"",conditionorderList:[],saveconditionorderList:[],searchconditionorder:{subconditionid:"",conditiontype:""},ConditionOrderdialogFormVisible:!1,id:null,datevisible:!1,timevisible:!1,itemKey:null,itemplanKey:null,itemcaseKey:null,planbusinessdiclist:[],tmpexecuteplanname:"",tmpcasedeployunitname:null,tmpcaseapiname:null,tmpcaseexecuteplanid:null,tmpcasecasetype:null,show:!1,PerformanceVisible:!1,enviromentnameList:[],apiList:[],deployunitList:[],multipleSelection:[],casemultipleSelection:[],globalheaderallList:[],executeplanList:[],testcaseList:[],testcaselastList:[],executeplancaseList:[],executeplancaseexistList:[],executeplancaseremovetList:[],executeplanstopList:[],tmpplanbatchList:[],paramsList:[],addtestscenelastList:[],testplansceneList:[],testsceneList:[],addtestsceneList:[],apiconditioncaseList:[],sceneapiconditioncaseList:[],conditioncaseList:[],sceneconditioncaseList:[],apiconditionmodelList:[],sceneconditionmodelList:[],apiconditionapiList:[],sceneconditionapiList:[],scenedelayconditionList:[],itemaddsceneKey:null,scenemultipleSelection:[],delayconditionList:[],stopplanbatchList:[],dbconditioncaseList:[],scenedbconditioncaseList:[],enviroment_assembleList:[],tmptestscenename:null,scenetotal:0,addscenetotal:0,testplanscenetotal:0,SceneapiconditiontextMap:{update:"修改前置接口条件",add:"添加前置接口条件"},DelaytextMap:{update:"修改延时条件",add:"添加延时条件"},addsearchscene:{page:1,size:10,usetype:null,projectid:""},searchscene:{page:1,size:10,testplanid:0,projectid:""},listLoading:!1,caselistLoading:!1,total:0,casetotal:0,apiQuery:{page:1,size:10,deployunitname:""},listQuery:{page:1,size:10,listLoading:!0,executeplanname:"",projectid:"",creator:""},caselistQuery:{page:1,size:10,listLoading:!0,deployunitname:null,apiname:null,executeplanid:null,casetype:null},ParamsdialogStatus:"add",DelaydialogStatus:"add",dialogStatus:"add",SceneconditiondialogStatus:"add",plandbdialogStatus:"add",scenedbdialogStatus:"add",dialogFormVisible:!1,casedialogFormVisible:!1,batchdialogFormVisible:!1,CollectionParamsFormVisible:!1,modifyparamdialogFormVisible:!1,ConditionFormVisible:!1,testscenedialogFormVisible:!1,addtestscenedialogFormVisible:!1,scenecaseConditionFormVisible:!1,SceneconditiondialogFormVisible:!1,DelaydialogFormVisible:!1,stopbatchdialogFormVisible:!1,dbconditiondialogFormVisible:!1,scenedbconditiondialogFormVisible:!1,loadcase:"装载用例",loadbatch:"执行计划",textMap:{updateRole:"修改测试集合",update:"修改测试集合",add:"添加测试集合"},plandbtextMap:{updateRole:"修改测试集合",update:"修改数据库前置条件",add:"添加数据库前置条件"},scenedbtextMap:{updateRole:"修改测试集合",update:"修改数据库前置条件",add:"添加数据库前置条件"},apiconditiontextMap:{update:"修改前置接口条件",add:"添加前置接口条件"},apiconditiondialogStatus:"add",caseconditiondialogFormVisible:!1,tmpapicondition:{page:1,size:10,id:"",modelid:0,modelname:"",conditionid:"",subconditionname:"",conditionname:"",deployunitid:"",deployunitname:"",apiname:"",apiid:"",caseid:"",casename:"",memo:"",conditiontype:"",creator:"",projectid:""},tmpsceneapicondition:{page:1,size:10,id:"",modelid:0,modelname:"",conditionid:"",subconditionname:"",conditionname:"",deployunitid:"",deployunitname:"",apiname:"",apiid:"",caseid:"",casename:"",memo:"",conditiontype:"",creator:"",projectid:""},tmpdelaycondition:{id:"",subconditionname:"",conditionid:"",conditionname:"",conditiontype:"",delaytime:"",creator:"",projectid:""},tmpdbcondition:{id:"",conditionid:"",conditionname:"",assembleid:"",assemblename:"",subconditionname:"",enviromentid:"",enviromentname:"",dbtype:"",dbcontent:"",connectstr:"",memo:"",conditiontype:"execplan",creator:"",projectid:""},tmpscenedbcondition:{id:"",conditionid:"",conditionname:"",assembleid:"",assemblename:"",subconditionname:"",enviromentid:"",enviromentname:"",dbtype:"",dbcontent:"",connectstr:"",memo:"",conditiontype:"scene",creator:"",projectid:""},paramstextMap:{updateRole:"修改参数",update:"修改参数",add:"添加参数"},diclevelQuery:{page:1,size:100,diccode:"planbusinesstype"},btnLoading:!1,casebtnLoading:!1,execbtnLoading:!1,tmpexecuteplan:{id:"",executeplanname:"",enviromentname:"",envid:"",status:"",usetype:"",businesstype:"",ip:"",memo:"",creator:"",dingdingtoken:"",runmode:"",projectid:""},tmpplanbatch:{executeplanid:"",executeplanname:"",batchid:"",batchname:"",creator:"",exectype:"",exectmpdate:"",execdate:"",exectime:"",projectid:""},tmpstopplanbatch:{executeplanid:"",batchid:"",batchname:"",projectid:""},tmpplanenv:{id:"",envid:"",projectid:"",enviromentname:""},tmpapicases:{id:"",casename:"",deployunitname:"",apiname:"",casejmxname:"",casecontent:"",expect:"",level:"",memo:"",creator:"admin"},tmpparam:{id:"",executeplanid:"",paramstype:"",keyname:"",keyvalue:"",globalheadername:"",globalheaderid:0},tmpep:{executeplanid:""},search:{page:1,size:10,executeplanname:null,businesstype:"",creator:"",nickname:"",accountId:null,projectid:""},Scenedelaysearch:{page:1,size:10,conditionid:null,conditiontype:null,projectid:null},searchcase:{page:1,size:10,deployunitname:null,apiname:null,executeplanid:null,casetype:null,projectid:""},searchparam:{page:1,size:10},searchapicondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},searchplanapicondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},tmpexecplan:{execplanid:0,execplanname:null},searchdbcondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},searchapicasevariables:{page:1,size:10,projectid:""},tmptestvariables:{id:"",caseid:"",casename:"",testvariablesname:"",variablesdes:"",valuetype:"",testvariablestype:"",variablesexpress:"",memo:"",creator:"",projectid:""},caseaddvariablesdialogFormVisible:!1,caseVariablesDialogFormVisible:!1,apicasevariablestotal:0,ApicasesVariablesList:[],caseaddvariablesdialogStatus:"add",caseaddvariablestextMap:{update:"修改变量",add:"添加变量"},scriptdialogFormVisible:!1,scriptdialogStatus:"add",tmpscriptcondition:{id:"",subconditionname:"",conditionid:"",conditionname:"",script:"",creator:"",projectid:""},scripttextMap:{updateRole:"修改环境",update:"修改脚本前置条件",add:"添加脚本前置条件"},searchscriptcondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},scenescriptconditionList:[],planscriptdialogFormVisible:!1,planscriptdialogStatus:"add",tmpplanscriptcondition:{id:"",subconditionname:"",conditionid:"",conditionname:"",script:"",creator:"",projectid:""},planscripttextMap:{updateRole:"修改环境",update:"修改脚本前置条件",add:"添加脚本前置条件"},searchplanscriptcondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},planscriptconditionList:[],tmpplanscriptvariables:{id:"",scriptvariablesname:"",variablesdes:"",valuetype:"",memo:"",creator:"",conditionid:"",conditionname:"",projectid:""},planscriptVariablestextMap:{updateRole:"修改API用例",update:"修改脚本变量",add:"添加脚本变量"},planscriptVariablesdialogStatus:"add",addplanscriptVariablesdialogFormVisible:!1,planscriptVariablesDialogFormVisible:!1,searchplanscriptvariables:{page:1,size:10,conditionid:"",projectid:""},planscriptvariablesList:[],planscriptvariablestotal:0,tmpscriptvariables:{id:"",scriptvariablesname:"",variablesdes:"",valuetype:"",memo:"",creator:"",conditionid:"",conditionname:"",projectid:""},scriptVariablestextMap:{updateRole:"修改API用例",update:"修改脚本变量",add:"添加脚本变量"},scriptVariablesdialogStatus:"add",addscriptVariablesdialogFormVisible:!1,scriptVariablesDialogFormVisible:!1,searchscriptvariables:{page:1,size:10,conditionid:"",projectid:""},scriptvariablesList:[],scriptvariablestotal:0,dbVariablesDialogFormVisible:!1,adddbvariablesdialogFormVisible:!1,searchdbvariables:{page:1,size:10,conditionid:"",projectid:""},dbvariablesList:[],dbvariablestotal:0,dbvariablestextMap:{updateRole:"修改API用例",update:"修改数据库变量",add:"添加数据库变量"},dbvariablesdialogStatus:"add",tmpdbvariables:{id:"",dbvariablesname:"",variablesdes:"",valuetype:"",fieldname:"",roworder:"",conditionid:"",conditionname:"",memo:"",creator:"",projectid:""},plandbVariablesDialogFormVisible:!1,addplandbvariablesdialogFormVisible:!1,searchplandbvariables:{page:1,size:10,conditionid:"",projectid:""},plandbvariablesList:[],plandbvariablestotal:0,plandbvariablestextMap:{updateRole:"修改API用例",update:"修改数据库变量",add:"添加数据库变量"},plandbvariablesdialogStatus:"add",tmpplandbvariables:{id:"",dbvariablesname:"",variablesdes:"",valuetype:"",fieldname:"",roworder:"",conditionid:"",conditionname:"",memo:"",creator:"",projectid:""},searchassemble:{page:1,size:100,assembletype:"组件",envid:""}}},computed:c()({},Object(_.b)(["name","nickname","sidebar","projectlist","projectid","accountId"])),created:function(){this.search.accountId=this.accountId,this.search.projectid=window.localStorage.getItem("pid"),this.tmpplanbatch.projectid=window.localStorage.getItem("pid"),this.tmpplanenv.projectid=window.localStorage.getItem("pid"),this.listQuery.projectid=window.localStorage.getItem("pid"),this.addsearchscene.projectid=window.localStorage.getItem("pid"),this.searchapicondition.projectid=window.localStorage.getItem("pid"),this.Scenedelaysearch.projectid=window.localStorage.getItem("pid"),this.tmpstopplanbatch.projectid=window.localStorage.getItem("pid"),this.searchdbcondition.projectid=window.localStorage.getItem("pid"),this.getexecuteplanList(),this.getdepunitList(),this.getdatabydiccodeList(),this.getglobalheaderallList()},activated:function(){this.getexecuteplanList(),this.getdepunitList(),this.getenviromentallList(),this.getdatabydiccodeList(),this.getglobalheaderallList()},methods:{showplanconditionorderDialog:function(){this.ConditionOrderdialogFormVisible=!0,this.searchconditionorder.subconditionid=this.tmpsubconditionid,this.searchconditionorder.conditiontype="execplan",this.searchConditionorder()},showsceneconditionorderDialog:function(){this.ConditionOrderdialogFormVisible=!0,this.searchconditionorder.subconditionid=this.tmpsubconditionid,this.searchconditionorder.conditiontype="scene",this.searchConditionorder()},searchConditionorder:function(){var e=this;Object(r.c)(this.searchconditionorder).then(function(t){e.conditionorderList=t.data}).catch(function(t){e.$message.error("查询条件顺序失败")})},saveconditionorder:function(){var e=this;this.saveconditionorderList=[];for(var t=0;t<this.conditionorderList.length;t++)this.saveconditionorderList.push({id:this.conditionorderList[t].id,conditionid:this.conditionorderList[t].conditionid,subconditionid:this.conditionorderList[t].subconditionid,subconditiontype:this.conditionorderList[t].subconditiontype,orderstatus:"已排序",subconditionname:this.conditionorderList[t].subconditionname,conditionname:this.conditionorderList[t].conditionname,conditionorder:t+1,creator:this.name});console.log(this.saveconditionorderList),Object(r.a)(this.saveconditionorderList).then(function(){e.$message.success("条件顺序保存成功")}).catch(function(t){e.$message.error("条件顺序保存失败")}),this.ConditionOrderdialogFormVisible=!1},moveUp:function(e,t){if(e>0){var i=this.conditionorderList[e-1];this.conditionorderList.splice(e-1,1),this.conditionorderList.splice(e,0,i)}else alert("已经是第一条，不可上移");console.log(this.conditionorderList)},moveDown:function(e,t){if(console.log("下移",e,t),e+1===this.conditionorderList.length)alert("已经是最后一条，不可下移");else{console.log(e);var i=this.conditionorderList[e+1];this.conditionorderList.splice(e+1,1),this.conditionorderList.splice(e,0,i)}},findMacAndDepWithEnv:function(){var e=this;Object(z.e)(this.searchassemble).then(function(t){e.enviroment_assembleList=t.data.list}).catch(function(t){e.$message.error("获取组件列表失败")})},planscriptvariableshandleSizeChange:function(e){this.searchplanscriptvariables.page=1,this.searchplanscriptvariables.size=e,this.getplanscriptvariablesList()},planscriptvariableshandleCurrentChange:function(e){this.searchplanscriptvariables.page=e,this.getplanscriptvariablesList()},planscriptvariablesgetIndex:function(e){return(this.searchplanscriptvariables.page-1)*this.searchplanscriptvariables.size+e+1},showAddplanscriptvariablesDialog:function(){this.addplanscriptVariablesdialogFormVisible=!0,this.planscriptVariablesdialogStatus="add",this.tmpplanscriptvariables.id="",this.tmpplanscriptvariables.scriptvariablesname="",this.tmpplanscriptvariables.variablesdes="",this.tmpplanscriptvariables.valuetype="",this.tmpplanscriptvariables.memo="",this.tmpplanscriptvariables.creator=this.name,this.tmpplanscriptvariables.projectid=window.localStorage.getItem("pid")},showUpdateplanscriptvariablesDialog:function(e){this.addplanscriptVariablesdialogFormVisible=!0,this.planscriptVariablesdialogStatus="update",this.tmpplanscriptvariables.id=this.planscriptvariablesList[e].id,this.tmpplanscriptvariables.scriptvariablesname=this.planscriptvariablesList[e].scriptvariablesname,this.tmpplanscriptvariables.variablesdes=this.planscriptvariablesList[e].variablesdes,this.tmpplanscriptvariables.valuetype=this.planscriptvariablesList[e].valuetype,this.tmpplanscriptvariables.memo=this.planscriptvariablesList[e].memo,this.tmpplanscriptvariables.creator=this.name},updateplanscriptvariables:function(){var e=this;this.$refs.tmpplanscriptvariables.validate(function(t){t&&Object(O.d)(e.tmpplanscriptvariables).then(function(){e.$message.success("更新成功"),e.getplanscriptvariablesList(),e.addplanscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removeplanscriptvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.planscriptvariablesList[e].id;Object(O.b)(i).then(function(){t.$message.success("删除成功"),t.getplanscriptvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},addplanscriptvariables:function(){var e=this;this.$refs.tmpplanscriptvariables.validate(function(t){t&&Object(O.a)(e.tmpplanscriptvariables).then(function(){e.$message.success("添加成功"),e.getplanscriptvariablesList(),e.addplanscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},getplanscriptvariablesList:function(){var e=this;Object(O.c)(this.searchplanscriptvariables).then(function(t){e.planscriptvariablesList=t.data.list,e.planscriptvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},showplanscriptvariablesDialog:function(e){this.planscriptVariablesDialogFormVisible=!0,this.tmpplanscriptvariables.conditionid=this.planscriptconditionList[e].id,this.searchplanscriptvariables.conditionid=this.planscriptconditionList[e].id,this.tmpplanscriptvariables.conditionname=this.planscriptconditionList[e].subconditionname,this.getplanscriptvariablesList()},removeplanscriptcondition:function(e){var t=this;this.$confirm("删除该脚本条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.planscriptconditionList[e].id;Object(F.c)(i).then(function(){t.$message.success("删除成功"),t.getplanscriptconditionList()})}).catch(function(){t.$message.info("已取消删除")})},updateplanscriptcondition:function(){var e=this;this.$refs.tmpplanscriptcondition.validate(function(t){t&&Object(F.e)(e.tmpplanscriptcondition).then(function(){e.$message.success("更新成功"),e.getplanscriptconditionList(),e.planscriptdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},getplanscriptconditionList:function(){var e=this;Object(F.d)(this.searchplanscriptcondition).then(function(t){e.planscriptconditionList=t.data.list}).catch(function(t){e.$message.error("加载测试脚本条件列表失败")})},addplanscriptcondition:function(){var e=this;this.$refs.tmpplanscriptcondition.validate(function(t){t&&Object(F.a)(e.tmpplanscriptcondition).then(function(){e.$message.success("添加成功"),e.getplanscriptconditionList(),e.planscriptdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},scriptvariableshandleSizeChange:function(e){this.searchscriptvariables.page=1,this.searchscriptvariables.size=e,this.getscenescriptvariablesList()},scriptvariableshandleCurrentChange:function(e){this.searchscriptvariables.page=e,this.getscenescriptvariablesList()},scriptvariablesgetIndex:function(e){return(this.searchscriptvariables.page-1)*this.searchscriptvariables.size+e+1},showAddscriptvariablesDialog:function(){this.addscriptVariablesdialogFormVisible=!0,this.scriptVariablesdialogStatus="add",this.tmpscriptvariables.id="",this.tmpscriptvariables.scriptvariablesname="",this.tmpscriptvariables.variablesdes="",this.tmpscriptvariables.valuetype="",this.tmpscriptvariables.memo="",this.tmpscriptvariables.creator=this.name,this.tmpscriptvariables.projectid=window.localStorage.getItem("pid")},showUpdatescriptvariablesDialog:function(e){this.addscriptVariablesdialogFormVisible=!0,this.scriptVariablesdialogStatus="update",this.tmpscriptvariables.id=this.scriptvariablesList[e].id,this.tmpscriptvariables.scriptvariablesname=this.scriptvariablesList[e].scriptvariablesname,this.tmpscriptvariables.variablesdes=this.scriptvariablesList[e].variablesdes,this.tmpscriptvariables.valuetype=this.scriptvariablesList[e].valuetype,this.tmpscriptvariables.memo=this.scriptvariablesList[e].memo,this.tmpscriptvariables.creator=this.name},updatescriptvariables:function(){var e=this;this.$refs.tmpscriptvariables.validate(function(t){t&&Object(O.d)(e.tmpscriptvariables).then(function(){e.$message.success("更新成功"),e.getscenescriptvariablesList(),e.addscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removescriptvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.scriptvariablesList[e].id;Object(O.b)(i).then(function(){t.$message.success("删除成功"),t.getscenescriptvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},addscriptvariables:function(){var e=this;this.$refs.tmpscriptvariables.validate(function(t){t&&Object(O.a)(e.tmpscriptvariables).then(function(){e.$message.success("添加成功"),e.getscenescriptvariablesList(),e.addscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},getscenescriptvariablesList:function(){var e=this;Object(O.c)(this.searchscriptvariables).then(function(t){e.scriptvariablesList=t.data.list,e.scriptvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},showscenescriptvariablesDialog:function(e){this.scriptVariablesDialogFormVisible=!0,this.tmpscriptvariables.conditionid=this.scenescriptconditionList[e].id,this.searchscriptvariables.conditionid=this.scenescriptconditionList[e].id,this.tmpscriptvariables.conditionname=this.scenescriptconditionList[e].subconditionname,this.getscenescriptvariablesList()},showUpdatescenescriptconditionDialog:function(e){this.scriptdialogFormVisible=!0,this.scriptdialogStatus="update",this.tmpscriptcondition.id=this.scenescriptconditionList[e].id,this.tmpscriptcondition.subconditionname=this.scenescriptconditionList[e].subconditionname,this.tmpscriptcondition.conditionname=this.scenescriptconditionList[e].conditionname,this.tmpscriptcondition.script=this.scenescriptconditionList[e].script,this.tmpscriptcondition.creator=this.name},showUpdateplanscriptconditionDialog:function(e){this.planscriptdialogFormVisible=!0,this.planscriptdialogStatus="update",this.tmpplanscriptcondition.id=this.planscriptconditionList[e].id,this.tmpplanscriptcondition.subconditionname=this.planscriptconditionList[e].subconditionname,this.tmpplanscriptcondition.conditionname=this.planscriptconditionList[e].conditionname,this.tmpplanscriptcondition.script=this.planscriptconditionList[e].script,this.tmpplanscriptcondition.creator=this.name},removescenescriptcondition:function(e){var t=this;this.$confirm("删除该脚本条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.scenescriptconditionList[e].id;Object(F.c)(i).then(function(){t.$message.success("删除成功"),t.getscriptconditionList()})}).catch(function(){t.$message.info("已取消删除")})},updatescriptcondition:function(){var e=this;this.$refs.tmpscriptcondition.validate(function(t){t&&Object(F.e)(e.tmpscriptcondition).then(function(){e.$message.success("更新成功"),e.getscriptconditionList(),e.scriptdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},getscriptconditionList:function(){var e=this;Object(F.d)(this.searchscriptcondition).then(function(t){e.scenescriptconditionList=t.data.list}).catch(function(t){e.$message.error("加载测试脚本条件列表失败")})},addscriptcondition:function(){var e=this;this.$refs.tmpscriptcondition.validate(function(t){t&&Object(F.a)(e.tmpscriptcondition).then(function(){e.$message.success("添加成功"),e.getscriptconditionList(),e.scriptdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},showAddscriptDialog:function(){this.scriptdialogFormVisible=!0,this.scriptdialogStatus="add",this.tmpscriptcondition.id="",this.tmpscriptcondition.subconditionname="",this.tmpscriptcondition.script="",this.tmpscriptcondition.creator=this.name,this.tmpscriptcondition.projectid=window.localStorage.getItem("pid")},showAddplanscriptDialog:function(){this.planscriptdialogFormVisible=!0,this.planscriptdialogStatus="add",this.tmpplanscriptcondition.id="",this.tmpplanscriptcondition.subconditionname="",this.tmpplanscriptcondition.script="",this.tmpplanscriptcondition.creator=this.name,this.tmpplanscriptcondition.projectid=window.localStorage.getItem("pid")},removetestvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.ApicasesVariablesList[e].id;Object(C.d)(i).then(function(){t.$message.success("删除成功"),t.findtestvariablesbycaseid()})}).catch(function(){t.$message.info("已取消删除")})},updatetestvariables:function(){var e=this;this.$refs.tmptestvariables.validate(function(t){t&&Object(C.f)(e.tmptestvariables).then(function(){e.$message.success("更新成功"),e.findtestvariablesbycaseid(),e.caseaddvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},addtestvariables:function(){var e=this;this.$refs.tmptestvariables.validate(function(t){t&&Object(C.a)(e.tmptestvariables).then(function(){e.$message.success("添加成功"),e.caseaddvariablesdialogFormVisible=!1,e.findtestvariablesbycaseid()}).catch(function(t){e.$message.error("添加失败")})})},apicasevariableshandleCurrentChange:function(e){this.searchapicasevariables.page=e,this.findtestvariablesbycaseid()},apicasevariableshandleSizeChange:function(e){this.searchapicasevariables.page=1,this.searchapicasevariables.size=e,this.findtestvariablesbycaseid()},ApicasesVariablesgetIndex:function(e){return(this.searchapicasevariables.page-1)*this.searchapicasevariables.size+e+1},showAddApicasesVariablesDialog:function(e){this.caseaddvariablesdialogFormVisible=!0,this.caseaddvariablesdialogStatus="add",this.tmptestvariables.id="",this.tmptestvariables.testvariablesname="",this.tmptestvariables.variablesdes="",this.tmptestvariables.testvariablestype="",this.tmptestvariables.variablesexpress="",this.tmptestvariables.memo="",this.tmptestvariables.valuetype="",this.tmptestvariables.tmptestvariables="",this.tmptestvariables.creator=this.name,this.tmptestvariables.projectid=window.localStorage.getItem("pid")},showCaseVariablesforConditionDialog:function(e){this.caseVariablesDialogFormVisible=!0,this.tmptestvariables.caseid=this.sceneapiconditioncaseList[e].caseid,this.tmptestvariables.casename=this.sceneapiconditioncaseList[e].casename,this.findtestvariablesbycaseid()},showCaseVariablesforplanConditionDialog:function(e){this.caseVariablesDialogFormVisible=!0,this.tmptestvariables.caseid=this.apiconditioncaseList[e].caseid,this.tmptestvariables.casename=this.apiconditioncaseList[e].casename,this.findtestvariablesbycaseid()},findtestvariablesbycaseid:function(){var e=this;Object(C.b)(this.searchapicasevariables).then(function(t){e.ApicasesVariablesList=t.data.list,e.apicasevariablestotal=t.data.total}).catch(function(t){e.$message.error("获取用例变量列表失败")})},showUpdatedbvariablesDialog:function(e){this.adddbvariablesdialogFormVisible=!0,this.dbvariablesdialogStatus="update",this.tmpdbvariables.id=this.dbvariablesList[e].id,this.tmpdbvariables.dbvariablesname=this.dbvariablesList[e].dbvariablesname,this.tmpdbvariables.variablesdes=this.dbvariablesList[e].variablesdes,this.tmpdbvariables.valuetype=this.dbvariablesList[e].valuetype,this.tmpdbvariables.roworder=this.dbvariablesList[e].roworder,this.tmpdbvariables.fieldname=this.dbvariablesList[e].fieldname,this.tmpdbvariables.memo=this.dbvariablesList[e].memo,this.tmpdbvariables.creator=this.name},showUpdateplandbvariablesDialog:function(e){this.addplandbvariablesdialogFormVisible=!0,this.plandbvariablesdialogStatus="update",this.tmpplandbvariables.id=this.plandbvariablesList[e].id,this.tmpplandbvariables.dbvariablesname=this.plandbvariablesList[e].dbvariablesname,this.tmpplandbvariables.variablesdes=this.plandbvariablesList[e].variablesdes,this.tmpplandbvariables.valuetype=this.plandbvariablesList[e].valuetype,this.tmpplandbvariables.roworder=this.plandbvariablesList[e].roworder,this.tmpplandbvariables.fieldname=this.plandbvariablesList[e].fieldname,this.tmpplandbvariables.memo=this.plandbvariablesList[e].memo,this.tmpplandbvariables.creator=this.name},getdbvariablesList:function(){var e=this;Object(j.c)(this.searchdbvariables).then(function(t){e.dbvariablesList=t.data.list,e.dbvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},getplandbvariablesList:function(){var e=this;Object(j.c)(this.searchplandbvariables).then(function(t){e.plandbvariablesList=t.data.list,e.plandbvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},removedbvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.dbvariablesList[e].id;Object(j.b)(i).then(function(){t.$message.success("删除成功"),t.getdbvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},removeplandbvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.plandbvariablesList[e].id;Object(j.b)(i).then(function(){t.$message.success("删除成功"),t.getplandbvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},updatedbvariables:function(){var e=this;this.$refs.tmpdbvariables.validate(function(t){t&&Object(j.d)(e.tmpdbvariables).then(function(){e.$message.success("更新成功"),e.getdbvariablesList(),e.adddbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},updateplandbvariables:function(){var e=this;this.$refs.tmpplandbvariables.validate(function(t){t&&Object(j.d)(e.tmpplandbvariables).then(function(){e.$message.success("更新成功"),e.getplandbvariablesList(),e.addplandbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},adddbvariables:function(){var e=this;this.$refs.tmpdbvariables.validate(function(t){t&&Object(j.a)(e.tmpdbvariables).then(function(){e.$message.success("添加成功"),e.getdbvariablesList(),e.adddbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},addplandbvariables:function(){var e=this;this.$refs.tmpplandbvariables.validate(function(t){t&&Object(j.a)(e.tmpplandbvariables).then(function(){e.$message.success("添加成功"),e.getplandbvariablesList(),e.addplandbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},showAdddbvariablesDialog:function(){this.adddbvariablesdialogFormVisible=!0,this.dbvariablesdialogStatus="add",this.tmpdbvariables.id="",this.tmpdbvariables.dbvariablesname="",this.tmpdbvariables.variablesdes="",this.tmpdbvariables.roworder="",this.tmpdbvariables.fieldname="",this.tmpdbvariables.memo="",this.tmpdbvariables.valuetype="",this.tmpdbvariables.creator=this.name,this.tmpdbvariables.projectid=window.localStorage.getItem("pid")},showAddplandbvariablesDialog:function(){this.addplandbvariablesdialogFormVisible=!0,this.plandbvariablesdialogStatus="add",this.tmpplandbvariables.id="",this.tmpplandbvariables.dbvariablesname="",this.tmpplandbvariables.variablesdes="",this.tmpplandbvariables.roworder="",this.tmpplandbvariables.fieldname="",this.tmpplandbvariables.memo="",this.tmpplandbvariables.valuetype="",this.tmpplandbvariables.creator=this.name,this.tmpplandbvariables.projectid=window.localStorage.getItem("pid")},dbvariableshandleCurrentChange:function(e){this.searchdbvariables.page=e,this.getdbvariablesList()},plandbvariableshandleCurrentChange:function(e){this.searchplandbvariables.page=e,this.getplandbvariablesList()},dbvariableshandleSizeChange:function(e){this.searchdbvariables.page=1,this.searchdbvariables.size=e,this.getdbvariablesList()},plandbvariableshandleSizeChange:function(e){this.searchplandbvariables.page=1,this.searchplandbvariables.size=e,this.getplandbvariablesList()},dbVariablesgetIndex:function(e){return(this.searchdbvariables.page-1)*this.searchdbvariables.size+e+1},plandbVariablesgetIndex:function(e){return(this.searchplandbvariables.page-1)*this.searchplandbvariables.size+e+1},showscenedbvariablesDialog:function(e){this.dbVariablesDialogFormVisible=!0,this.tmpdbvariables.conditionid=this.scenedbconditioncaseList[e].id,this.searchdbvariables.conditionid=this.scenedbconditioncaseList[e].id,this.tmpdbvariables.conditionname=this.scenedbconditioncaseList[e].subconditionname,this.getdbvariablesList()},showplandbvariablesDialog:function(e){this.plandbVariablesDialogFormVisible=!0,this.tmpplandbvariables.conditionid=this.dbconditioncaseList[e].id,this.searchplandbvariables.conditionid=this.dbconditioncaseList[e].id,this.tmpplandbvariables.conditionname=this.dbconditioncaseList[e].subconditionname,this.getplandbvariablesList()},removescenedbcondition:function(e){var t=this;this.$confirm("删除该数据库条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.scenedbconditioncaseList[e].id;Object(D.c)(i).then(function(){t.$message.success("删除成功"),t.getscenedbconditionList()})}).catch(function(){t.$message.info("已取消删除")})},removedbcondition:function(e){var t=this;this.$confirm("删除该数据库条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.dbconditioncaseList[e].id;Object(D.c)(i).then(function(){t.$message.success("删除成功"),t.getdbconditionList()})}).catch(function(){t.$message.info("已取消删除")})},showUpdatedbconditionDialog:function(e){this.dbconditiondialogFormVisible=!0,this.plandbdialogStatus="update",this.tmpdbcondition.id=this.dbconditioncaseList[e].id,this.tmpdbcondition.conditionid=this.dbconditioncaseList[e].conditionid,this.tmpdbcondition.assembleid=this.dbconditioncaseList[e].assembleid,this.tmpdbcondition.enviromentid=this.dbconditioncaseList[e].enviromentid,this.tmpdbcondition.enviromentname=this.dbconditioncaseList[e].enviromentname,this.tmpdbcondition.assemblename=this.dbconditioncaseList[e].assemblename,this.tmpdbcondition.conditionname=this.dbconditioncaseList[e].conditionname,this.tmpdbcondition.subconditionname=this.dbconditioncaseList[e].subconditionname,this.tmpdbcondition.dbtype=this.dbconditioncaseList[e].dbtype,this.tmpdbcondition.dbcontent=this.dbconditioncaseList[e].dbcontent,this.tmpdbcondition.creator=this.name},showUpdatescenedbconditionDialog:function(e){this.scenedbconditiondialogFormVisible=!0,this.scenedbdialogStatus="update",this.tmpscenedbcondition.id=this.scenedbconditioncaseList[e].id,this.tmpscenedbcondition.conditionid=this.scenedbconditioncaseList[e].conditionid,this.tmpscenedbcondition.assembleid=this.scenedbconditioncaseList[e].assembleid,this.tmpscenedbcondition.enviromentid=this.scenedbconditioncaseList[e].enviromentid,this.tmpscenedbcondition.enviromentname=this.scenedbconditioncaseList[e].enviromentname,this.tmpscenedbcondition.assemblename=this.scenedbconditioncaseList[e].assemblename,this.tmpscenedbcondition.conditionname=this.scenedbconditioncaseList[e].conditionname,this.tmpscenedbcondition.subconditionname=this.scenedbconditioncaseList[e].subconditionname,this.tmpscenedbcondition.dbtype=this.scenedbconditioncaseList[e].dbtype,this.tmpscenedbcondition.dbcontent=this.scenedbconditioncaseList[e].dbcontent,this.tmpscenedbcondition.creator=this.name},updatedbcondition:function(){var e=this;this.$refs.tmpdbcondition.validate(function(t){t&&Object(D.e)(e.tmpdbcondition).then(function(){e.$message.success("更新成功"),e.getdbconditionList(),e.dbconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},updatescenedbcondition:function(){var e=this;this.$refs.tmpscenedbcondition.validate(function(t){t&&Object(D.e)(e.tmpscenedbcondition).then(function(){e.$message.success("更新成功"),e.getscenedbconditionList(),e.scenedbconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},getplandbconditionList:function(){var e=this;Object(D.d)(this.searchdbcondition).then(function(t){e.dbconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载数据库条件列表失败")})},getscenedbconditionList:function(){var e=this;Object(D.d)(this.searchdbcondition).then(function(t){e.scenedbconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载数据库条件列表失败")})},creatorselectChanged:function(e){this.search.creator="全部"===e?"admin":this.name},ConditionselectChangedAS:function(e){for(var t=0;t<this.enviroment_assembleList.length;t++)this.enviroment_assembleList[t].deployunitname===e&&(this.tmpdbcondition.assembleid=this.enviroment_assembleList[t].assembleid)},SceneConditionselectChangedAS:function(e){for(var t=0;t<this.enviroment_assembleList.length;t++)this.enviroment_assembleList[t].deployunitname===e&&(this.tmpscenedbcondition.assembleid=this.enviroment_assembleList[t].assembleid)},getassembleallnameList:function(){var e=this;Object(k.b)(this.searchdbcondition).then(function(t){e.enviroment_assembleList=t.data}).catch(function(t){e.$message.error("获取组件列表失败")})},selectChangedEN:function(e){for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpdbcondition.enviromentid=this.enviromentnameList[t].id,this.searchassemble.envid=this.enviromentnameList[t].id,this.tmpdbcondition.assembleid=null,this.tmpdbcondition.assemblename=null,this.findMacAndDepWithEnv())},sceneselectChangedEN:function(e){for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpscenedbcondition.enviromentid=this.enviromentnameList[t].id,this.searchassemble.envid=this.enviromentnameList[t].id,this.findMacAndDepWithEnv())},dbconditioncaseIndex:function(e){return(this.searchdbcondition.page-1)*this.searchdbcondition.size+e+1},getdbconditionList:function(){var e=this;Object(D.d)(this.searchdbcondition).then(function(t){e.dbconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载测试数据库条件列表失败")})},showAddScenedbconditionDialog:function(e){this.scenedbconditiondialogFormVisible=!0,this.scenedbdialogStatus="add",this.tmpscenedbcondition.id="",this.tmpscenedbcondition.assembleid="",this.tmpscenedbcondition.enviromentid="",this.tmpscenedbcondition.enviromentname="",this.tmpscenedbcondition.assemblename="",this.tmpscenedbcondition.subconditionname="",this.tmpscenedbcondition.dbtype="",this.tmpscenedbcondition.dbcontent="",this.tmpscenedbcondition.creator=this.name,this.getassembleallnameList(),this.getenviromentallList()},AddcasedbconditionDialog:function(e){this.dbconditiondialogFormVisible=!0,this.plandbdialogStatus="add",this.tmpdbcondition.id="",this.tmpdbcondition.assembleid="",this.tmpdbcondition.enviromentid="",this.tmpdbcondition.enviromentname="",this.tmpdbcondition.assemblename="",this.tmpdbcondition.subconditionname="",this.tmpdbcondition.dbtype="",this.tmpdbcondition.dbcontent="",this.tmpdbcondition.creator=this.name,this.getassembleallnameList(),this.getenviromentallList()},adddbcondition:function(){var e=this;this.$refs.tmpdbcondition.validate(function(t){t&&Object(D.a)(e.tmpdbcondition).then(function(){e.$message.success("添加成功"),e.dbconditiondialogFormVisible=!1,e.getdbconditionList()}).catch(function(t){e.$message.error("添加失败")})})},addscenedbcondition:function(){var e=this;this.$refs.tmpscenedbcondition.validate(function(t){t&&Object(D.a)(e.tmpscenedbcondition).then(function(){e.$message.success("添加成功"),e.scenedbconditiondialogFormVisible=!1,e.getscenedbconditionList()}).catch(function(t){e.$message.error("添加失败")})})},getstopplanbatchList:function(){var e=this;Object(u.b)(this.tmpstopplanbatch).then(function(t){e.stopplanbatchList=t.data}).catch(function(t){e.$message.error("加载停止计划列表失败")})},getdelayconditionList:function(){var e=this;this.Scenedelaysearch.conditiontype="scene",Object(V.d)(this.Scenedelaysearch).then(function(t){e.scenedelayconditionList=t.data.list}).catch(function(t){e.$message.error("加载测试延时条件列表失败")})},showUpdatedelayconditionDialog:function(e){this.DelaydialogFormVisible=!0,this.DelaydialogStatus="update",this.tmpdelaycondition.id=this.scenedelayconditionList[e].id,this.tmpdelaycondition.subconditionname=this.scenedelayconditionList[e].subconditionname,this.tmpdelaycondition.delaytime=this.scenedelayconditionList[e].delaytime,this.tmpdelaycondition.creator=this.name},removescenedelaycondition:function(e){var t=this;this.$confirm("删除该延时条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.scenedelayconditionList[e].id;Object(V.b)(i).then(function(){t.$message.success("删除成功"),t.getdelayconditionList()})}).catch(function(){t.$message.info("已取消删除")})},updatebatchstatus:function(e){var t=this;this.$confirm("确认停止该执行计划？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){Object(u.d)(t.tmpstopplanbatch).then(function(){t.$message.success("停止成功"),t.stopbatchdialogFormVisible=!1,t.getdelayconditionList()})}).catch(function(){t.$message.info("已取消停止")})},updatedelaycondition:function(){var e=this;this.$refs.tmpdelaycondition.validate(function(t){t&&Object(V.e)(e.tmpdelaycondition).then(function(){e.$message.success("更新成功"),e.getdelayconditionList(),e.DelaydialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},adddelaycondition:function(){var e=this;this.$refs.tmpdelaycondition.validate(function(t){t&&Object(V.a)(e.tmpdelaycondition).then(function(){e.$message.success("添加成功"),e.getdelayconditionList(),e.DelaydialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},showAddScenedelayconditionDialog:function(){this.DelaydialogFormVisible=!0,this.DelaydialogStatus="add",this.tmpdelaycondition.id="",this.tmpdelaycondition.subconditionname="",this.tmpdelaycondition.conditionid=this.tmpsceneapicondition.conditionid,this.tmpdelaycondition.conditionname=this.tmpsceneapicondition.conditionname,this.tmpdelaycondition.conditiontype="scene",this.tmpdelaycondition.delaytime="",this.tmpdelaycondition.creator=this.name,this.tmpdelaycondition.projectid=window.localStorage.getItem("pid")},showtestscenecaseConditionDialog:function(e){this.scenecaseConditionFormVisible=!0,this.tmpsubconditionid=this.testplansceneList[e].testscenenid,this.tmpsceneapicondition.conditionid=this.testplansceneList[e].testscenenid,this.tmpsceneapicondition.conditionname=this.testplansceneList[e].scenename,this.tmpsceneapicondition.conditiontype="scene",this.searchapicondition.conditiontype="scene",this.searchapicondition.conditionid=this.testplansceneList[e].testscenenid,this.Scenedelaysearch.conditionid=this.testplansceneList[e].testscenenid,this.searchdbcondition.conditiontype="scene",this.searchdbcondition.conditionid=this.testplansceneList[e].testscenenid,this.tmpscenedbcondition.conditionid=this.testplansceneList[e].testscenenid,this.tmpscenedbcondition.conditionname=this.testplansceneList[e].scenename,this.tmpscenedbcondition.conditiontype="scene",this.tmpscriptcondition.conditionid=this.testplansceneList[e].id,this.tmpscriptcondition.conditionname=this.testplansceneList[e].scenename,this.tmpscriptcondition.conditiontype="scene",this.searchscriptcondition.conditiontype="scene",this.searchscriptcondition.conditionid=this.testplansceneList[e].id,this.getsceneapiconditionList(),this.getdelayconditionList(),this.getscenedbconditionList(),this.getscriptconditionList()},removetestplanscene:function(e){var t=this;this.$confirm("删除该测试场景？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.testplansceneList[e].id;Object(L.d)(i).then(function(){t.$message.success("删除成功"),t.findscenebyexecplanid(),t.getexecuteplanList()})}).catch(function(){t.$message.info("已取消删除")})},showUpdateapiconditionDialog:function(e){this.caseconditiondialogFormVisible=!0,this.apiconditiondialogStatus="update",this.tmpapicondition.id=this.apiconditioncaseList[e].id,this.tmpapicondition.subconditionname=this.apiconditioncaseList[e].subconditionname,this.tmpapicondition.deployunitname=this.apiconditioncaseList[e].deployunitname,this.tmpapicondition.apiname=this.apiconditioncaseList[e].apiname,this.tmpapicondition.casename=this.apiconditioncaseList[e].casename,this.tmpapicondition.modelname=this.apiconditioncaseList[e].modelname,this.tmpapicondition.memo=this.apiconditioncaseList[e].memo,this.tmpapicondition.creator=this.name,this.tmpapicondition.projectid=window.localStorage.getItem("pid")},showUpdatesceneconditionDialog:function(e){this.SceneconditiondialogFormVisible=!0,this.SceneconditiondialogStatus="update",this.tmpsceneapicondition.id=this.sceneapiconditioncaseList[e].id,this.tmpsceneapicondition.subconditionname=this.sceneapiconditioncaseList[e].subconditionname,this.tmpsceneapicondition.deployunitname=this.sceneapiconditioncaseList[e].deployunitname,this.tmpsceneapicondition.apiname=this.sceneapiconditioncaseList[e].apiname,this.tmpsceneapicondition.casename=this.sceneapiconditioncaseList[e].casename,this.tmpsceneapicondition.modelname=this.sceneapiconditioncaseList[e].modelname,this.tmpsceneapicondition.memo=this.sceneapiconditioncaseList[e].memo,this.tmpsceneapicondition.creator=this.name,this.tmpsceneapicondition.projectid=window.localStorage.getItem("pid")},updateapicondition:function(){var e=this;this.$refs.tmpapicondition.validate(function(t){t&&Object($.d)(e.tmpapicondition).then(function(){e.$message.success("更新成功"),e.getapiconditionList(),e.caseconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},updatescenecondition:function(){var e=this;this.$refs.tmpsceneapicondition.validate(function(t){t&&Object($.d)(e.tmpsceneapicondition).then(function(){e.$message.success("更新成功"),e.getsceneapiconditionList(),e.SceneconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removecasescenecondition:function(e){var t=this;this.$confirm("删除该前置条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.sceneapiconditioncaseList[e].id;Object($.b)(i).then(function(){t.$message.success("删除成功"),t.getsceneapiconditionList()})}).catch(function(){t.$message.info("已取消删除")})},removecaseapicondition:function(e){var t=this;this.$confirm("删除该前置条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.apiconditioncaseList[e].id;Object($.b)(i).then(function(){t.$message.success("删除成功"),t.getapiconditionList()})}).catch(function(){t.$message.info("已取消删除")})},apiconditiontestcaseselectChanged:function(e){for(var t=0;t<this.conditioncaseList.length;t++)this.conditioncaseList[t].casename===e&&(this.tmpapicondition.caseid=this.conditioncaseList[t].id)},sceneconditiontestcaseselectChanged:function(e){for(var t=0;t<this.sceneconditioncaseList.length;t++)this.sceneconditioncaseList[t].casename===e&&(this.tmpsceneapicondition.caseid=this.sceneconditioncaseList[t].id)},sceneconditionmodelselectChanged:function(e){var t=this;this.tmpsceneapicondition.apiname=null,this.tmpsceneapicondition.casename=null;for(var i=0;i<this.sceneconditionmodelList.length;i++)this.sceneconditionmodelList[i].modelname===e&&(this.tmpsceneapicondition.modelid=this.sceneconditionmodelList[i].id);""===e&&(this.tmpsceneapicondition.modelid=0,this.tmpsceneapicondition.modelname=""),Object(p.d)(this.tmpsceneapicondition).then(function(e){t.sceneconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},apiconditionmodelselectChanged:function(e){var t=this;this.tmpapicondition.apiname=null,this.tmpapicondition.casename=null;for(var i=0;i<this.apiconditionmodelList.length;i++)this.apiconditionmodelList[i].modelname===e&&(this.tmpapicondition.modelid=this.apiconditionmodelList[i].id);""===e&&(this.tmpapicondition.modelid=0,this.tmpapicondition.modelname=""),Object(p.d)(this.tmpapicondition).then(function(e){t.apiconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},apiconditionapiselectChanged:function(e){var t=this;this.tmpapicondition.casename=null;for(var i=0;i<this.apiconditionapiList.length;i++)this.apiconditionapiList[i].apiname===e&&(this.tmpapicondition.apiid=this.apiconditionapiList[i].id);Object(d.d)(this.tmpapicondition).then(function(e){t.conditioncaseList=e.data}).catch(function(e){t.$message.error("加载apicase列表失败")})},sceneconditionapiselectChanged:function(e){var t=this;this.tmpsceneapicondition.casename=null;for(var i=0;i<this.sceneconditionapiList.length;i++)this.sceneconditionapiList[i].apiname===e&&(this.tmpsceneapicondition.apiid=this.sceneconditionapiList[i].id);Object(d.d)(this.tmpsceneapicondition).then(function(e){t.sceneconditioncaseList=e.data}).catch(function(e){t.$message.error("加载apicase列表失败")})},showtestplanConditionDialog:function(e){this.ConditionFormVisible=!0,this.tmpsubconditionid=this.executeplanList[e].id,this.searchapicondition.conditiontype="execplan",this.searchapicondition.conditionid=this.executeplanList[e].id,this.tmpapicondition.conditionid=this.executeplanList[e].id,this.tmpapicondition.conditionname=this.executeplanList[e].executeplanname,this.tmpapicondition.conditiontype="execplan",this.searchdbcondition.conditiontype="execplan",this.searchdbcondition.conditionid=this.executeplanList[e].id,this.tmpdbcondition.conditionid=this.executeplanList[e].id,this.tmpdbcondition.conditionname=this.executeplanList[e].executeplanname,this.tmpdbcondition.conditiontype="execplan",this.searchplanscriptcondition.conditiontype="execplan",this.searchplanscriptcondition.conditionid=this.executeplanList[e].id,this.tmpplanscriptcondition.conditionid=this.executeplanList[e].id,this.tmpplanscriptcondition.conditionname=this.executeplanList[e].executeplanname,this.tmpplanscriptcondition.conditiontype="execplan",this.getapiconditionList(),this.getplandbconditionList(),this.getplanscriptconditionList()},apiconditioncaseIndex:function(e){return(this.searchapicondition.page-1)*this.searchapicondition.size+e+1},scenedelaygetIndex:function(e){return(this.Scenedelaysearch.page-1)*this.Scenedelaysearch.size+e+1},scenedbgetIndex:function(e){return(this.searchdbcondition.page-1)*this.searchdbcondition.size+e+1},scenescriptgetIndex:function(e){return(this.searchscriptcondition.page-1)*this.searchscriptcondition.size+e+1},planapiconditioncaseIndex:function(e){return(this.searchplanapicondition.page-1)*this.searchplanapicondition.size+e+1},plandbgetIndex:function(e){return(this.searchdbcondition.page-1)*this.searchdbcondition.size+e+1},planscriptgetIndex:function(e){return(this.searchplanscriptcondition.page-1)*this.searchplanscriptcondition.size+e+1},getapiconditionList:function(){var e=this;Object($.c)(this.searchapicondition).then(function(t){e.apiconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载测试接口条件列表失败")})},getsceneapiconditionList:function(){var e=this;Object($.c)(this.searchapicondition).then(function(t){e.sceneapiconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载测试接口条件列表失败")})},addscenecondition:function(){var e=this;this.$refs.tmpsceneapicondition.validate(function(t){t&&Object($.a)(e.tmpsceneapicondition).then(function(){e.$message.success("添加成功"),e.SceneconditiondialogFormVisible=!1,e.getsceneapiconditionList()}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},addapicondition:function(){var e=this;this.$refs.tmpapicondition.validate(function(t){t&&Object($.a)(e.tmpapicondition).then(function(){e.$message.success("添加成功"),e.caseconditiondialogFormVisible=!1,e.getapiconditionList()}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},sceneconditiondeployunitselectChanged:function(e){var t=this;this.tmpsceneapicondition.casename=null,this.tmpsceneapicondition.apiname=null,this.tmpsceneapicondition.modelname=null;for(var i=0;i<this.deployunitList.length;i++)this.deployunitList[i].deployunitname===e&&(this.tmpsceneapicondition.deployunitid=this.deployunitList[i].id);Object(S.c)(this.tmpsceneapicondition).then(function(e){t.sceneconditionmodelList=e.data.list}).catch(function(e){t.$message.error("加载服务模块列表失败")}),this.sceneconditionapiList=null,Object(p.d)(this.tmpsceneapicondition).then(function(e){t.sceneconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},apiconditiondeployunitselectChanged:function(e){var t=this;this.tmpapicondition.casename=null,this.tmpapicondition.apiname=null,this.tmpapicondition.modelname=null;for(var i=0;i<this.deployunitList.length;i++)this.deployunitList[i].deployunitname===e&&(this.tmpapicondition.deployunitid=this.deployunitList[i].id);Object(S.c)(this.tmpapicondition).then(function(e){t.apiconditionmodelList=e.data.list}).catch(function(e){t.$message.error("加载服务模块列表失败")}),this.apiconditionapiList=null,Object(p.d)(this.tmpapicondition).then(function(e){t.apiconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},cancelEdit:function(e){e.ordernum=e.oldcaseorder,e.edit=!1},confirmEdit:function(e){var t=this;e.edit=!1,console.log(e),Object(L.e)(e).then(function(i){e.oldcaseorder=e.ordernum,t.$message.success("修改顺序成功")}).catch(function(i){e.ordernum=e.oldcaseorder,t.$message.error("修改顺序失败")})},findscenebyexecplanid:function(){var e=this;Object(L.b)(this.searchscene).then(function(t){e.testplansceneList=t.data.list;var i=t.data.list;e.testplansceneList=i.map(function(t){return e.$set(t,"edit",!1),t.oldcaseorder=t.ordernum,t}),e.testplanscenetotal=t.data.total}).catch(function(t){e.$message.error("加载场景用例列表失败")})},addscenehandleClickTableRow:function(e,t,i){},addscenehandleSelectionChange:function(e){this.scenemultipleSelection=e},addscenehandleCurrentChange:function(e){this.addsearchscene.page=e,this.gettestsceneList()},planscenehandleCurrentChange:function(e){this.searchscene.page=e,this.findscenebyexecplanid()},addscenegetIndex:function(e){return(this.addsearchscene.page-1)*this.addsearchscene.size+e+1},gettestsceneList:function(){var e=this;this.addsearchscene.scenename=this.tmptestscenename,Object(x.e)(this.addsearchscene).then(function(t){e.testsceneList=t.data.list,e.addscenetotal=t.data.total}).catch(function(t){e.$message.error("加载场景列表失败")})},addscenehandleSizeChange:function(e){this.addsearchscene.page=1,this.addsearchscene.size=e,this.gettestsceneList()},planscenehandleSizeChange:function(e){this.searchscene.page=1,this.searchscene.size=e,this.findscenebyexecplanid()},getdatabydiccodeList:function(){var e=this;Object(g.b)(this.diclevelQuery).then(function(t){e.planbusinessdiclist=t.data.list}).catch(function(t){e.$message.error("加载组件名字典列表失败")})},unix2CurrentTime:v.b,getglobalheaderallList:function(){var e=this;Object(y.b)(this.search).then(function(t){e.globalheaderallList=t.data}).catch(function(t){e.$message.error("加载全局Header列表失败")})},searchheaderbyepid:function(){var e=this;console.log(this.tmpep),Object(w.e)(this.tmpep).then(function(t){e.paramsList=t.data.list}).catch(function(t){e.$message.error("加载header列表失败")})},searchplannmessagebyepid:function(){var e,t=this;(e=this.searchnotice,Object(P.a)({url:"/plannmessage/search",method:"post",data:e})).then(function(e){t.planmessageList=e.data.list}).catch(function(e){t.$message.error("加载header列表失败")})},stopexecuteplanList:function(){for(var e=this,t=0;t<this.multipleSelection.length;t++)"waiting"!==this.multipleSelection[t].status&&"new"!==this.multipleSelection[t].status&&"finish"!==this.multipleSelection[t].status&&"stop"!==this.multipleSelection[t].status||this.multipleSelection.splice(t);if(0===this.multipleSelection.length)this.$message.error("未选择执行计划,或者只有运行中才可以停止");else{for(var i=0;i<this.multipleSelection.length;i++)this.executeplanstopList.push({id:this.multipleSelection[i].id,status:"stop"});Object(h.k)(this.executeplanstopList).then(function(){e.$message.success("已停止执行计划"),e.btnLoading=!1}).catch(function(t){e.$message.error("停止计划执行失败"),e.btnLoading=!1})}this.getexecuteplanList()},savebatchandexecuteplancase:function(){var e=this;this.$refs.tmpplanbatch.validate(function(t){if(t){if(0===e.multipleSelection.length)return void e.$message.error("未选择执行计划,或者所选计划已经在执行中");if(e.multipleSelection.length>1)return void e.$message.error("不支持多执行计划一起提交，单个提交");e.tmpplanbatch.executeplanname=e.multipleSelection[0].executeplanname,e.tmpplanbatch.execdate=e.tmpplanbatch.exectmpdate+" "+e.tmpplanbatch.exectime+":00",":00"===e.tmpplanbatch.execdate&&(e.tmpplanbatch.execdate="/"),""===e.tmpplanbatch.exectmpdate&&(e.tmpplanbatch.execdate=e.tmpplanbatch.exectime+":00"),e.executeplancase()}})},executeplancase:function(){var e=this;this.tmpplanbatchList=[],this.$refs.tmpplanbatch.validate(function(t){if(t){for(var i=0;i<e.multipleSelection.length;i++)"running"===e.multipleSelection[i].status&&e.multipleSelection.splice(i);if(0===e.multipleSelection.length)e.$message.error("未选择执行计划,或者所选计划已经在执行中");else if(e.multipleSelection.length>1)e.$message.error("不支持多执行计划一起提交，单个提交");else{for(var a=0;a<e.multipleSelection.length;a++)e.tmpplanbatchList.push({executeplanname:e.tmpplanbatch.executeplanname,batchname:e.tmpplanbatch.batchname,exectype:e.tmpplanbatch.exectype,execdate:e.tmpplanbatch.execdate,creator:e.name,projectid:e.tmpplanbatch.projectid,exectime:e.tmpplanbatch.exectime,executeplanid:e.tmpplanbatch.executeplanid,exectmpdate:e.tmpplanbatch.exectmpdate,source:"平台"});Object(h.c)(e.tmpplanbatchList).then(function(){e.$message.success("测试集合已经提交，即将开始执行"),e.batchdialogFormVisible=!1,e.getexecuteplanList()}).catch(function(t){e.batchdialogFormVisible=!0,e.$message.error("执行测试集合失败")})}}})},handleClickTableRow:function(e,t,i){},handleSelectionChange:function(e){this.multipleSelection=e,console.log("00000000000000000000000000"),console.log(this.multipleSelection)},casehandleClickTableRow:function(e,t,i){console.log(e)},casehandleSelectionChange:function(e){this.casemultipleSelection=e},exectypeselectChanged:function(e){"立即执行"===e&&(this.datevisible=!1,this.timevisible=!1),"某天定时"===e&&(this.datevisible=!0,this.timevisible=!0,this.tmpplanbatch.execdate="",this.tmpplanbatch.exectime=""),"每天定时"===e&&(this.datevisible=!1,this.timevisible=!0,this.tmpplanbatch.exectime="")},paramstypeselectChanged:function(e){this.tmpparam.keyname="",this.tmpparam.keyvalue=""},getexecuteplanList:function(){var e=this;this.search.execplanname=this.tmpexecplanname,this.search.batchname=this.tmpbatchname,this.search.creator=this.name,this.listLoading=!0,Object(h.i)(this.search).then(function(t){e.executeplanList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载字典列表失败")})},searchBy:function(){var e=this;this.search.page=1,this.listLoading=!0,Object(h.i)(this.search).then(function(t){e.itemKey=Math.random(),e.executeplanList=t.data.list,e.total=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.tmpexecuteplanname=this.search.executeplanname,this.listLoading=!1,this.btnLoading=!1},handleSizeChange:function(e){this.search.page=1,this.search.size=e,this.getexecuteplanList()},handleCurrentChange:function(e){this.search.page=e,this.getexecuteplanList()},getIndex:function(e){return(this.search.page-1)*this.search.size+e+1},paramgetIndex:function(e){return(this.searchparam.page-1)*this.searchparam.size+e+1},plannmessagegetIndex:function(e){return(this.searchnotice.page-1)*this.searchnotice.size+e+1},planscenegetIndex:function(e){return(this.searchscene.page-1)*this.searchscene.size+e+1},enviromentselectChanged:function(e){for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpexecuteplan.envid=this.enviromentnameList[t].id),console.log(this.enviromentnameList[t].id)},selectChanged:function(e){var t=this;this.apiList=null,this.apiQuery.deployunitname=e,Object(p.j)(this.apiQuery).then(function(e){t.apiList=e.data.list}).catch(function(e){t.$message.error("加载api列表失败")})},getapiList:function(){var e=this;this.caselistLoading=!0,this.listQuery.creator=this.name,Object(p.j)(this.listQuery).then(function(t){e.apiList=t.data.list,e.caselistLoading=!1}).catch(function(t){e.$message.error("加载api列表失败")})},getenviromentallList:function(){var e=this;Object(f.c)(this.search).then(function(t){e.enviromentnameList=t.data}).catch(function(t){e.$message.error("加载环境列表失败")})},getdepunitList:function(){var e=this;this.caselistLoading=!0,Object(m.e)(this.listQuery).then(function(t){e.deployunitList=t.data}).catch(function(t){e.$message.error("加载微服务列表失败")})},getcaseList:function(){var e=this;this.caselistLoading=!0,Object(d.e)(this.listQuery).then(function(t){e.apicasesList=t.data.list,e.caselistLoading=!1}).catch(function(t){e.$message.error("加载用例列表失败")})},searchcaseBy:function(){this.searchtestplanexistcase()},gettestcaselastList:function(){var e=this;return o()(n.a.mark(function t(){var i,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(console.log(e.testcaseList.length),console.log(e.executeplancaseexistList.length),i=0;i<e.testcaseList.length;i++)for(a=0;a<e.executeplancaseexistList.length;a++)e.testcaseList[i].id===e.executeplancaseexistList[a].testcaseid?e.testcaselastList.push({checkstats:!0,deployunitname:e.testcaseList[i].deployunitname,apiname:e.testcaseList[i].apiname,casename:e.testcaseList[i].casename,expect:e.testcaseList[i].expect}):e.testcaselastList.push({checkstats:!1,deployunitname:e.testcaseList[i].deployunitname,apiname:e.testcaseList[i].apiname,casename:e.testcaseList[i].casename,expect:e.testcaseList[i].expect});console.log(e.testcaselastList);case 4:case"end":return t.stop()}},t,e)}))()},searchcaseBydepandapi:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.searchcase.validate(function(t){t&&(e.casebtnLoading=!0,e.caselistLoading=!0,e.searchcase.page=e.caselistQuery.page,e.searchcase.size=e.caselistQuery.size,Object(d.o)(e.searchcase).then(function(t){e.testcaseList=t.data.list,console.log(e.testcaseList.length),e.casetotal=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),e.caselistLoading=!1,e.casebtnLoading=!1)});case 1:case"end":return t.stop()}},t,e)}))()},searchtestplanexistcase:function(){var e=this;this.testcaselastList=[],this.$refs.searchcase.validate(function(t){t&&(e.searchcase.executeplanid=e.tmpexecuteplan.id,e.searchcase.casetype=e.tmpexecuteplan.usetype,e.searchcase.page=1,Object(b.f)(e.searchcase).then(function(t){e.testcaselastList=t.data.list,e.casetotal=t.data.total,e.$nextTick(function(){for(var t=0;t<e.testcaselastList.length;t++)!0===e.testcaselastList[t].status&&e.$refs.caseTable.toggleRowSelection(e.testcaselastList[t],!0)})}).catch(function(t){e.$message.error("获取已装载的用例失败")}))}),this.tmpcasedeployunitname=this.searchcase.deployunitname,this.tmpcaseapiname=this.searchcase.apiname,this.tmpcaseexecuteplanid=this.searchcase.executeplanid,this.tmpcasecasetype=this.searchcase.casetype},casehandleSizeChange:function(e){this.searchcase.page=1,this.searchcase.size=e,this.searchtestplanexistcase()},casehandleCurrentChange:function(e){this.searchcase.page=e,this.searchtestplanexistcase()},casegetIndex:function(e){return(this.searchcase.page-1)*this.searchcase.size+e+1},showAddexecuteplanDialog:function(){this.dialogFormVisible=!0,this.dialogStatus="add",this.tmpexecuteplan.id="",this.tmpexecuteplan.executeplanname="",this.tmpexecuteplan.status="new",this.tmpexecuteplan.memo="",this.tmpexecuteplan.usetype="",this.tmpexecuteplan.enviromentname="",this.tmpexecuteplan.businesstype="",this.tmpexecuteplan.creator=this.name,this.tmpexecuteplan.runmode="",this.tmpexecuteplan.dingdingtoken="",this.tmpexecuteplan.projectid=window.localStorage.getItem("pid")},showplanparamsDialog:function(e){this.CollectionParamsFormVisible=!0,this.tmpparam.executeplanid=this.executeplanList[e].id,this.tmpep.executeplanid=this.executeplanList[e].id,this.searchheaderbyepid()},showplannmessageDialog:function(e){this.CollectionNoticeFormVisible=!0,this.tmpplannmessage.executeplanid=this.executeplanList[e].id,this.searchnotice.executeplanid=this.executeplanList[e].id,this.searchplannmessagebyepid()},showstopbatchDialog:function(e){this.stopbatchdialogFormVisible=!0,this.tmpstopplanbatch.batchname="",this.tmpstopplanbatch.executeplanid=this.executeplanList[e].id,this.getstopplanbatchList()},showtestsceneDialog:function(e){this.testscenedialogFormVisible=!0,this.tmpexecplan.execplanid=this.executeplanList[e].id,this.tmpexecplan.execplanname=this.executeplanList[e].executeplanname,this.searchscene.testplanid=this.executeplanList[e].id,this.addsearchscene.usetype=this.executeplanList[e].usetype,this.findscenebyexecplanid()},ShowAddScenceDialog:function(e){this.addtestscenedialogFormVisible=!0,this.gettestsceneList()},ShowAddPlancaseconditionDialog:function(e){this.caseconditiondialogFormVisible=!0,this.apiconditiondialogStatus="add",this.tmpapicondition.id="",this.tmpapicondition.subconditionname="",this.tmpapicondition.deployunitname="",this.tmpapicondition.apiname="",this.tmpapicondition.modelname="",this.tmpapicondition.casename="",this.tmpapicondition.memo="",this.tmpapicondition.creator=this.name,this.tmpapicondition.projectid=window.localStorage.getItem("pid")},ShowAddPlanSceneconditionDialog:function(e){this.SceneconditiondialogFormVisible=!0,this.SceneconditiondialogStatus="add",this.tmpsceneapicondition.id="",this.tmpsceneapicondition.subconditionname="",this.tmpsceneapicondition.deployunitname="",this.tmpsceneapicondition.apiname="",this.tmpsceneapicondition.modelname="",this.tmpsceneapicondition.casename="",this.tmpsceneapicondition.memo="",this.tmpsceneapicondition.creator=this.name,this.tmpsceneapicondition.projectid=window.localStorage.getItem("pid")},showAddapiparamsDialog:function(){this.modifyparamdialogFormVisible=!0,this.ParamsdialogStatus="add",this.tmpparam.id="",this.tmpparam.globalheaderid="",this.tmpparam.globalheadername=""},showCollectionNoticeDialog:function(){this.modifyplannmessagedialogFormVisible=!0,this.plannmessagedialogStatus="add",this.tmpplannmessage.id="",this.tmpplannmessage.memo="",this.tmpplannmessage.mid=this.accountId,this.tmpplannmessage.messagetype="",this.tmpplannmessage.hookcontent=""},showUpdateparamsDialog:function(e){this.modifyparamdialogFormVisible=!0,this.ParamsdialogStatus="update",this.tmpparam.id=this.paramsList[e].id,this.tmpparam.globalheadername=this.paramsList[e].globalheadername},showUpdateplannmessageDialog:function(e){this.modifyplannmessagedialogFormVisible=!0,this.plannmessagedialogStatus="update",this.tmpplannmessage.id=this.planmessageList[e].id,this.tmpplannmessage.memo=this.planmessageList[e].memo,this.tmpplannmessage.hookcontent=this.planmessageList[e].hookcontent,this.tmpplannmessage.messagetype=this.planmessageList[e].messagetype},showplanbatchDialog:function(){var e=this;this.tmpplanbatch.exectmpdate="",this.tmpplanbatch.exectime="",this.tmpplanbatch.execdate="",this.tmpplanbatch.exectype="",this.timevisible=!1,this.datevisible=!1;for(var t=0;t<this.multipleSelection.length;t++)"running"===this.multipleSelection[t].status&&this.multipleSelection.splice(t);0===this.multipleSelection.length?this.$message.error("未选择执行计划,或者所选计划已经在执行中"):this.multipleSelection.length>1?this.$message.error("不支持多执行计划一起提交，单个提交"):(this.tmpplanenv.id=this.multipleSelection[0].id,this.tmpplanenv.envid=this.multipleSelection[0].envid,this.tmpplanenv.enviromentname=this.multipleSelection[0].enviromentname,Object(h.b)(this.tmpplanenv).then(function(){e.batchdialogFormVisible=!0,e.tmpplanbatch.executeplanid=e.multipleSelection[0].id,e.tmpplanbatch.creator=e.name,e.tmpplanbatch.batchname=""}).catch(function(e){}))},addexecuteplan:function(){var e=this;this.$refs.tmpexecuteplan.validate(function(t){t&&(e.btnLoading=!0,Object(h.a)(e.tmpexecuteplan).then(function(){e.$message.success("添加成功"),e.getexecuteplanList(),e.dialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},addparams:function(){var e=this;this.$refs.tmpparam.validate(function(t){t&&Object(w.a)(e.tmpparam).then(function(){e.$message.success("添加成功"),e.modifyparamdialogFormVisible=!1,e.searchheaderbyepid()}).catch(function(t){e.$message.error("添加失败")})})},addplannmessageparam:function(){var e=this;this.$refs.tmpplannmessage.validate(function(t){var i;t&&(i=e.tmpplannmessage,Object(P.a)({url:"/plannmessage",method:"post",data:i})).then(function(){e.$message.success("添加成功"),e.modifyplannmessagedialogFormVisible=!1,e.searchplannmessagebyepid()}).catch(function(t){e.$message.error("添加失败")})})},updatparam:function(){var e=this;this.$refs.tmpparam.validate(function(t){t&&Object(w.h)(e.tmpparam).then(function(){e.$message.success("更新成功"),e.searchheaderbyepid(),e.modifyparamdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},updateplannmessageparams:function(){var e=this;this.$refs.tmpplannmessage.validate(function(t){var i;t&&(i=e.tmpplannmessage,Object(P.a)({url:"/plannmessage/detail",method:"put",data:i})).then(function(){e.$message.success("更新成功"),e.searchplannmessagebyepid(),e.modifyplannmessagedialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},removeexecuteplanparam:function(e){var t=this;this.$confirm("删除该参数？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.paramsList[e].id;Object(w.d)(i).then(function(){t.$message.success("删除成功"),t.searchheaderbyepid()})}).catch(function(){t.$message.info("已取消删除")})},removeplannmessageparam:function(e){var t=this;this.$confirm("删除该通知？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i,a=t.planmessageList[e].id;(i=a,Object(P.a)({url:"/plannmessage/"+i,method:"delete"})).then(function(){t.$message.success("删除成功"),t.searchplannmessagebyepid()})}).catch(function(){t.$message.info("已取消删除")})},showUpdateexecuteplanDialog:function(e){this.dialogFormVisible=!0,this.dialogStatus="update",this.tmpexecuteplan.id=this.executeplanList[e].id,this.tmpexecuteplan.executeplanname=this.executeplanList[e].executeplanname,this.tmpexecuteplan.status=this.executeplanList[e].status,this.tmpexecuteplan.usetype=this.executeplanList[e].usetype,this.tmpexecuteplan.memo=this.executeplanList[e].memo,this.tmpexecuteplan.enviromentname=this.executeplanList[e].enviromentname,this.tmpexecuteplan.businesstype=this.executeplanList[e].businesstype,this.tmpexecuteplan.creator=this.name,this.tmpexecuteplan.runmode=this.executeplanList[e].runmode,this.tmpexecuteplan.dingdingtoken=this.executeplanList[e].dingdingtoken,this.tmpexecuteplan.projectid=window.localStorage.getItem("pid");for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===this.tmpexecuteplan.enviromentname&&(this.tmpexecuteplan.envid=this.enviromentnameList[t].id)},addplantestscene:function(){var e=this;if(this.addtestsceneList=[],0===this.scenemultipleSelection.length)this.$message.error("请选择添加的场景");else{for(var t=0;t<this.scenemultipleSelection.length;t++)this.addtestsceneList.push({testscenenid:this.scenemultipleSelection[t].id,scenename:this.scenemultipleSelection[t].scenename,testplanid:this.tmpexecplan.execplanid,planname:this.tmpexecplan.execplanname,ordernum:0,creator:this.name,projectid:window.localStorage.getItem("pid")});Object(L.a)(this.addtestsceneList).then(function(){e.$message.success("装载成功"),e.addtestscenedialogFormVisible=!1,e.findscenebyexecplanid(),e.getexecuteplanList()}).catch(function(t){e.$message.error("装载失败")})}},addexecuteplantestcase:function(){var e=this;if(this.executeplancaseList=[],0===this.casemultipleSelection.length)this.$message.error("请选择装载的用例");else{for(var t=0;t<this.casemultipleSelection.length;t++)this.executeplancaseList.push({executeplanid:this.tmpexecuteplan.id,deployunitid:this.casemultipleSelection[t].deployunitid,apiid:this.casemultipleSelection[t].apiid,deployunitname:this.casemultipleSelection[t].deployunitname,apiname:this.casemultipleSelection[t].apiname,testcaseid:this.casemultipleSelection[t].id,casename:this.casemultipleSelection[t].casename});Object(b.a)(this.executeplancaseList).then(function(){e.$message.success("装载成功")}).catch(function(t){e.$message.error("装载失败")})}},removeexecuteplantestcase:function(){var e=this;if(this.executeplancaseremovetList=[],this.testcaselastList.length===this.casemultipleSelection.length)this.$message.error("未找到需要取消装载的用例");else{for(var t=0;t<this.testcaselastList.length;t++){for(var i=!1,a=0;a<this.casemultipleSelection.length;a++)if(this.testcaselastList[t].id===this.casemultipleSelection[a].id){i=!0;break}this.testcaselastList[t].id,i||this.executeplancaseremovetList.push({executeplanid:this.tmpexecuteplan.id,deployunitname:this.testcaselastList[t].deployunitname,apiname:this.testcaselastList[t].apiname,testcaseid:this.testcaselastList[t].id,casename:this.testcaselastList[t].casename})}console.log(this.executeplancaseremovetList),Object(b.d)(this.executeplancaseremovetList).then(function(){e.$message.success("取消装载用例成功")}).catch(function(t){e.$message.error("取消装载用例失败")})}},showTestCaseDialog:function(e){this.casedialogFormVisible=!0,this.tmpexecuteplan.id=this.executeplanList[e].id,this.tmpexecuteplan.executeplanname=this.executeplanList[e].executeplanname,this.tmpexecuteplan.status=this.executeplanList[e].status,this.tmpexecuteplan.usetype=this.executeplanList[e].usetype,this.tmpexecuteplan.memo=this.executeplanList[e].memo,this.searchcase.deployunitname=null,this.searchcase.apiname=null,this.testcaselastList=[],this.casetotal=0},updateexecuteplan:function(){var e=this;this.$refs.tmpexecuteplan.validate(function(t){t&&Object(h.j)(e.tmpexecuteplan).then(function(){e.$message.success("更新成功"),e.getexecuteplanList(),e.dialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败"),e.btnLoading=!1})})},removeexecuteplan:function(e){var t=this;this.$confirm("删除该执行计划？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.executeplanList[e].id;Object(h.h)(i).then(function(){t.$message.success("删除成功"),t.getexecuteplanList()})}).catch(function(){t.$message.info("已取消删除")})},isUniqueDetail:function(e){for(var t=0;t<this.executeplanList.length;t++)if(this.executeplanList[t].id!==e.id&&this.executeplanList[t].executeplanname===e.executeplanname)return this.$message.error("执行计划名已存在"),!1;return!0},notexistheaderselectChanged:function(e){for(var t=0;t<this.globalheaderallList.length;t++)this.globalheaderallList[t].globalheadername===e&&(this.tmpparam.globalheaderid=this.globalheaderallList[t].id)}}},I={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("executeplan:list")?i("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.getexecuteplanList(t)}}},[e._v("刷新")]):e._e(),e._v(" "),e.hasPermission("executeplan:list")?i("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showplanbatchDialog(t)}}},[e._v("运行")]):e._e(),e._v(" "),e.hasPermission("executeplan:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddexecuteplanDialog(t)}}},[e._v("添加测试集合")]):e._e()],1),e._v(" "),e.hasPermission("executeplan:search")?i("span",[i("el-form-item",{attrs:{label:"测试集合:"}},[i("el-input",{attrs:{clearable:"",placeholder:"测试集合"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.executeplanname,callback:function(t){e.$set(e.search,"executeplanname",t)},expression:"search.executeplanname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"业务类型:"}},[i("el-select",{attrs:{clearable:"",placeholder:"业务类型"},model:{value:e.search.businesstype,callback:function(t){e.$set(e.search,"businesstype",t)},expression:"search.businesstype"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.planbusinessdiclist,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.dicitmevalue,value:e.dicitmevalue}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"范围:"}},[i("el-select",{attrs:{clearable:"",placeholder:"范围"},on:{change:function(t){return e.creatorselectChanged(t)}},model:{value:e.search.nickname,callback:function(t){e.$set(e.search,"nickname",t)},expression:"search.nickname"}},[i("el-option",{attrs:{label:"我的",value:"我的"}}),e._v(" "),i("el-option",{attrs:{label:"全部",value:"全部"}})],1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemplanKey,ref:"fileTable",attrs:{data:e.executeplanList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.handleClickTableRow,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"集合名",align:"center",prop:"executeplanname",width:"100"}}),e._v(" "),e.show?i("el-table-column",{attrs:{label:"envid",align:"center",prop:"envid",width:"50"}}):e._e(),e._v(" "),e.show?i("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",width:"50"}}):e._e(),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"业务类型",align:"center",prop:"businesstype",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"执行环境",align:"center",prop:"enviromentname",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{label:"类型",align:"center",prop:"usetype",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"运行模式",align:"center",prop:"runmode",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"场景数",align:"center",prop:"scenenums",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{label:"用例数",align:"center",prop:"casecounts",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{label:"维护人",align:"center",prop:"creator",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",align:"center",prop:"createTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n        ")]}}])}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateexecuteplanDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeexecuteplan(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,1925580550)}):e._e(),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?i("el-table-column",{attrs:{label:"集合操作",align:"center",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showtestsceneDialog(t.$index)}}},[e._v("测试场景")]):e._e(),e._v(" "),e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showtestplanConditionDialog(t.$index)}}},[e._v("前置条件")]):e._e(),e._v(" "),e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showstopbatchDialog(t.$index)}}},[e._v("停止运行")]):e._e(),e._v(" "),e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showplanparamsDialog(t.$index)}}},[e._v("全局Header")]):e._e(),e._v(" "),e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showplannmessageDialog(t.$index)}}},[e._v("集合通知")]):e._e()]}}],null,!1,1672220866)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.search.page,"page-size":e.search.size,total:e.total,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"tmpexecuteplan",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpexecuteplan}},[i("el-form-item",{attrs:{label:"集合名",prop:"executeplanname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"50","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpexecuteplan.executeplanname,callback:function(t){e.$set(e.tmpexecuteplan,"executeplanname","string"==typeof t?t.trim():t)},expression:"tmpexecuteplan.executeplanname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"类型",prop:"usetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"类型"},model:{value:e.tmpexecuteplan.usetype,callback:function(t){e.$set(e.tmpexecuteplan,"usetype",t)},expression:"tmpexecuteplan.usetype"}},[i("el-option",{attrs:{label:"功能",value:"功能"}}),e._v(" "),i("el-option",{attrs:{label:"性能",value:"性能"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"执行环境",prop:"enviromentname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"执行环境"},on:{change:function(t){return e.enviromentselectChanged(t)}},model:{value:e.tmpexecuteplan.enviromentname,callback:function(t){e.$set(e.tmpexecuteplan,"enviromentname",t)},expression:"tmpexecuteplan.enviromentname"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"业务类型",prop:"businesstype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"业务类型"},on:{change:function(t){return e.businesstypeselectChanged(t)}},model:{value:e.tmpexecuteplan.businesstype,callback:function(t){e.$set(e.tmpexecuteplan,"businesstype",t)},expression:"tmpexecuteplan.businesstype"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.planbusinessdiclist,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.dicitmevalue,value:e.dicitmevalue,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"运行模式",prop:"runmode",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"运行模式"},model:{value:e.tmpexecuteplan.runmode,callback:function(t){e.$set(e.tmpexecuteplan,"runmode",t)},expression:"tmpexecuteplan.runmode"}},[i("el-option",{attrs:{label:"单机运行",value:"单机运行"}}),e._v(" "),i("el-option",{attrs:{label:"多机并行",value:"多机并行"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"钉钉通知token",prop:"dingdingtoken"}},[i("el-input",{attrs:{maxlength:"200",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpexecuteplan.dingdingtoken,callback:function(t){e.$set(e.tmpexecuteplan,"dingdingtoken",t)},expression:"tmpexecuteplan.dingdingtoken"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"200",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpexecuteplan.memo,callback:function(t){e.$set(e.tmpexecuteplan,"memo",t)},expression:"tmpexecuteplan.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addexecuteplan(t)}}},[e._v("保存\n        ")]):e._e(),e._v(" "),"update"===e.dialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateexecuteplan(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.loadcase,visible:e.casedialogFormVisible},on:{"update:visible":function(t){e.casedialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{ref:"searchcase",attrs:{inline:!0,model:e.searchcase}},[e.hasPermission("apicases:search")?i("span",[i("el-form-item",{attrs:{label:"微服务:",prop:"deployunitname",required:""}},[i("el-select",{attrs:{placeholder:"微服务"},on:{change:function(t){return e.selectChanged(t)}},model:{value:e.searchcase.deployunitname,callback:function(t){e.$set(e.searchcase,"deployunitname",t)},expression:"searchcase.deployunitname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"API:"}},[i("el-select",{attrs:{placeholder:"api名"},model:{value:e.searchcase.apiname,callback:function(t){e.$set(e.searchcase,"apiname",t)},expression:"searchcase.apiname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.apiList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)})],2)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchcaseBy}},[e._v("查询")])],1)],1):e._e()])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemcaseKey,ref:"caseTable",attrs:{data:e.testcaselastList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.casehandleClickTableRow,"selection-change":e.casehandleSelectionChange}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),e.show?i("el-table-column",{attrs:{label:"apiid",align:"center",prop:"apiid",width:"120"}}):e._e(),e._v(" "),e.show?i("el-table-column",{attrs:{label:"deployunitid",align:"center",prop:"deployunitid",width:"120"}}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{label:"微服务",align:"center",prop:"deployunitname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{label:"API",align:"center",prop:"apiname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{label:"期望值",align:"center",prop:"expect",width:"120"}})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchcase.page,"page-size":e.searchcase.size,total:e.casetotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.casehandleSizeChange,"current-change":e.casehandleCurrentChange}}),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.casedialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addexecuteplantestcase(t)}}},[e._v("装载")]),e._v(" "),i("el-button",{attrs:{type:"warning",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.removeexecuteplantestcase(t)}}},[e._v("取消装载")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.loadbatch,visible:e.batchdialogFormVisible},on:{"update:visible":function(t){e.batchdialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{ref:"tmpplanbatch",attrs:{model:e.tmpplanbatch}},[i("el-form-item",{attrs:{label:"执行计划：",prop:"batchname",required:""}},[i("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",maxlength:"50",placeholder:"例如2020-10-21-tag-101","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplanbatch.batchname,callback:function(t){e.$set(e.tmpplanbatch,"batchname","string"==typeof t?t.trim():t)},expression:"tmpplanbatch.batchname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"执行类型：",prop:"exectype",required:""}},[i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"执行类型"},on:{change:function(t){return e.exectypeselectChanged(t)}},model:{value:e.tmpplanbatch.exectype,callback:function(t){e.$set(e.tmpplanbatch,"exectype",t)},expression:"tmpplanbatch.exectype"}},[i("el-option",{attrs:{label:"立即执行",value:"立即执行"}}),e._v(" "),i("el-option",{attrs:{label:"某天定时",value:"某天定时"}}),e._v(" "),i("el-option",{attrs:{label:"每天定时",value:"每天定时"}})],1)],1),e._v(" "),e.datevisible?i("div",[i("el-form-item",{attrs:{label:"选择日期：",prop:"exectmpdate",required:""}},[i("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.tmpplanbatch.exectmpdate,callback:function(t){e.$set(e.tmpplanbatch,"exectmpdate",t)},expression:"tmpplanbatch.exectmpdate"}})],1)],1):e._e(),e._v(" "),e.timevisible?i("div",[i("el-form-item",{attrs:{label:"选择时刻：",prop:"exectime",required:""}},[i("el-time-select",{staticStyle:{width:"60%"},attrs:{"picker-options":{start:"00:05",step:"00:10",end:"23:55"},placeholder:"选择时间"},model:{value:e.tmpplanbatch.exectime,callback:function(t){e.$set(e.tmpplanbatch,"exectime",t)},expression:"tmpplanbatch.exectime"}})],1)],1):e._e()],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.batchdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",loading:e.execbtnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.savebatchandexecuteplancase(t)}}},[e._v("执行")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"停止运行计划",visible:e.stopbatchdialogFormVisible},on:{"update:visible":function(t){e.stopbatchdialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{ref:"tmpstopplanbatch",attrs:{model:e.tmpstopplanbatch}},[i("el-form-item",{attrs:{label:"执行计划：",prop:"batchname",required:""}},[i("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",placeholder:"执行计划"},on:{change:function(t){return e.stopplanbatchselectChanged(t)}},model:{value:e.tmpstopplanbatch.batchname,callback:function(t){e.$set(e.tmpstopplanbatch,"batchname",t)},expression:"tmpstopplanbatch.batchname"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.stopplanbatchList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.batchname,value:e.batchname,required:""}})],1)})],2)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.stopbatchdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatebatchstatus(t)}}},[e._v("停止")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"全局Header",visible:e.CollectionParamsFormVisible},on:{"update:visible":function(t){e.CollectionParamsFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("executeplan:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapiparamsDialog(t)}}},[e._v("添加全局Header")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.paramsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.paramgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Header",align:"center",prop:"globalheadername",width:"280"}}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateparamsDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeexecuteplanparam(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2267587065)}):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.paramstextMap[e.ParamsdialogStatus],visible:e.modifyparamdialogFormVisible},on:{"update:visible":function(t){e.modifyparamdialogFormVisible=t}}},[i("el-form",{ref:"tmpparam",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpparam}},[i("el-form-item",{attrs:{label:"全局Header:",prop:"globalheadername",required:""}},[i("el-select",{staticStyle:{width:"415px"},attrs:{placeholder:"全局Header"},on:{change:function(t){return e.notexistheaderselectChanged(t)}},model:{value:e.tmpparam.globalheadername,callback:function(t){e.$set(e.tmpparam,"globalheadername",t)},expression:"tmpparam.globalheadername"}},e._l(e.globalheaderallList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.globalheadername,value:e.globalheadername}})],1)}),0)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.modifyparamdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.ParamsdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addparams(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.ParamsdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatparam(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"集合通知",visible:e.CollectionNoticeFormVisible},on:{"update:visible":function(t){e.CollectionNoticeFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("plannmessage:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showCollectionNoticeDialog(t)}}},[e._v("添加集合通知")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{attrs:{data:e.planmessageList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.plannmessagegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"通知类型",align:"center",prop:"messagetype",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"通知token",align:"center",prop:"hookcontent",width:"380"}}),e._v(" "),e.hasPermission("plannmessage:update")||e.hasPermission("plannmessage:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("plannmessage:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateplannmessageDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("plannmessage:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeplannmessageparam(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,3208660489)}):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.plannmessagetextMap[e.plannmessagedialogStatus],visible:e.modifyplannmessagedialogFormVisible},on:{"update:visible":function(t){e.modifyplannmessagedialogFormVisible=t}}},[i("el-form",{ref:"tmpplannmessage",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpplannmessage}},[i("el-form-item",{attrs:{label:"通知类型:",prop:"messagetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"通知类型"},model:{value:e.tmpplannmessage.messagetype,callback:function(t){e.$set(e.tmpplannmessage,"messagetype",t)},expression:"tmpplannmessage.messagetype"}},[i("el-option",{attrs:{label:"钉钉",value:"钉钉"}}),e._v(" "),i("el-option",{attrs:{label:"飞书",value:"飞书"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"通知token:",prop:"hookcontent",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"500","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplannmessage.hookcontent,callback:function(t){e.$set(e.tmpplannmessage,"hookcontent",t)},expression:"tmpplannmessage.hookcontent"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.modifyplannmessagedialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.plannmessagedialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.addplannmessageparam(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.plannmessagedialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updateplannmessageparams(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"840px",title:"测试场景",visible:e.testscenedialogFormVisible},on:{"update:visible":function(t){e.testscenedialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.ShowAddScenceDialog}},[e._v("添加场景")])],1)],1)],1),e._v(" "),i("el-table",{ref:"testplansceneTable",attrs:{data:e.testplansceneList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.planscenegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"场景名",align:"center",prop:"scenename",width:"280"}}),e._v(" "),i("el-table-column",{attrs:{width:"120",align:"center",label:"场景顺序"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.edit?[i("el-input",{staticClass:"edit-input",attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",size:"small"},model:{value:a.ordernum,callback:function(t){e.$set(a,"ordernum",t)},expression:"row.ordernum"}}),e._v(" "),i("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(t){return e.cancelEdit(a)}}},[e._v("\n                取消\n              ")])]:i("span",[e._v(e._s(a.ordernum))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.edit?i("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(t){return e.confirmEdit(a)}}},[e._v("\n              保存\n            ")]):i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){a.edit=!a.edit}}},[e._v("\n              设置顺序\n            ")])]}}])}),e._v(" "),e.hasPermission("testscene:deletecase")||e.hasPermission("testscene:scenecondition")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:deletecase")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removetestplanscene(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showtestscenecaseConditionDialog(t.$index)}}},[e._v("前置条件")]):e._e()]}}],null,!1,1684076174)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchscene.page,"page-size":e.searchscene.size,total:e.testplanscenetotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.planscenehandleSizeChange,"current-change":e.planscenehandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{width:"800px",title:"添加场景",visible:e.addtestscenedialogFormVisible},on:{"update:visible":function(t){e.addtestscenedialogFormVisible=t}}},[i("el-table",{key:e.itemaddsceneKey,ref:"addsceneTable",attrs:{data:e.testsceneList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.addscenehandleClickTableRow,"selection-change":e.addscenehandleSelectionChange}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.addscenegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"场景名",align:"center",prop:"scenename",width:"370"}}),e._v(" "),i("el-table-column",{attrs:{label:"场景类型",align:"center",prop:"usetype",width:"140"}}),e._v(" "),i("el-table-column",{attrs:{label:"用例数",align:"center",prop:"casenums",width:"140"}})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.addsearchscene.page,"page-size":e.addsearchscene.size,total:e.addscenetotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.addscenehandleSizeChange,"current-change":e.addscenehandleCurrentChange}}),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.addtestscenedialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addplantestscene(t)}}},[e._v("添加")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"集合前置条件",width:"1150px",visible:e.ConditionFormVisible},on:{"update:visible":function(t){e.ConditionFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.ShowAddPlancaseconditionDialog(t)}}},[e._v("添加接口前置条件")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.AddcasedbconditionDialog(t)}}},[e._v("添加数据库前置条件\n            ")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddplanscriptDialog(t)}}},[e._v("添加脚本前置条件\n            ")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showplanconditionorderDialog(t)}}},[e._v("设置前置条件顺序\n            ")]):e._e()],1)],1)],1),e._v("\n            1.接口前置条件：\n      "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.apiconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.planapiconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所属集合",align:"center",prop:"conditionname",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名",align:"center",prop:"subconditionname",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置接口",align:"center",prop:"casename",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("testscene:caseupdateapicondition")||e.hasPermission("testscene:casedeleteapicondition")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:caseupdateapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateapiconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("testscene:casedeleteapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removecaseapicondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showCaseVariablesforplanConditionDialog(t.$index)}}},[e._v("提取变量\n            ")]):e._e()]}}],null,!1,2527343519)}):e._e()],1),e._v("\n\n      2.数据库前置条件：\n      "),i("el-table",{attrs:{data:e.dbconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.plandbgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所属集合","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"环境",align:"center",prop:"enviromentname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"组件名",align:"center",prop:"assemblename",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql类型",align:"center",prop:"dbtype",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql内容",align:"center",prop:"dbcontent",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.dbcontent))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(">\n        "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("dbcondition:update")||e.hasPermission("dbcondition:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbcondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedbconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedbcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showplandbvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,3213326314)}):e._e()],1),e._v("\n\n      3.脚本前置条件\n      "),i("el-table",{attrs:{data:e.planscriptconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.planscriptgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属用例","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"脚本",align:"center",prop:"script",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.script))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptcondition:update")||e.hasPermission("scriptcondition:delete")?i("el-table-column",{attrs:{label:"管理",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptcondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateplanscriptconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeplanscriptcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showplanscriptvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,732788453)}):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"场景前置条件",width:"1150px",visible:e.scenecaseConditionFormVisible},on:{"update:visible":function(t){e.scenecaseConditionFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.ShowAddPlanSceneconditionDialog(t)}}},[e._v("添加接口前置条件")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddScenedelayconditionDialog(t)}}},[e._v("添加前置延时")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddScenedbconditionDialog(t)}}},[e._v("添加数据库前置条件")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddscriptDialog(t)}}},[e._v("添加脚本前置条件")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showsceneconditionorderDialog(t)}}},[e._v("设置前置条件顺序")]):e._e()],1)],1)],1),e._v("\n\n      1.接口前置条件：\n      "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.sceneapiconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.apiconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"前置条件名",align:"center",prop:"subconditionname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属场景",align:"center",prop:"conditionname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"微服务",align:"center",prop:"deployunitname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"前置接口",align:"center",prop:"casename",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("testscene:caseupdateapicondition")||e.hasPermission("testscene:casedeleteapicondition")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:caseupdateapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatesceneconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("testscene:casedeleteapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removecasescenecondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showCaseVariablesforConditionDialog(t.$index)}}},[e._v("提取变量\n            ")]):e._e()]}}],null,!1,4253980748)}):e._e()],1),e._v("\n\n      2.延时前置条件：\n      "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.scenedelayconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scenedelaygetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名",align:"center",prop:"subconditionname",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属场景",align:"center",prop:"conditionname",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"等待时间(秒)",align:"center",prop:"delaytime",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("delaycondition:update")||e.hasPermission("delaycondition:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("delaycondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedelayconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("delaycondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removescenedelaycondition(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,1012273592)}):e._e()],1),e._v("\n\n      3.数据库前置条件：\n      "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.scenedbconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scenedbgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属场景","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"环境",align:"center",prop:"enviromentname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"组件名",align:"center",prop:"assemblename",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql类型",align:"center",prop:"dbtype",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql内容",align:"center",prop:"dbcontent",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.dbcontent))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(">\n        "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("testscene:caseupdatedbcondition")||e.hasPermission("testscene:casedeletedbcondition")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:caseupdatedbcondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatescenedbconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("testscene:casedeletedbcondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removescenedbcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showscenedbvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,2310277287)}):e._e()],1),e._v("\n      4.脚本前置条件\n      "),i("el-table",{attrs:{data:e.scenescriptconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scenescriptgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属用例","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"脚本",align:"center",prop:"script",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.script))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptcondition:update")||e.hasPermission("scriptcondition:delete")?i("el-table-column",{attrs:{label:"管理",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptcondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatescenescriptconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removescenescriptcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("scriptcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showscenescriptvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,645398721)}):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.apiconditiontextMap[e.apiconditiondialogStatus],visible:e.caseconditiondialogFormVisible},on:{"update:visible":function(t){e.caseconditiondialogFormVisible=t}}},[i("el-form",{ref:"tmpapicondition",staticClass:"small-space",staticStyle:{width:"450px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpapicondition}},[i("el-form-item",{attrs:{label:"前置条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicondition.subconditionname,callback:function(t){e.$set(e.tmpapicondition,"subconditionname",t)},expression:"tmpapicondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"微服务",prop:"deployunitname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"微服务"},on:{change:function(t){return e.apiconditiondeployunitselectChanged(t)}},model:{value:e.tmpapicondition.deployunitname,callback:function(t){e.$set(e.tmpapicondition,"deployunitname",t)},expression:"tmpapicondition.deployunitname"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"模块:",prop:"modelname"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"模块"},on:{change:function(t){return e.apiconditionmodelselectChanged(t)}},model:{value:e.tmpapicondition.modelname,callback:function(t){e.$set(e.tmpapicondition,"modelname",t)},expression:"tmpapicondition.modelname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.apiconditionmodelList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.modelname,value:e.modelname}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"API",prop:"apiname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"API"},on:{change:function(t){return e.apiconditionapiselectChanged(t)}},model:{value:e.tmpapicondition.apiname,callback:function(t){e.$set(e.tmpapicondition,"apiname",t)},expression:"tmpapicondition.apiname"}},e._l(e.apiconditionapiList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)}),0)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口",prop:"casename",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"接口"},on:{change:function(t){return e.apiconditiontestcaseselectChanged(t)}},model:{value:e.tmpapicondition.casename,callback:function(t){e.$set(e.tmpapicondition,"casename",t)},expression:"tmpapicondition.casename"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.conditioncaseList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.casename,value:e.casename,required:""}})],1)})],2)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.apiconditiondialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpapicondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.apiconditiondialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapicondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.apiconditiondialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateapicondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.SceneapiconditiontextMap[e.SceneconditiondialogStatus],visible:e.SceneconditiondialogFormVisible},on:{"update:visible":function(t){e.SceneconditiondialogFormVisible=t}}},[i("el-form",{ref:"tmpsceneapicondition",staticClass:"small-space",staticStyle:{width:"450px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpsceneapicondition}},[i("el-form-item",{attrs:{label:"前置条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpsceneapicondition.subconditionname,callback:function(t){e.$set(e.tmpsceneapicondition,"subconditionname",t)},expression:"tmpsceneapicondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"微服务",prop:"deployunitname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"微服务"},on:{change:function(t){return e.sceneconditiondeployunitselectChanged(t)}},model:{value:e.tmpsceneapicondition.deployunitname,callback:function(t){e.$set(e.tmpsceneapicondition,"deployunitname",t)},expression:"tmpsceneapicondition.deployunitname"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"模块:",prop:"modelname"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"模块"},on:{change:function(t){return e.sceneconditionmodelselectChanged(t)}},model:{value:e.tmpsceneapicondition.modelname,callback:function(t){e.$set(e.tmpsceneapicondition,"modelname",t)},expression:"tmpsceneapicondition.modelname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.sceneconditionmodelList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.modelname,value:e.modelname}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"API",prop:"apiname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"API"},on:{change:function(t){return e.sceneconditionapiselectChanged(t)}},model:{value:e.tmpsceneapicondition.apiname,callback:function(t){e.$set(e.tmpsceneapicondition,"apiname",t)},expression:"tmpsceneapicondition.apiname"}},e._l(e.sceneconditionapiList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)}),0)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口",prop:"casename",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"接口"},on:{change:function(t){return e.sceneconditiontestcaseselectChanged(t)}},model:{value:e.tmpsceneapicondition.casename,callback:function(t){e.$set(e.tmpsceneapicondition,"casename",t)},expression:"tmpsceneapicondition.casename"}},e._l(e.sceneconditioncaseList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.casename,value:e.casename,required:""}})],1)}),0)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.SceneconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.SceneconditiondialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpapicondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.SceneconditiondialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.addscenecondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.SceneconditiondialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatescenecondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.DelaytextMap[e.DelaydialogStatus],visible:e.DelaydialogFormVisible},on:{"update:visible":function(t){e.DelaydialogFormVisible=t}}},[i("el-form",{ref:"tmpdelaycondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdelaycondition}},[i("el-form-item",{attrs:{label:"延时条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdelaycondition.subconditionname,callback:function(t){e.$set(e.tmpdelaycondition,"subconditionname",t)},expression:"tmpdelaycondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"等待时间(秒)",prop:"delaytime",required:""}},[i("el-input",{attrs:{placeholder:"等待时间(秒)",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdelaycondition.delaytime,callback:function(t){e.$set(e.tmpdelaycondition,"delaytime",t)},expression:"tmpdelaycondition.delaytime"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.DelaydialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.DelaydialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdelaycondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.DelaydialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.adddelaycondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.DelaydialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatedelaycondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.caseaddvariablestextMap[e.caseaddvariablesdialogStatus],visible:e.caseaddvariablesdialogFormVisible},on:{"update:visible":function(t){e.caseaddvariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmptestvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmptestvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"testvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.testvariablesname,callback:function(t){e.$set(e.tmptestvariables,"testvariablesname",t)},expression:"tmptestvariables.testvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.variablesdes,callback:function(t){e.$set(e.tmptestvariables,"variablesdes",t)},expression:"tmptestvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量来源",prop:"testvariablestype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量来源"},on:{change:function(t){return e.testvariablestypeselectChanged(t)}},model:{value:e.tmptestvariables.testvariablestype,callback:function(t){e.$set(e.tmptestvariables,"testvariablestype",t)},expression:"tmptestvariables.testvariablestype"}},[i("el-option",{attrs:{label:"Header",value:"Header"}}),e._v(" "),i("el-option",{attrs:{label:"Cookies",value:"Cookies"}}),e._v(" "),i("el-option",{attrs:{label:"Body",value:"Body"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmptestvariables.valuetype,callback:function(t){e.$set(e.tmptestvariables,"valuetype",t)},expression:"tmptestvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.expressname,prop:"variablesexpress",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"3",cols:"10",maxlength:"200",placeholder:"例如 $.store.book[0].title","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.variablesexpress,callback:function(t){e.$set(e.tmptestvariables,"variablesexpress",t)},expression:"tmptestvariables.variablesexpress"}}),e._v(" "),i("div",{staticClass:"right"},[i("el-tooltip",{attrs:{placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.如果获取变量值的接口返回数据类型是Json则使用JsonPath表达式提取变量值，例如：$.store.book[0].title   在线解析网站：http://www.e123456.com/aaaphp/online/jsonpath/"),i("br"),e._v("2.如果获取变量值接口返回是html，xml则使用XPath表达式提取变量值， 例如：//div/h3//text()   在线解析网站： http://www.ab173.com/other/xpath.php")]),e._v(" "),i("el-button",[e._v("变量值提取表达语法规则")])],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{type:"text",maxlength:"60","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmptestvariables.memo,callback:function(t){e.$set(e.tmptestvariables,"memo",t)},expression:"tmptestvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseaddvariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.caseaddvariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmptestvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.caseaddvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addtestvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.caseaddvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatetestvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1200px",title:"用例提取变量列表",visible:e.caseVariablesDialogFormVisible},on:{"update:visible":function(t){e.caseVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddApicasesVariablesDialog(t)}}},[e._v("提取变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{attrs:{data:e.ApicasesVariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.ApicasesVariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量名",align:"center",prop:"testvariablesname",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属用例",align:"center",prop:"casename",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属API",align:"center",prop:"apiname",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属微服务",align:"center",prop:"deployunitname",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量来源",align:"center",prop:"testvariablestype",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量值提取表达",align:"center",prop:"variablesexpress",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("ApicasesVariables:update")||e.hasPermission("ApicasesVariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("ApicasesVariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatetestvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("ApicasesVariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removetestvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,3910988262)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchapicasevariables.page,"page-size":e.searchapicasevariables.size,total:e.apicasevariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.apicasevariableshandleSizeChange,"current-change":e.apicasevariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.scripttextMap[e.scriptdialogStatus],visible:e.scriptdialogFormVisible},on:{"update:visible":function(t){e.scriptdialogFormVisible=t}}},[i("el-form",{ref:"tmpscriptcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscriptcondition}},[i("el-form-item",{attrs:{label:"脚本条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptcondition.subconditionname,callback:function(t){e.$set(e.tmpscriptcondition,"subconditionname",t)},expression:"tmpscriptcondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Java代码",prop:"script",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"4000",placeholder:"Java 代码"},model:{value:e.tmpscriptcondition.script,callback:function(t){e.$set(e.tmpscriptcondition,"script",t)},expression:"tmpscriptcondition.script"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.scriptdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.scriptdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpscriptcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.scriptdialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.addscriptcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.scriptdialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatescriptcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1050px",title:"脚本变量列表",visible:e.scriptVariablesDialogFormVisible},on:{"update:visible":function(t){e.scriptVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddscriptvariablesDialog(t)}}},[e._v("添加脚本变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.scriptvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scriptvariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"脚本变量名",align:"center",prop:"scriptvariablesname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptvariables:update")||e.hasPermission("scriptvariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptvariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatescriptvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removescriptvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,1461344774)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchscriptvariables.page,"page-size":e.searchscriptvariables.size,total:e.scriptvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.scriptvariableshandleSizeChange,"current-change":e.scriptvariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.scriptVariablestextMap[e.scriptVariablesdialogStatus],visible:e.addscriptVariablesdialogFormVisible},on:{"update:visible":function(t){e.addscriptVariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmpscriptvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscriptvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"scriptvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptvariables.scriptvariablesname,callback:function(t){e.$set(e.tmpscriptvariables,"scriptvariablesname",t)},expression:"tmpscriptvariables.scriptvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptvariables.variablesdes,callback:function(t){e.$set(e.tmpscriptvariables,"variablesdes",t)},expression:"tmpscriptvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpscriptvariables.valuetype,callback:function(t){e.$set(e.tmpscriptvariables,"valuetype",t)},expression:"tmpscriptvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpscriptvariables.memo,callback:function(t){e.$set(e.tmpscriptvariables,"memo",t)},expression:"tmpscriptvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.addscriptVariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.scriptVariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpscriptvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.scriptVariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addscriptvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.scriptVariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatescriptvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.planscripttextMap[e.planscriptdialogStatus],visible:e.planscriptdialogFormVisible},on:{"update:visible":function(t){e.planscriptdialogFormVisible=t}}},[i("el-form",{ref:"tmpplanscriptcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpplanscriptcondition}},[i("el-form-item",{attrs:{label:"脚本条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplanscriptcondition.subconditionname,callback:function(t){e.$set(e.tmpplanscriptcondition,"subconditionname",t)},expression:"tmpplanscriptcondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Java代码",prop:"script",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"4000",placeholder:"Java 代码"},model:{value:e.tmpplanscriptcondition.script,callback:function(t){e.$set(e.tmpplanscriptcondition,"script",t)},expression:"tmpplanscriptcondition.script"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.planscriptdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.planscriptdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.plantmpscriptcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.planscriptdialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.addplanscriptcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.planscriptdialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updateplanscriptcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1050px",title:"脚本变量列表",visible:e.planscriptVariablesDialogFormVisible},on:{"update:visible":function(t){e.planscriptVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddplanscriptvariablesDialog(t)}}},[e._v("添加脚本变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.planscriptvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.planscriptvariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"脚本变量名",align:"center",prop:"scriptvariablesname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptvariables:update")||e.hasPermission("scriptvariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptvariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateplanscriptvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeplanscriptvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2176415974)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchplanscriptvariables.page,"page-size":e.searchplanscriptvariables.size,total:e.planscriptvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.planscriptvariableshandleSizeChange,"current-change":e.planscriptvariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.planscriptVariablestextMap[e.planscriptVariablesdialogStatus],visible:e.addplanscriptVariablesdialogFormVisible},on:{"update:visible":function(t){e.addplanscriptVariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmpplanscriptvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpplanscriptvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"scriptvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplanscriptvariables.scriptvariablesname,callback:function(t){e.$set(e.tmpplanscriptvariables,"scriptvariablesname",t)},expression:"tmpplanscriptvariables.scriptvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplanscriptvariables.variablesdes,callback:function(t){e.$set(e.tmpplanscriptvariables,"variablesdes",t)},expression:"tmpplanscriptvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpplanscriptvariables.valuetype,callback:function(t){e.$set(e.tmpplanscriptvariables,"valuetype",t)},expression:"tmpplanscriptvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpplanscriptvariables.memo,callback:function(t){e.$set(e.tmpplanscriptvariables,"memo",t)},expression:"tmpplanscriptvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.addplanscriptVariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.planscriptVariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpplanscriptvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.planscriptVariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addplanscriptvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.planscriptVariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateplanscriptvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.scenedbtextMap[e.scenedbdialogStatus],visible:e.scenedbconditiondialogFormVisible},on:{"update:visible":function(t){e.scenedbconditiondialogFormVisible=t}}},[i("el-form",{ref:"tmpscenedbcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscenedbcondition}},[i("el-form-item",{attrs:{label:"数据库条件名：",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscenedbcondition.subconditionname,callback:function(t){e.$set(e.tmpscenedbcondition,"subconditionname",t)},expression:"tmpscenedbcondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"环境：",prop:"enviromentname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"环境"},on:{change:function(t){return e.sceneselectChangedEN(t)}},model:{value:e.tmpscenedbcondition.enviromentname,callback:function(t){e.$set(e.tmpscenedbcondition,"enviromentname",t)},expression:"tmpscenedbcondition.enviromentname"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"组件：",prop:"assemblename",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"组件"},on:{change:function(t){return e.SceneConditionselectChangedAS(t)}},model:{value:e.tmpscenedbcondition.assemblename,callback:function(t){e.$set(e.tmpscenedbcondition,"assemblename",t)},expression:"tmpscenedbcondition.assemblename"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviroment_assembleList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"操作类型：",prop:"dbtype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"操作类型"},on:{change:function(t){return e.selectChangedDBType(t)}},model:{value:e.tmpscenedbcondition.dbtype,callback:function(t){e.$set(e.tmpscenedbcondition,"dbtype",t)},expression:"tmpscenedbcondition.dbtype"}},[i("el-option",{attrs:{label:"新增",value:"Insert"}}),e._v(" "),i("el-option",{attrs:{label:"删除",value:"Delete"}}),e._v(" "),i("el-option",{attrs:{label:"修改",value:"Update"}}),e._v(" "),i("el-option",{attrs:{label:"查询",value:"Select"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Sql语句：",prop:"dbcontent",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"2000","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscenedbcondition.dbcontent,callback:function(t){e.$set(e.tmpscenedbcondition,"dbcontent",t)},expression:"tmpscenedbcondition.dbcontent"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.scenedbconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.scenedbdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpscenedbcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.scenedbdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addscenedbcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.scenedbdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatescenedbcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1100px",title:"数据库变量列表",visible:e.dbVariablesDialogFormVisible},on:{"update:visible":function(t){e.dbVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAdddbvariablesDialog(t)}}},[e._v("添加数据库变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.dbvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.dbVariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"数据库变量名",align:"center","show-overflow-tooltip":!0,prop:"dbvariablesname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),i("el-table-column",{attrs:{label:"列名","show-overflow-tooltip":!0,align:"center",prop:"fieldname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"行号",align:"center",prop:"roworder",width:"45"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("dbvariables:update")||e.hasPermission("dbvariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbvariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedbvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedbvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2015913382)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchdbvariables.page,"page-size":e.searchdbvariables.size,total:e.dbvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.dbvariableshandleSizeChange,"current-change":e.dbvariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.dbvariablestextMap[e.dbvariablesdialogStatus],visible:e.adddbvariablesdialogFormVisible},on:{"update:visible":function(t){e.adddbvariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmpdbvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdbvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"dbvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbvariables.dbvariablesname,callback:function(t){e.$set(e.tmpdbvariables,"dbvariablesname",t)},expression:"tmpdbvariables.dbvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbvariables.variablesdes,callback:function(t){e.$set(e.tmpdbvariables,"variablesdes",t)},expression:"tmpdbvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpdbvariables.valuetype,callback:function(t){e.$set(e.tmpdbvariables,"valuetype",t)},expression:"tmpdbvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"表列名",prop:"fieldname",required:""}},[i("el-input",{attrs:{placeholder:"数据库查询结果集表列名",maxLength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.fieldname,callback:function(t){e.$set(e.tmpdbvariables,"fieldname",t)},expression:"tmpdbvariables.fieldname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"表行号",prop:"roworder",required:""}},[i("el-input",{attrs:{placeholder:"数据库查询结果集行号",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.roworder,callback:function(t){e.$set(e.tmpdbvariables,"roworder",t)},expression:"tmpdbvariables.roworder"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"60",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.memo,callback:function(t){e.$set(e.tmpdbvariables,"memo",t)},expression:"tmpdbvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.adddbvariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dbvariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdbvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.dbvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.adddbvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.dbvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.plandbtextMap[e.plandbdialogStatus],visible:e.dbconditiondialogFormVisible},on:{"update:visible":function(t){e.dbconditiondialogFormVisible=t}}},[i("el-form",{ref:"tmpdbcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdbcondition}},[i("el-form-item",{attrs:{label:"数据库条件名：",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbcondition.subconditionname,callback:function(t){e.$set(e.tmpdbcondition,"subconditionname",t)},expression:"tmpdbcondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"环境：",prop:"enviromentname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"环境"},on:{change:function(t){return e.selectChangedEN(t)}},model:{value:e.tmpdbcondition.enviromentname,callback:function(t){e.$set(e.tmpdbcondition,"enviromentname",t)},expression:"tmpdbcondition.enviromentname"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"组件：",prop:"assemblename",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"组件"},on:{change:function(t){return e.ConditionselectChangedAS(t)}},model:{value:e.tmpdbcondition.assemblename,callback:function(t){e.$set(e.tmpdbcondition,"assemblename",t)},expression:"tmpdbcondition.assemblename"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviroment_assembleList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"操作类型：",prop:"dbtype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"操作类型"},on:{change:function(t){return e.selectChangedDBType(t)}},model:{value:e.tmpdbcondition.dbtype,callback:function(t){e.$set(e.tmpdbcondition,"dbtype",t)},expression:"tmpdbcondition.dbtype"}},[i("el-option",{attrs:{label:"新增",value:"Insert"}}),e._v(" "),i("el-option",{attrs:{label:"删除",value:"Delete"}}),e._v(" "),i("el-option",{attrs:{label:"修改",value:"Update"}}),e._v(" "),i("el-option",{attrs:{label:"查询",value:"Select"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Sql语句：",prop:"dbcontent",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"2000","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbcondition.dbcontent,callback:function(t){e.$set(e.tmpdbcondition,"dbcontent",t)},expression:"tmpdbcondition.dbcontent"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dbconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.plandbdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdbcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.plandbdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.adddbcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.plandbdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1100px",title:"数据库变量列表",visible:e.plandbVariablesDialogFormVisible},on:{"update:visible":function(t){e.plandbVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddplandbvariablesDialog(t)}}},[e._v("添加数据库变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.plandbvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.plandbVariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"数据库变量名",align:"center","show-overflow-tooltip":!0,prop:"dbvariablesname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),i("el-table-column",{attrs:{label:"列名","show-overflow-tooltip":!0,align:"center",prop:"fieldname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"行号",align:"center",prop:"roworder",width:"45"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("dbvariables:update")||e.hasPermission("dbvariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbvariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateplandbvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeplandbvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2167477318)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchplandbvariables.page,"page-size":e.searchplandbvariables.size,total:e.plandbvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.plandbvariableshandleSizeChange,"current-change":e.plandbvariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.plandbvariablestextMap[e.plandbvariablesdialogStatus],visible:e.addplandbvariablesdialogFormVisible},on:{"update:visible":function(t){e.addplandbvariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmpplandbvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpplandbvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"dbvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplandbvariables.dbvariablesname,callback:function(t){e.$set(e.tmpplandbvariables,"dbvariablesname",t)},expression:"tmpplandbvariables.dbvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplandbvariables.variablesdes,callback:function(t){e.$set(e.tmpplandbvariables,"variablesdes",t)},expression:"tmpplandbvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpplandbvariables.valuetype,callback:function(t){e.$set(e.tmpplandbvariables,"valuetype",t)},expression:"tmpplandbvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"表列名",prop:"fieldname",required:""}},[i("el-input",{attrs:{placeholder:"数据库查询结果集表列名",maxLength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpplandbvariables.fieldname,callback:function(t){e.$set(e.tmpplandbvariables,"fieldname",t)},expression:"tmpplandbvariables.fieldname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"表行号",prop:"roworder",required:""}},[i("el-input",{attrs:{placeholder:"数据库查询结果集行号",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpplandbvariables.roworder,callback:function(t){e.$set(e.tmpplandbvariables,"roworder",t)},expression:"tmpplandbvariables.roworder"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"60",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpplandbvariables.memo,callback:function(t){e.$set(e.tmpplandbvariables,"memo",t)},expression:"tmpplandbvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.addplandbvariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.plandbvariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdbvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.plandbvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addplandbvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.plandbvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateplandbvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"前置条件顺序",width:"840px",visible:e.ConditionOrderdialogFormVisible},on:{"update:visible":function(t){e.ConditionOrderdialogFormVisible=t}}},[i("el-form",{staticClass:"small-space",attrs:{"status-icon":"","label-position":"left","label-width":"120px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.conditionorderList,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"subconditionname",align:"center",label:"前置条件名",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"conditionname",align:"center",label:"条件来源",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"subconditiontype",align:"center",label:"条件类型",width:"110px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"orderstatus",align:"center",label:"状态",width:"60px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"conditionorder",align:"center",label:"顺序",width:"50px"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作排序",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",disabled:0===t.$index},on:{click:function(i){return e.moveUp(t.$index,t.row)}}},[i("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),i("el-button",{attrs:{size:"mini",disabled:t.$index===e.conditionorderList.length-1},on:{click:function(i){return e.moveDown(t.$index,t.row)}}},[i("i",{staticClass:"el-icon-arrow-down"})])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.ConditionOrderdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.saveconditionorder(t)}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},q=i("VU/8")(T,I,!1,null,null,null);t.default=q.exports},nzYI:function(e,t,i){"use strict";t.e=function(e){return Object(a.a)({url:"/globalheaderuse/searchheaderbyepid",method:"post",data:e})},t.g=function(e){return Object(a.a)({url:"globalheaderuse/searchnotexit",method:"post",data:e})},t.f=function(e){return Object(a.a)({url:"globalheaderuse/searchexit",method:"post",data:e})},t.b=function(e){return Object(a.a)({url:"globalheaderuse/addcases",method:"post",data:e})},t.c=function(e){return Object(a.a)({url:"globalheaderuse/deletacases",method:"post",data:e})},t.a=function(e){return Object(a.a)({url:"globalheaderuse/",method:"post",data:e})},t.h=function(e){return Object(a.a)({url:"globalheaderuse/detail",method:"put",data:e})},t.d=function(e){return Object(a.a)({url:"globalheaderuse/"+e,method:"delete"})};var a=i("vLgD")}});
//# sourceMappingURL=7.48130280775a78c48afa.js.map