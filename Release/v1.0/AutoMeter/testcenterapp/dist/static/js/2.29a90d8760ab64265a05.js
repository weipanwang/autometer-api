webpackJsonp([2],{"3C/1":function(e,t,i){i("M6a0"),i("zQR9"),i("+tPU"),i("qCoq"),i("UvrK"),i("Xjd4"),i("bqnK"),e.exports=i("FeBl").Map},"4WTo":function(e,t,i){var a=i("NWt+");e.exports=function(e,t){var i=[];return a(e,!1,i.push,i,t),i}},"7Doy":function(e,t,i){var a=i("EqjI"),n=i("7UMu"),s=i("dSzd")("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),a(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},"9Bbf":function(e,t,i){"use strict";var a=i("kM2E");e.exports=function(e){a(a.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,i){"use strict";var a=i("evD5").f,n=i("Yobk"),s=i("xH/j"),o=i("+ZMJ"),l=i("2KxR"),r=i("NWt+"),c=i("vIB/"),d=i("EGZi"),p=i("bRrM"),u=i("+E39"),m=i("06OY").fastKey,b=i("LIJb"),h=u?"_s":"size",v=function(e,t){var i,a=m(t);if("F"!==a)return e._i[a];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,c){var d=e(function(e,a){l(e,d,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=a&&r(a,i,e[c],e)});return s(d.prototype,{clear:function(){for(var e=b(this,t),i=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete i[a.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var i=b(this,t),a=v(i,e);if(a){var n=a.n,s=a.p;delete i._i[a.i],a.r=!0,s&&(s.n=n),n&&(n.p=s),i._f==a&&(i._f=n),i._l==a&&(i._l=s),i[h]--}return!!a},forEach:function(e){b(this,t);for(var i,a=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(a(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!v(b(this,t),e)}}),u&&a(d.prototype,"size",{get:function(){return b(this,t)[h]}}),d},def:function(e,t,i){var a,n,s=v(e,t);return s?s.v=i:(e._l=s={i:n=m(t,!0),k:t,v:i,p:a=e._l,n:void 0,r:!1},e._f||(e._f=s),a&&(a.n=s),e[h]++,"F"!==n&&(e._i[n]=s)),e},getEntry:v,setStrong:function(e,t,i){c(e,t,function(e,i){this._t=b(e,t),this._k=i,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},i?"entries":"values",!i,!0),p(t)}}},ALrJ:function(e,t,i){var a=i("+ZMJ"),n=i("MU5D"),s=i("sB3e"),o=i("QRG4"),l=i("oeOm");e.exports=function(e,t){var i=1==e,r=2==e,c=3==e,d=4==e,p=6==e,u=5==e||p,m=t||l;return function(t,l,b){for(var h,v,f=s(t),g=n(f),y=a(l,b,3),_=o(g.length),w=0,x=i?m(t,_):r?m(t,0):void 0;_>w;w++)if((u||w in g)&&(v=y(h=g[w],w,f),e))if(i)x[w]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:x.push(h)}else if(d)return!1;return p?-1:c||d?d:x}}},DkJU:function(e,t,i){"use strict";t.e=function(e){return Object(a.a)({url:"/testscene/search",method:"post",data:e})},t.f=function(e){return Object(a.a)({url:"/testscene/searchscenetreedata",method:"post",data:e})},t.a=function(e){return Object(a.a)({url:"/testscene",method:"post",data:e})},t.g=function(e){return Object(a.a)({url:"/testscene/detail",method:"put",data:e})},t.b=function(e){return Object(a.a)({url:"/testscene/copyscene",method:"post",data:e})},t.c=function(e){return Object(a.a)({url:"/testscene/scenes",method:"get",params:e})},t.d=function(e){return Object(a.a)({url:"/testscene/"+e,method:"delete"})};var a=i("vLgD")},HpRW:function(e,t,i){"use strict";var a=i("kM2E"),n=i("lOnJ"),s=i("+ZMJ"),o=i("NWt+");e.exports=function(e){a(a.S,e,{from:function(e){var t,i,a,l,r=arguments[1];return n(this),(t=void 0!==r)&&n(r),void 0==e?new this:(i=[],t?(a=0,l=s(r,arguments[2],2),o(e,!1,function(e){i.push(l(e,a++))})):o(e,!1,i.push,i),new this(i))}})}},LIJb:function(e,t,i){var a=i("EqjI");e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},MyJb:function(e,t,i){"use strict";t.e=function(e){return Object(a.a)({url:"/api/casedata/updatepropertydata",method:"post",data:e})},t.c=function(e){return Object(a.a)({url:"/api/casedata/casevalue",method:"post",data:e})},t.b=function(e){return Object(a.a)({url:"/api/casedata/casevalueforbody",method:"post",data:e})},t.a=function(e){return Object(a.a)({url:"/api/casedata",method:"post",data:e})},t.d=function(e){return Object(a.a)({url:"/api/casedata/detail",method:"put",data:e})};var a=i("vLgD")},UbPf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("ifoU"),n=i.n(a),s=i("Xxa5"),o=i.n(s),l=i("exGp"),r=i.n(l),c=i("Dd8w"),d=i.n(c),p=i("2d0t"),u=i("TKH6"),m=i("sc77"),b=i("W+bg"),h=i("XcM5"),v=i("DkJU"),f=i("vLgD");function g(e){return Object(f.a)({url:"/testscene/testcase/findcasebyscenenid",method:"post",data:e})}var y=i("0xDb"),_=i("k8Cg"),w=i("0qgb"),x=i("5kbS"),L=i("W/rB"),k=i("mKAx"),S=i("jO+8"),$=i("NYxO"),D=i("JGZL"),C=i("tQBS"),O=i("Xw19"),z=i("MyJb"),V=i("ggxm"),P=i("jAkc");function j(e){return Object(f.a)({url:"/scenecases/debug/report/search",method:"post",data:e})}var F={name:"测试场景",components:{uservariables:C.a},filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},data:function(){return{tmpstatus:"",tmpcasename:"",tmpbatchname:"",debugsearch:{page:1,size:5,batchname:"",casename:"",status:"",sceneid:"",projectid:""},debugtotal:0,apireportList:[],tmpnode:null,tmptestdata:{conditionid:0,globalheaderid:0,caseid:"",sceneid:"",scenename:"",casename:"",enviromentid:"",prixflag:"",projectid:"",batchname:"test111"},tmptest:{casename:"",enviromentid:"",enviromentname:"",respone:"",code:"",responeTime:"",size:"",general:"",requestdata:""},activeinfoName:"zero",searchtree:{scenename:null,sceneid:""},activebbbName:"xxx",activeaaaName:"zero",filterText:"",SeceneDebugdatatest:null,SeceneDebugdata:[{id:1,label:"测试场景",children:[{id:4,label:"用例1"},{id:4,label:"用例2"}]}],defaultProps:{children:"children",label:"label"},value:null,DebugScenedialogFormVisible:!1,tmpsubconditionid:"",conditionorderList:[],saveconditionorderList:[],searchconditionorder:{subconditionid:"",conditiontype:""},ConditionOrderdialogFormVisible:!1,id:null,activeName:"zero",ApicasesVariablesList:[],Headertabledatas:[],xxxHeadertabledatas:[],Paramstabledatas:[],Bodytabledatas:[],BodyVisible:!1,BodyParamDataVisible:!1,BodyDataVisible:!1,tmpexecuteplanid:null,tmpaddcaseexecuteplanid:null,tmpdeployunitid:null,tmpaddcasedeployunitid:null,tmpaddcaseapiid:null,tmpapiid:null,itemKey:null,itemaddcaseKey:null,tmptestscenename:"",testsceneList:[],testscenecaseList:[],addtestcaselastList:[],casemultipleSelection:[],testcaseList:[],apiList:[],addcaseapiList:[],apiconditionapiList:[],addcasemodelList:[],modelList:[],apiconditionmodelList:[],addcasedeployunitList:[],deployunitList:[],apiconditioncaseList:[],conditionapicaseList:[],dbconditioncaseList:[],enviromentnameList:[],enviroment_assembleList:[],sourcetestsceneList:[],delayconditionList:[],scriptconditionList:[],dbvariablesList:[],listLoading:!1,addcaselistLoading:!1,total:0,casetotal:0,addcasetotal:0,dbvariablestotal:0,apicasevariablestotal:0,dialogStatus:"add",DelaydialogStatus:"add",apiconditiondialogStatus:"add",scriptdialogStatus:"add",dbdialogStatus:"add",dbvariablesdialogStatus:"add",dialogFormVisible:!1,testscenecasedialogFormVisible:!1,addtestscenecasedialogFormVisible:!1,sceneConditionFormVisible:!1,scenecaseConditionFormVisible:!1,caseconditiondialogFormVisible:!1,dbconditiondialogFormVisible:!1,CopysceneFormVisible:!1,DelaydialogFormVisible:!1,scriptdialogFormVisible:!1,LogicdialogFormVisible:!1,dbVariablesDialogFormVisible:!1,adddbvariablesdialogFormVisible:!1,caseVariablesDialogFormVisible:!1,caseaddvariablesdialogFormVisible:!1,casedataialogFormVisible:!1,tmpcopyscene:{sourcesceneid:"",sourcescenename:"",newscenename:""},dbvariablestextMap:{updateRole:"修改API用例",update:"修改数据库变量",add:"添加数据库变量"},textMap:{updateRole:"修改场景",update:"修改场景",add:"添加场景"},scripttextMap:{updateRole:"修改环境",update:"修改脚本前置条件",add:"添加脚本前置条件"},dbtextMap:{updateRole:"修改环境",update:"修改数据库前置条件",add:"添加数据库前置条件"},apiconditiontextMap:{update:"修改前置接口",add:"添加前置接口"},DelaytextMap:{update:"修改延时条件",add:"添加延时条件"},caseaddvariablestextMap:{update:"修改变量",add:"添加变量"},caseaddvariablesdialogStatus:"add",btnLoading:!1,caseQuery:{page:1,size:10,deployunitid:0,modelid:0,deployunitname:""},addcaseQuery:{page:1,size:10,deployunitid:0,modelid:0,deployunitname:""},tmpscenecase:{scenecaseid:"",loop:"",stopitem:""},tmpscriptcondition:{id:"",subconditionname:"",conditionid:"",conditionname:"",script:"",creator:"",projectid:""},tmpapicondition:{page:1,size:10,id:"",modelid:0,modelname:"",conditionid:"",subconditionname:"",conditionname:"",deployunitid:"",deployunitname:"",apiname:"",apiid:"",caseid:"",casename:"",memo:"",conditiontype:"",creator:"",projectid:""},tmpdelaycondition:{id:"",subconditionname:"",conditionid:"",conditionname:"",conditiontype:"",delaytime:"",creator:"",projectid:""},tmpdbcondition:{id:"",conditionid:"",conditionname:"",assembleid:"",assemblename:"",subconditionname:"",enviromentid:"",enviromentname:"",dbtype:"",dbcontent:"",connectstr:"",memo:"",conditiontype:"",creator:"",projectid:""},tmptestscene:{id:"",scenename:"",usetype:"",creator:"",memo:"",projectid:""},tmpscenecaselogic:{id:"",loopnums:"",stopflag:""},tmpsearchscenecase:{id:""},tmpdbvariables:{id:"",dbvariablesname:"",variablesdes:"",valuetype:"",fieldname:"",roworder:"",conditionid:"",conditionname:"",memo:"",creator:"",projectid:""},searchcase:{page:1,size:10,testscenenid:"",testscenenname:null,scenentype:"",executeplanid:null,executeplanname:null,deployunitid:null,deployunitname:null,modelid:0,modelname:"",apiid:null,apiname:null,casetype:null},addsearchcase:{page:1,size:10,executeplanid:null,executeplanname:null,deployunitid:null,deployunitname:null,modelid:null,modelname:null,apiid:null,apiname:null,creator:"",casetype:null,projectid:""},search:{page:1,size:10,scenename:null,accountId:null,projectid:""},searchapicondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},Scenedelaysearch:{page:1,size:10,conditionid:null,conditiontype:null,projectid:null},searchallscene:{projectid:""},searchscriptcondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},searchdbcondition:{page:1,size:10,conditionid:"",conditiontype:"",projectid:""},searchdbvariables:{page:1,size:10,conditionid:"",projectid:""},searchapicasevariables:{page:1,size:10,projectid:""},tmpapicasesdata:{id:"",caseid:"",casename:"",propertytype:"",memo:"",casedataMap:[],keyname:""},tmpapicasesbodydata:{id:"",caseid:"",casename:"",propertytype:"",memo:"",apiparam:"",apiparamvalue:"",paramstype:""},tmpapicase:{caseid:"",casename:"",apiid:""},tmpapi:{id:"",deployunitid:"",deployunitname:"",apiname:"",visittype:"",requesttype:"",apistyle:"",path:"",requestcontenttype:"",responecontenttype:"",memo:"",creator:""},tmptestvariables:{id:"",caseid:"",casename:"",testvariablesname:"",variablesdes:"",valuetype:"",testvariablestype:"",variablesexpress:"",memo:"",creator:"",projectid:""},tmpscriptvariables:{id:"",scriptvariablesname:"",variablesdes:"",valuetype:"",memo:"",creator:"",conditionid:"",conditionname:"",projectid:""},scriptVariablestextMap:{updateRole:"修改API用例",update:"修改脚本变量",add:"添加脚本变量"},scriptVariablesdialogStatus:"add",addscriptVariablesdialogFormVisible:!1,scriptVariablesDialogFormVisible:!1,searchscriptvariables:{page:1,size:10,conditionid:"",projectid:""},scriptvariablesList:[],scriptvariablestotal:0,searchassemble:{page:1,size:100,assembletype:"组件",envid:""}}},created:function(){this.search.accountId=this.accountId,this.addsearchcase.projectid=window.localStorage.getItem("pid"),this.tmptestdata.projectid=window.localStorage.getItem("pid"),this.debugsearch.projectid=window.localStorage.getItem("pid"),this.search.projectid=window.localStorage.getItem("pid"),this.getdepunitLists(),this.searchapicondition.projectid=window.localStorage.getItem("pid"),this.searchdbcondition.projectid=window.localStorage.getItem("pid"),this.searchscriptcondition.projectid=window.localStorage.getItem("pid"),this.searchallscene.projectid=window.localStorage.getItem("pid"),this.Scenedelaysearch.projectid=window.localStorage.getItem("pid"),this.searchdbvariables.projectid=window.localStorage.getItem("pid"),this.searchscriptvariables.projectid=window.localStorage.getItem("pid"),this.searchapicasevariables.projectid=window.localStorage.getItem("pid"),this.gettestsceneList(),this.getassembleallnameList(),this.getenviromentallList(),this.getsceneallList()},activated:function(){this.getdepunitLists(),this.gettestsceneList()},computed:d()({},Object($.b)(["name","sidebar","projectlist","projectid","accountId"])),methods:{getscenedebugreportList:function(){var e=this;this.debugsearch.status=this.tmpstatus,this.debugsearch.batchname=this.tmpbatchname,this.debugsearch.casename=this.tmpcasename,j(this.debugsearch).then(function(t){e.apireportList=t.data.list,e.debugtotal=t.data.total}).catch(function(t){e.$message.error("加载用例列表失败")})},searchcaseReportBy:function(){var e=this;j(this.debugsearch).then(function(t){e.apireportList=t.data.list,e.debugtotal=t.data.total}).catch(function(t){e.$message.error("加载用例结果报告列表失败")}),this.tmpstatus=this.debugsearch.status,this.tmpbatchname=this.debugsearch.batchname,this.tmpcasename=this.debugsearch.casename},EnviromentselectChanged:function(e){this.tmptest.respone="";for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmptestdata.enviromentid=this.enviromentnameList[t].id)},runtest:function(){var e=this;""!==this.tmptest.casename?this.$refs.tmptest.validate(function(t){t&&(1===e.tmpnode.level?(e.tmptestdata.sceneid=e.tmpnode.data.id,e.tmptestdata.scenename=e.tmpnode.data.label,Object(p.m)(e.tmptestdata).then(function(t){e.$message.success("调试进行中，可到调试报告中查询结果")}).catch(function(t){e.$message.error("调试失败")}),console.log("测试场景")):(console.log("测试用例-----------------------------------------------"),e.tmptestdata.sceneid=e.tmpnode.parent.data.id,e.tmptestdata.scenename=e.tmpnode.parent.data.label,e.tmptestdata.caseid=e.tmpnode.data.caseid,e.tmptestdata.casename=e.tmpnode.data.label,console.log(e.tmptestdata),Object(p.l)(e.tmptestdata).then(function(t){e.apireportList=t.data,e.$message.success("调试进行中，可到调试报告中查询结果"),console.log(t.data),e.$message.error(t.data)}).catch(function(t){e.$message.error("调试失败")})))}):this.$message.error("请选择需要调试的目标")},clickNode:function(e,t,i){var a=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.tmpnode=t,a.tmptest.casename=t.data.label,1!==t.level){e.next=32;break}console.log("测试场景"),a.searchconditionorder.conditiontype="scene",a.Headertabledatas=[],a.Paramstabledatas=[],a.tmpapicasesbodydata.apiparamvalue=null,a.Bodytabledatas=[],a.tmpsubconditionid=t.data.id,a.tmpapicondition.conditionid=t.data.id,a.tmpapicondition.conditionname=t.data.label,a.tmpapicondition.conditiontype="scene",a.searchapicondition.conditiontype="scene",a.searchapicondition.conditionid=t.data.id,a.searchdbcondition.conditiontype="scene",a.searchdbcondition.conditionid=t.data.id,a.tmpdbcondition.conditionid=t.data.id,a.tmpdbcondition.conditionname=t.data.label,a.tmpdbcondition.conditiontype="scene",a.Scenedelaysearch.conditionid=t.data.id,a.Scenedelaysearch.conditiontype="scene",a.tmpdelaycondition.conditionid=t.data.id,a.tmpdelaycondition.conditionname=t.data.label,a.tmpdelaycondition.conditiontype="scene",a.tmpscriptcondition.conditionid=t.data.id,a.tmpscriptcondition.conditionname=t.data.label,a.tmpscriptcondition.conditiontype="scene",a.searchscriptcondition.conditiontype="scene",a.searchscriptcondition.conditionid=t.data.id,e.next=68;break;case 32:return console.log("测试场景用例"),a.searchconditionorder.conditiontype="case",a.tmptestdata.caseid=t.data.id,a.activeaaaName="zero",a.tmpapicase.caseid=t.data.id,a.tmpapicase.casename=t.data.label,a.tmpapicase.apiid=t.data.apiid,a.tmpapicasesbodydata.caseid=t.data.id,a.tmpapicasesbodydata.casename=t.data.label,a.getheaderdatabycaseidandtype(),a.getparamdatabycaseidandtype(),e.next=45,a.getapi();case 45:a.getbodytextdatabycaseidandtype(),"Form表单"===a.tmpapi.requestcontenttype?(a.BodyParamDataVisible=!0,a.BodyDataVisible=!1,a.getbodydatabycaseidandtype()):(a.BodyDataVisible=!0,a.BodyParamDataVisible=!1,a.getbodytextdatabycaseidandtype()),a.tmpsubconditionid=t.data.caseid,a.tmpapicondition.conditionid=t.data.caseid,a.tmpapicondition.conditionname=t.data.label,a.tmpapicondition.conditiontype="case",a.searchapicondition.conditiontype="case",a.searchapicondition.conditionid=t.data.caseid,a.searchdbcondition.conditiontype="case",a.searchdbcondition.conditionid=t.data.caseid,a.tmpdbcondition.conditionid=t.data.caseid,a.tmpdbcondition.conditionname=t.data.label,a.tmpdbcondition.conditiontype="case",a.Scenedelaysearch.conditionid=t.data.caseid,a.Scenedelaysearch.conditiontype="case",a.tmpdelaycondition.conditionid=t.data.caseid,a.tmpdelaycondition.conditionname=t.data.label,a.tmpdelaycondition.conditiontype="case",a.tmpscriptcondition.conditionid=t.data.caseid,a.tmpscriptcondition.conditionname=t.data.label,a.tmpscriptcondition.conditiontype="case",a.searchscriptcondition.conditiontype="case",a.searchscriptcondition.conditionid=t.data.caseid;case 68:a.getapiconditionList(),a.getdelayconditionList(),a.getdbconditionList(),a.getscriptconditionList();case 72:case"end":return e.stop()}},e,a)}))()},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},unix2CurrentTime:y.b,showscenecaseconditionorderDialog:function(){this.ConditionOrderdialogFormVisible=!0,this.searchconditionorder.subconditionid=this.tmpsubconditionid,this.searchConditionorder()},searchConditionorder:function(){var e=this;Object(P.c)(this.searchconditionorder).then(function(t){e.conditionorderList=t.data}).catch(function(t){e.$message.error("查询条件顺序失败")})},searchscenetreedata:function(){var e=this;Object(v.f)(this.searchtree).then(function(t){e.SeceneDebugdata=t.data,console.log(t.data)}).catch(function(t){e.$message.error("查询条件顺序失败")})},saveconditionorder:function(){var e=this;this.saveconditionorderList=[];for(var t=0;t<this.conditionorderList.length;t++)this.saveconditionorderList.push({id:this.conditionorderList[t].id,conditionid:this.conditionorderList[t].conditionid,subconditionid:this.conditionorderList[t].subconditionid,subconditiontype:this.conditionorderList[t].subconditiontype,orderstatus:"已排序",subconditionname:this.conditionorderList[t].subconditionname,conditionname:this.conditionorderList[t].conditionname,conditionorder:t+1,creator:this.name});console.log(this.saveconditionorderList),Object(P.a)(this.saveconditionorderList).then(function(){e.$message.success("条件顺序保存成功")}).catch(function(t){e.$message.error("条件顺序保存失败")}),this.ConditionOrderdialogFormVisible=!1},moveUp:function(e,t){if(e>0){var i=this.conditionorderList[e-1];this.conditionorderList.splice(e-1,1),this.conditionorderList.splice(e,0,i)}else alert("已经是第一条，不可上移");console.log(this.conditionorderList)},moveDown:function(e,t){if(console.log("下移",e,t),e+1===this.conditionorderList.length)alert("已经是最后一条，不可下移");else{console.log(e);var i=this.conditionorderList[e+1];this.conditionorderList.splice(e+1,1),this.conditionorderList.splice(e,0,i)}},findMacAndDepWithEnv:function(){var e=this;Object(V.e)(this.searchassemble).then(function(t){e.enviroment_assembleList=t.data.list}).catch(function(t){e.$message.error("获取组件列表失败")})},scriptvariableshandleSizeChange:function(e){this.searchscriptvariables.page=1,this.searchscriptvariables.size=e,this.getscriptvariablesList()},scriptvariableshandleCurrentChange:function(e){this.searchscriptvariables.page=e,this.getscriptvariablesList()},scriptvariablesgetIndex:function(e){return(this.searchscriptvariables.page-1)*this.searchscriptvariables.size+e+1},showUpdatescriptvariablesDialog:function(e){this.addscriptVariablesdialogFormVisible=!0,this.scriptVariablesdialogStatus="update",this.tmpscriptvariables.id=this.scriptvariablesList[e].id,this.tmpscriptvariables.scriptvariablesname=this.scriptvariablesList[e].scriptvariablesname,this.tmpscriptvariables.variablesdes=this.scriptvariablesList[e].variablesdes,this.tmpscriptvariables.valuetype=this.scriptvariablesList[e].valuetype,this.tmpscriptvariables.memo=this.scriptvariablesList[e].memo,this.tmpscriptvariables.creator=this.name},showAddscriptvariablesDialog:function(){this.addscriptVariablesdialogFormVisible=!0,this.scriptVariablesdialogStatus="add",this.tmpscriptvariables.id="",this.tmpscriptvariables.scriptvariablesname="",this.tmpscriptvariables.variablesdes="",this.tmpscriptvariables.valuetype="",this.tmpscriptvariables.memo="",this.tmpscriptvariables.creator=this.name,this.tmpscriptvariables.projectid=window.localStorage.getItem("pid")},updatescriptvariables:function(){var e=this;this.$refs.tmpscriptvariables.validate(function(t){t&&Object(u.d)(e.tmpscriptvariables).then(function(){e.$message.success("更新成功"),e.getscriptvariablesList(),e.addscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removescriptvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.scriptvariablesList[e].id;Object(u.b)(i).then(function(){t.$message.success("删除成功"),t.getscriptvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},addscriptvariables:function(){var e=this;this.$refs.tmpscriptvariables.validate(function(t){t&&Object(u.a)(e.tmpscriptvariables).then(function(){e.$message.success("添加成功"),e.getscriptvariablesList(),e.addscriptVariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},getscriptvariablesList:function(){var e=this;Object(u.c)(this.searchscriptvariables).then(function(t){e.scriptvariablesList=t.data.list,e.scriptvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},showscriptvariablesDialog:function(e){this.scriptVariablesDialogFormVisible=!0,this.tmpscriptvariables.conditionid=this.scriptconditionList[e].id,this.searchscriptvariables.conditionid=this.scriptconditionList[e].id,this.tmpscriptvariables.conditionname=this.scriptconditionList[e].subconditionname,this.getscriptvariablesList()},removetestvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.ApicasesVariablesList[e].id;Object(O.d)(i).then(function(){t.$message.success("删除成功"),t.findtestvariablesbycaseid()})}).catch(function(){t.$message.info("已取消删除")})},updatetestvariables:function(){var e=this;this.$refs.tmptestvariables.validate(function(t){t&&Object(O.f)(e.tmptestvariables).then(function(){e.$message.success("更新成功"),e.findtestvariablesbycaseid(),e.caseaddvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},addtestvariables:function(){var e=this;this.$refs.tmptestvariables.validate(function(t){t&&Object(O.a)(e.tmptestvariables).then(function(){e.$message.success("添加成功"),e.caseaddvariablesdialogFormVisible=!1,e.findtestvariablesbycaseid()}).catch(function(t){e.$message.error("添加失败")})})},apicasevariableshandleCurrentChange:function(e){this.searchapicasevariables.page=e,this.findtestvariablesbycaseid()},apicasevariableshandleSizeChange:function(e){this.searchapicasevariables.page=1,this.searchapicasevariables.size=e,this.findtestvariablesbycaseid()},ApicasesVariablesgetIndex:function(e){return(this.searchapicasevariables.page-1)*this.searchapicasevariables.size+e+1},showAddApicasesVariablesDialog:function(e){this.caseaddvariablesdialogFormVisible=!0,this.caseaddvariablesdialogStatus="add",this.tmptestvariables.id="",this.tmptestvariables.testvariablesname="",this.tmptestvariables.variablesdes="",this.tmptestvariables.testvariablestype="",this.tmptestvariables.variablesexpress="",this.tmptestvariables.memo="",this.tmptestvariables.valuetype="",this.tmptestvariables.tmptestvariables="",this.tmptestvariables.creator=this.name,this.tmptestvariables.projectid=window.localStorage.getItem("pid")},showCaseVariablesforConditionDialog:function(e){this.caseVariablesDialogFormVisible=!0,this.tmptestvariables.caseid=this.apiconditioncaseList[e].caseid,this.tmptestvariables.casename=this.apiconditioncaseList[e].casename,this.findtestvariablesbycaseid()},findtestvariablesbycaseid:function(){var e=this;Object(O.b)(this.searchapicasevariables).then(function(t){e.ApicasesVariablesList=t.data.list,e.apicasevariablestotal=t.data.total}).catch(function(t){e.$message.error("获取用例变量列表失败")})},selectparamsChanged:function(e){this.getcaseparamsbytype(e)},getcaseparamsbytype:function(e){var t=this;if("Body"===e)console.log("Body的数据，如果没有用例值，则从参数中获取，如果有，则永远取用例中的数据"),this.HeaderandParamsVisible=!1,this.BodyVisible=!0,this.casevalue.apiid=this.apicasesList[this.caseindex].apiid,this.casevalue.caseid=this.apicasesList[this.caseindex].id,this.casevalue.propertytype=e,Object(z.b)(this.casevalue).then(function(e){t.tmpapicasesdata.keyname=e.data}).catch(function(e){t.$message.error()});else{this.HeaderandParamsVisible=!0,this.BodyVisible=!1,this.tmpcaseparamslist=null,this.paravaluemap;for(var i=0;i<this.caseparamsbytypelist.length;i++)this.caseparamsbytypelist[i].propertytype===e&&(this.tmpcaseparamslist=this.caseparamsbytypelist[i].keyname.split(","),this.casevalue.caseid=this.apicasesList[this.caseindex].id,this.casevalue.propertytype=e,Object(z.c)(this.casevalue).then(function(e){t.paraList=[],t.paravaluemap=new n.a;for(var i=0;i<e.data.list.length;i++)t.paravaluemap.set(e.data.list[i].apiparam,e.data.list[i].apiparamvalue);for(var a=0;a<t.tmpcaseparamslist.length;a++)t.paravaluemap.has(t.tmpcaseparamslist[a])?t.paraList.push(t.paravaluemap.get(t.tmpcaseparamslist[a])):t.paraList.push(""),console.log(t.paraList);null===t.paraList&&(t.paraList=new Array(t.tmpcaseparamslist.length))}).catch(function(e){t.$message.error()}))}},getheaderdatabycaseidandtype:function(){var e=this,t={caseid:this.tmpapicase.caseid,propertytype:"Header"};Object(z.c)(t).then(function(t){e.Headertabledatas=t.data.list}).catch(function(t){e.$message.error("获取Header参数值失败")})},getparamdatabycaseidandtype:function(e){var t=this,i={caseid:this.tmpapicase.caseid,propertytype:"Params"};Object(z.c)(i).then(function(e){t.Paramstabledatas=e.data.list}).catch(function(e){t.$message.error("获取Params参数值失败")})},getbodydatabycaseidandtype:function(e){var t=this,i={caseid:this.tmpapicase.caseid,propertytype:"Body"};Object(z.c)(i).then(function(e){t.Bodytabledatas=e.data.list}).catch(function(e){t.$message.error("获取Body参数值失败")})},getbodytextdatabycaseidandtype:function(){var e=this,t={caseid:this.tmpapicase.caseid,propertytype:"Body"};Object(z.c)(t).then(function(t){console.log(t.data.list),t.data.list.length>0?(e.tmpapicasesbodydata=t.data.list[0],console.log(666666666666666),console.log(e.tmpapicasesbodydata)):(e.tmpapicasesbodydata.id="",e.tmpapicasesbodydata.apiparamvalue="")}).catch(function(t){e.$message.error("获取Body文本参数值失败")})},updateapicasesdata:function(){var e=this;this.tmpapicasesbodydata.apiparam="Body",this.tmpapicasesbodydata.paramstype=this.tmpapi.requestcontenttype,this.tmpapicasesbodydata.propertytype="Body",Object(z.d)(this.tmpapicasesbodydata).then(function(e){}).catch(function(t){e.$message.error("更新用例Body值失败")})},updateHeaderpropertydata:function(e){var t=this;Object(z.e)(e).then(function(e){}).catch(function(e){t.$message.error("更新用例Header,Params值失败")})},addnewapicasesdata:function(){var e=this;return r()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.updateHeaderpropertydata(e.Headertabledatas),e.updateHeaderpropertydata(e.Paramstabledatas),t.next=4,e.getapi();case 4:"Form表单"===e.tmpapi.requestcontenttype?e.updateHeaderpropertydata(e.Bodytabledatas):e.updateapicasesdata(),e.$message.success("保存成功"),e.casedataialogFormVisible=!1;case 7:case"end":return t.stop()}},t,e)}))()},showtestcasedataDialog:function(e){var t=this;return r()(o.a.mark(function i(){return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log(e),console.log(t.testscenecaseList),t.casedataialogFormVisible=!0,t.activeName="zero",t.tmpapicase.caseid=t.testscenecaseList[e].testcaseid,t.tmpapicase.casename=t.testscenecaseList[e].casename,t.tmpapicase.apiid=t.testscenecaseList[e].apiid,t.tmpapicasesbodydata.caseid=t.testscenecaseList[e].testcaseid,t.tmpapicasesbodydata.casename=t.testscenecaseList[e].casename,console.log(1.1111111111111111e22),t.getheaderdatabycaseidandtype(),t.getparamdatabycaseidandtype(),i.next=14,t.getapi();case 14:"Form表单"===t.tmpapi.requestcontenttype?(t.BodyParamDataVisible=!0,t.BodyDataVisible=!1,t.getbodydatabycaseidandtype()):(t.BodyDataVisible=!0,t.BodyParamDataVisible=!1,t.getbodytextdatabycaseidandtype());case 15:case"end":return i.stop()}},i,t)}))()},getapi:function(){var e=this;return r()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.c)(e.tmpapicase.apiid).then(function(t){e.tmpapi=t.data}).catch(function(t){e.$message.error("获取api失败")});case 2:case"end":return t.stop()}},t,e)}))()},showUpdatedbvariablesDialog:function(e){this.adddbvariablesdialogFormVisible=!0,this.dbvariablesdialogStatus="update",this.tmpdbvariables.id=this.dbvariablesList[e].id,this.tmpdbvariables.dbvariablesname=this.dbvariablesList[e].dbvariablesname,this.tmpdbvariables.variablesdes=this.dbvariablesList[e].variablesdes,this.tmpdbvariables.valuetype=this.dbvariablesList[e].valuetype,this.tmpdbvariables.roworder=this.dbvariablesList[e].roworder,this.tmpdbvariables.fieldname=this.dbvariablesList[e].fieldname,this.tmpdbvariables.memo=this.dbvariablesList[e].memo,this.tmpdbvariables.creator=this.name},getdbvariablesList:function(){var e=this;Object(D.c)(this.searchdbvariables).then(function(t){e.dbvariablesList=t.data.list,e.dbvariablestotal=t.data.total}).catch(function(t){e.$message.error("加载变量列表失败")})},removedbvariables:function(e){var t=this;this.$confirm("删除该变量？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.dbvariablesList[e].id;Object(D.b)(i).then(function(){t.$message.success("删除成功"),t.getdbvariablesList()})}).catch(function(){t.$message.info("已取消删除")})},updatedbvariables:function(){var e=this;this.$refs.tmpdbvariables.validate(function(t){t&&Object(D.d)(e.tmpdbvariables).then(function(){e.$message.success("更新成功"),e.getdbvariablesList(),e.adddbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},adddbvariables:function(){var e=this;this.$refs.tmpdbvariables.validate(function(t){t&&Object(D.a)(e.tmpdbvariables).then(function(){e.$message.success("添加成功"),e.getdbvariablesList(),e.adddbvariablesdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},showAdddbvariablesDialog:function(){this.adddbvariablesdialogFormVisible=!0,this.dbvariablesdialogStatus="add",this.tmpdbvariables.id="",this.tmpdbvariables.dbvariablesname="",this.tmpdbvariables.variablesdes="",this.tmpdbvariables.roworder="",this.tmpdbvariables.fieldname="",this.tmpdbvariables.memo="",this.tmpdbvariables.valuetype="",this.tmpdbvariables.creator=this.name,this.tmpdbvariables.projectid=window.localStorage.getItem("pid")},dbvariableshandleCurrentChange:function(e){this.searchdbvariables.page=e,this.getdbvariablesList()},dbvariableshandleSizeChange:function(e){this.searchdbvariables.page=1,this.searchdbvariables.size=e,this.getdbvariablesList()},dbVariablesgetIndex:function(e){return(this.searchdbvariables.page-1)*this.searchdbvariables.size+e+1},showdbvariablesDialog:function(e){this.dbVariablesDialogFormVisible=!0,this.tmpdbvariables.conditionid=this.dbconditioncaseList[e].id,this.searchdbvariables.conditionid=this.dbconditioncaseList[e].id,this.tmpdbvariables.conditionname=this.dbconditioncaseList[e].subconditionname,this.getdbvariablesList()},updatescenecaselogic:function(){var e=this;this.$refs.tmpscenecaselogic.validate(function(t){var i;t&&(i=e.tmpscenecaselogic,Object(f.a)({url:"/testscene/testcase/updatescenecaselogic",method:"post",data:i})).then(function(){e.$message.success("更新成功"),e.tmpsearchscenecase.id=e.tmpscenecaselogic.id,e.LogicdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removedbcondition:function(e){var t=this;this.$confirm("删除该数据库条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.dbconditioncaseList[e].id;Object(x.c)(i).then(function(){t.$message.success("删除成功"),t.getdbconditionList()})}).catch(function(){t.$message.info("已取消删除")})},updatedbcondition:function(){var e=this;this.$refs.tmpdbcondition.validate(function(t){t&&Object(x.e)(e.tmpdbcondition).then(function(){e.$message.success("更新成功"),e.getdbconditionList(),e.dbconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},showUpdatedbconditionDialog:function(e){this.dbconditiondialogFormVisible=!0,this.dbdialogStatus="update",this.tmpdbcondition.id=this.dbconditioncaseList[e].id,this.tmpdbcondition.conditionid=this.dbconditioncaseList[e].conditionid,this.tmpdbcondition.assembleid=this.dbconditioncaseList[e].assembleid,this.tmpdbcondition.enviromentid=this.dbconditioncaseList[e].enviromentid,this.tmpdbcondition.enviromentname=this.dbconditioncaseList[e].enviromentname,this.tmpdbcondition.assemblename=this.dbconditioncaseList[e].assemblename,this.tmpdbcondition.conditionname=this.dbconditioncaseList[e].conditionname,this.tmpdbcondition.subconditionname=this.dbconditioncaseList[e].subconditionname,this.tmpdbcondition.dbtype=this.dbconditioncaseList[e].dbtype,this.tmpdbcondition.dbcontent=this.dbconditioncaseList[e].dbcontent,this.tmpdbcondition.creator=this.name},showAddscriptDialog:function(){this.scriptdialogFormVisible=!0,this.scriptdialogStatus="add",this.tmpscriptcondition.id="",this.tmpscriptcondition.subconditionname="",this.tmpscriptcondition.script="",this.tmpscriptcondition.creator=this.name,this.tmpscriptcondition.projectid=window.localStorage.getItem("pid")},updatescriptcondition:function(){var e=this;this.$refs.tmpscriptcondition.validate(function(t){t&&Object(m.e)(e.tmpscriptcondition).then(function(){e.$message.success("更新成功"),e.getscriptconditionList(),e.scriptdialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},showAddscriptconditionDialog:function(){this.scriptdialogFormVisible=!0,this.scriptdialogStatus="add",this.tmpscriptcondition.id="",this.tmpscriptcondition.subconditionname="",this.tmpscriptcondition.conditionname="",this.tmpscriptcondition.script="",this.tmpscriptcondition.creator=this.name,this.tmpscriptcondition.projectid=window.localStorage.getItem("pid")},addscriptcondition:function(){var e=this;this.$refs.tmpscriptcondition.validate(function(t){t&&Object(m.a)(e.tmpscriptcondition).then(function(){e.$message.success("添加成功"),e.getscriptconditionList(),e.scriptdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},getscriptconditionList:function(){var e=this;Object(m.d)(this.searchscriptcondition).then(function(t){e.scriptconditionList=t.data.list}).catch(function(t){e.$message.error("加载测试脚本条件列表失败")})},removescriptcondition:function(e){var t=this;this.$confirm("删除该脚本条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.scriptconditionList[e].id;Object(m.c)(i).then(function(){t.$message.success("删除成功"),t.getscriptconditionList()})}).catch(function(){t.$message.info("已取消删除")})},showUpdatescriptconditionDialog:function(e){this.scriptdialogFormVisible=!0,this.scriptdialogStatus="update",this.tmpscriptcondition.id=this.scriptconditionList[e].id,this.tmpscriptcondition.subconditionname=this.scriptconditionList[e].subconditionname,this.tmpscriptcondition.conditionname=this.scriptconditionList[e].conditionname,this.tmpscriptcondition.script=this.scriptconditionList[e].script,this.tmpscriptcondition.creator=this.name},showAddSceneCasedelayconditionDialog:function(){this.DelaydialogFormVisible=!0,this.DelaydialogStatus="add",this.tmpdelaycondition.id="",this.tmpdelaycondition.subconditionname="",this.tmpdelaycondition.delaytime="",this.tmpdelaycondition.creator=this.name,this.tmpdelaycondition.projectid=window.localStorage.getItem("pid")},getdelayconditionList:function(){var e=this;Object(S.d)(this.Scenedelaysearch).then(function(t){e.delayconditionList=t.data.list}).catch(function(t){e.$message.error("加载测试延时条件列表失败")})},showUpdatedelayconditionDialog:function(e){this.DelaydialogFormVisible=!0,this.DelaydialogStatus="update",this.tmpdelaycondition.id=this.delayconditionList[e].id,this.tmpdelaycondition.subconditionname=this.delayconditionList[e].subconditionname,this.tmpdelaycondition.delaytime=this.delayconditionList[e].delaytime,this.tmpdelaycondition.creator=this.name},removedelaycondition:function(e){var t=this;this.$confirm("删除该延时条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.delayconditionList[e].id;Object(S.b)(i).then(function(){t.$message.success("删除成功"),t.getdelayconditionList()})}).catch(function(){t.$message.info("已取消删除")})},updatedelaycondition:function(){var e=this;this.$refs.tmpdelaycondition.validate(function(t){t&&Object(S.e)(e.tmpdelaycondition).then(function(){e.$message.success("更新成功"),e.getdelayconditionList(),e.DelaydialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},adddelaycondition:function(){var e=this;this.$refs.tmpdelaycondition.validate(function(t){t&&Object(S.a)(e.tmpdelaycondition).then(function(){e.$message.success("添加成功"),e.getdelayconditionList(),e.DelaydialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},copyscene:function(){var e=this;this.$refs.tmpcopyscene.validate(function(t){t&&Object(v.b)(e.tmpcopyscene).then(function(){e.$message.success("复制成功"),e.gettestsceneList(),e.CopysceneFormVisible=!1}).catch(function(t){e.$message.error("复制失败")})})},CopySourceSceneChanged:function(e){for(var t=0;t<this.sourcetestsceneList.length;t++)this.sourcetestsceneList[t].scenename===e&&(this.tmpcopyscene.sourcesceneid=this.sourcetestsceneList[t].id)},getsceneallList:function(){var e=this;Object(v.c)(this.searchallscene).then(function(t){e.sourcetestsceneList=t.data}).catch(function(t){e.$message.error("加载数据库条件列表失败")})},getenviromentallList:function(){var e=this;this.listLoading=!0,Object(L.c)(this.search).then(function(t){e.enviromentnameList=t.data}).catch(function(t){e.$message.error("加载数据库条件列表失败")})},getassembleallnameList:function(){var e=this;Object(k.b)(this.searchdbcondition).then(function(t){e.enviroment_assembleList=t.data}).catch(function(t){e.$message.error("获取组件列表失败")})},selectChangedEN:function(e){for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpdbcondition.enviromentid=this.enviromentnameList[t].id,this.searchassemble.envid=this.enviromentnameList[t].id,this.tmpdbcondition.assembleid=null,this.tmpdbcondition.assemblename=null,this.findMacAndDepWithEnv())},ConditionselectChangedAS:function(e){for(var t=0;t<this.enviroment_assembleList.length;t++)this.enviroment_assembleList[t].deployunitname===e&&(this.tmpdbcondition.assembleid=this.enviroment_assembleList[t].assembleid)},adddbcondition:function(){var e=this;this.$refs.tmpdbcondition.validate(function(t){t&&Object(x.a)(e.tmpdbcondition).then(function(){e.$message.success("添加成功"),e.dbconditiondialogFormVisible=!1,e.getdbconditionList()}).catch(function(t){e.$message.error("添加失败")})})},getapiconditionList:function(){var e=this;Object(w.c)(this.searchapicondition).then(function(t){e.apiconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载测试接口条件列表失败")})},getdbconditionList:function(){var e=this;Object(x.d)(this.searchdbcondition).then(function(t){e.dbconditioncaseList=t.data.list}).catch(function(t){e.$message.error("加载测试数据库条件列表失败")})},cancelEdit:function(e){e.caseorder=e.oldcaseorder,e.edit=!1},confirmEdit:function(e){var t,i=this;e.edit=!1,(t=e,Object(f.a)({url:"/testscene/testcase/updatescenenCaseorder",method:"post",data:t})).then(function(t){e.oldcaseorder=e.caseorder,i.$message.success("修改顺序成功")}).catch(function(t){e.caseorder=e.oldcaseorder,i.$message.error("修改顺序失败")})},getdepunitLists:function(){var e=this;Object(h.e)(this.search).then(function(t){e.deployunitList=t.data}).catch(function(t){e.$message.error("加载微服务列表失败")})},gettestsceneList:function(){var e=this;this.listLoading=!0,this.search.scenename=this.tmptestscenename,Object(v.e)(this.search).then(function(t){e.testsceneList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载环境列表失败")})},searchBy:function(){var e=this;this.search.page=1,this.listLoading=!0,Object(v.e)(this.search).then(function(t){e.itemKey=Math.random(),e.testsceneList=t.data.list,e.total=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.tmptestscenename=this.search.scenename,this.listLoading=!1,this.btnLoading=!1},handleSizeChange:function(e){this.search.page=1,this.search.size=e,this.gettestsceneList()},debughandleSizeChange:function(e){this.debugsearch.page=1,this.debugsearch.size=e,this.getscenedebugreportList()},casehandleSizeChange:function(e){this.searchcase.page=1,this.searchcase.size=e,this.gettestscenecaseList()},addcasehandleSizeChange:function(e){this.addsearchcase.page=1,this.addsearchcase.size=e,this.getaddcasesList()},handleCurrentChange:function(e){this.search.page=e,this.gettestsceneList()},debughandleCurrentChange:function(e){this.debugsearch.page=e,this.getscenedebugreportList()},casehandleCurrentChange:function(e){this.searchcase.page=e,this.gettestscenecaseList()},addcasehandleCurrentChange:function(e){this.addsearchcase.page=e,this.getaddcasesList()},addcasehandleClickTableRow:function(e,t,i){},addcasehandleSelectionChange:function(e){this.casemultipleSelection=e},getIndex:function(e){return(this.search.page-1)*this.search.size+e+1},debuggetIndex:function(e){return(this.debugsearch.page-1)*this.debugsearch.size+e+1},delaycasegetIndex:function(e){return(this.Scenedelaysearch.page-1)*this.Scenedelaysearch.size+e+1},scriptcasegetIndex:function(e){return(this.searchscriptcondition.page-1)*this.searchscriptcondition.size+e+1},scenecasegetIndex:function(e){return(this.searchcase.page-1)*this.searchcase.size+e+1},apiconditioncaseIndex:function(e){return(this.searchapicondition.page-1)*this.searchapicondition.size+e+1},dbconditioncaseIndex:function(e){return(this.searchdbcondition.page-1)*this.searchdbcondition.size+e+1},scriptconditioncaseIndex:function(e){return(this.searchscriptcondition.page-1)*this.searchscriptcondition.size+e+1},sceneaddcasegetIndex:function(e){return(this.addsearchcase.page-1)*this.addsearchcase.size+e+1},gettestscenecaseList:function(){var e=this;this.searchcase.executeplanid=this.tmpcaseexecuteplanid,this.searchcase.deployunitid=this.tmpcasedeployunitid,this.searchcase.apiid=this.tmpcaseapiid,g(this.searchcase).then(function(t){e.testscenecaseList=t.data.list;var i=t.data.list;e.testscenecaseList=i.map(function(t){return e.$set(t,"edit",!1),t.oldcaseorder=t.caseorder,t}),e.casetotal=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载场景用例列表失败")})},searchscenecaseBy:function(){var e=this;g(this.searchcase).then(function(t){e.testscenecaseList=t.data.list,e.casetotal=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.tmpcaseexecuteplanid=this.searchcase.executeplanid,this.tmpcasedeployunitid=this.searchcase.deployunitid,this.tmpcaseapiid=this.searchcase.apiid},getaddcasesList:function(){var e=this;this.addsearchcase.executeplanid=this.tmpaddcaseexecuteplanid,this.addsearchcase.deployunitid=this.tmpaddcasedeployunitid,this.addsearchcase.apiid=this.tmpaddcaseapiid,this.addsearchcase.casetype=this.searchcase.casetype,this.addsearchcase.creator=this.name,Object(p.o)(this.addsearchcase).then(function(t){e.addtestcaselastList=t.data.list,e.addcasetotal=t.data.total,e.addcaselistLoading=!1}).catch(function(t){e.$message.error("加载用例列表失败")})},searchaddcaseBy:function(){var e=this;this.addsearchcase.casetype=this.searchcase.casetype,this.addsearchcase.creator=this.name,Object(p.o)(this.addsearchcase).then(function(t){e.itemaddcaseKey=Math.random(),e.addtestcaselastList=t.data.list,e.addcasetotal=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.tmpaddcaseexecuteplanid=this.addsearchcase.executeplanid,this.tmpaddcasedeployunitid=this.addsearchcase.deployunitid,this.tmpaddcaseapiid=this.addsearchcase.apiid,this.listLoading=!1,this.btnLoading=!1},showAddtestsceneDialog:function(){this.dialogFormVisible=!0,this.dialogStatus="add",this.tmptestscene.id="",this.tmptestscene.scenename="",this.tmptestscene.usetype="",this.tmptestscene.memo="",this.tmptestscene.creator=this.name,this.tmptestscene.projectid=window.localStorage.getItem("pid")},showCopytestsceneDialog:function(){this.CopysceneFormVisible=!0,this.tmpcopyscene.newscenename="",this.tmpcopyscene.sourcescenename="",this.tmpcopyscene.sourcesceneid=""},showtestsceneConditionDialog:function(e){this.sceneConditionFormVisible=!0},showtestscenecaseLogicDialog:function(e){var t,i=this;this.LogicdialogFormVisible=!0,this.tmpscenecaselogic.id=this.testscenecaseList[e].id,this.tmpsearchscenecase.id=this.testscenecaseList[e].id,(t=this.tmpsearchscenecase,Object(f.a)({url:"/testscene/testcase/findscenecasebyid",method:"post",data:t})).then(function(e){i.tmpscenecaselogic.loopnums=e.data.loopnums,i.tmpscenecaselogic.stopflag=e.data.stopflag}).catch(function(e){i.$message.error("搜索失败")})},showtestscenecaseConditionDialog:function(e){this.scenecaseConditionFormVisible=!0,this.tmpsubconditionid=this.testscenecaseList[e].testcaseid,this.tmpapicondition.conditionid=this.testscenecaseList[e].testcaseid,this.tmpapicondition.conditionname=this.testscenecaseList[e].casename,this.tmpapicondition.conditiontype="case",this.searchapicondition.conditiontype="case",this.searchapicondition.conditionid=this.testscenecaseList[e].testcaseid,this.searchdbcondition.conditiontype="case",this.searchdbcondition.conditionid=this.testscenecaseList[e].testcaseid,this.tmpdbcondition.conditionid=this.testscenecaseList[e].testcaseid,this.tmpdbcondition.conditionname=this.testscenecaseList[e].casename,this.tmpdbcondition.conditiontype="case",this.Scenedelaysearch.conditionid=this.testscenecaseList[e].testcaseid,this.Scenedelaysearch.conditiontype="case",this.tmpdelaycondition.conditionid=this.testscenecaseList[e].testcaseid,this.tmpdelaycondition.conditionname=this.testscenecaseList[e].casename,this.tmpdelaycondition.conditiontype="case",this.tmpscriptcondition.conditionid=this.testscenecaseList[e].testcaseid,this.tmpscriptcondition.conditionname=this.testscenecaseList[e].casename,this.tmpscriptcondition.conditiontype="case",this.searchscriptcondition.conditiontype="case",this.searchscriptcondition.conditionid=this.testscenecaseList[e].testcaseid,this.getapiconditionList(),this.getdelayconditionList(),this.getdbconditionList(),this.getscriptconditionList()},ShowAddcasecaseconditionDialog:function(e){this.caseconditiondialogFormVisible=!0,this.apiconditiondialogStatus="add",this.tmpapicondition.id="",this.tmpapicondition.subconditionname="",this.tmpapicondition.deployunitname="",this.tmpapicondition.apiname="",this.tmpapicondition.modelname="",this.tmpapicondition.casename="",this.tmpapicondition.memo="",this.tmpapicondition.creator=this.name,this.tmpapicondition.projectid=window.localStorage.getItem("pid")},AddcasedbconditionDialog:function(e){this.dbconditiondialogFormVisible=!0,this.dbdialogStatus="add",this.tmpdbcondition.id="",this.tmpdbcondition.enviromentid="",this.tmpdbcondition.enviromentname="",this.tmpdbcondition.assembleid="",this.tmpdbcondition.assemblename="",this.tmpdbcondition.subconditionname="",this.tmpdbcondition.dbtype="",this.tmpdbcondition.dbcontent="",this.tmpdbcondition.creator=this.name,this.tmpdbcondition.projectid=window.localStorage.getItem("pid")},showDebugSceneDialog:function(e){var t=this;return r()(o.a.mark(function i(){return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t.debugtotal=0,t.apireportList=null,t.tmptest.casename="",t.tmptestdata.enviromentid="",t.tmptest.enviromentname="",t.Headertabledatas=null,t.Paramstabledatas=null,t.Bodytabledatas=null,t.tmpapicasesbodydata.apiparamvalue=null,t.apiconditioncaseList=null,t.delayconditionList=null,t.dbconditioncaseList=null,t.scriptconditionList=null,t.debugsearch.sceneid=t.testsceneList[e].id,t.searchtree.sceneid=t.testsceneList[e].id,t.searchtree.scenename=t.testsceneList[e].scenename,t.searchscenetreedata(),t.searchcase.testscenenid=t.testsceneList[e].id,t.activebbbName="xxx",t.activeaaaName="zero",t.DebugScenedialogFormVisible=!0;case 21:case"end":return i.stop()}},i,t)}))()},showtestsceneCaseDialog:function(e){this.addtestcaselastList=null,this.testscenecasedialogFormVisible=!0,this.searchcase.testscenenid=this.testsceneList[e].id,this.searchcase.testscenenname=this.testsceneList[e].scenename,this.searchcase.casetype=this.testsceneList[e].usetype,this.gettestscenecaseList()},ShowAddCaseDialog:function(e){this.addtestscenecasedialogFormVisible=!0},addtestscene:function(){var e=this;this.$refs.tmptestscene.validate(function(t){t&&(e.btnLoading=!0,Object(v.a)(e.tmptestscene).then(function(){e.$message.success("添加成功"),e.gettestsceneList(),e.dialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},addapicondition:function(){var e=this;this.$refs.tmpapicondition.validate(function(t){t&&Object(w.a)(e.tmpapicondition).then(function(){e.$message.success("添加成功"),e.caseconditiondialogFormVisible=!1,e.getapiconditionList()}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})})},addtestscenetestcase:function(){var e,t=this;if(this.testcaseList=[],0===this.casemultipleSelection.length)this.$message.error("请选择装载的用例");else{for(var i=0;i<this.casemultipleSelection.length;i++)this.testcaseList.push({testscenenid:this.searchcase.testscenenid,scenename:this.searchcase.testscenenname,modelid:this.searchcase.modelid,modelname:this.searchcase.modelname,deployunitid:this.casemultipleSelection[i].deployunitid,apiid:this.casemultipleSelection[i].apiid,deployunitname:this.casemultipleSelection[i].deployunitname,apiname:this.casemultipleSelection[i].apiname,testcaseid:this.casemultipleSelection[i].id,caseorder:0,casename:this.casemultipleSelection[i].casename,creator:this.name,projectid:window.localStorage.getItem("pid")});(e=this.testcaseList,Object(f.a)({url:"/testscene/testcase/addcases",method:"post",data:e})).then(function(){t.addtestscenecasedialogFormVisible=!1,t.gettestscenecaseList(),t.gettestsceneList(),t.$message.success("装载成功")}).catch(function(e){t.$message.error("装载失败")})}},showUpdatetestsceneDialog:function(e){this.dialogFormVisible=!0,this.dialogStatus="update",this.tmptestscene.id=this.testsceneList[e].id,this.tmptestscene.scenename=this.testsceneList[e].scenename,this.tmptestscene.usetype=this.testsceneList[e].usetype,this.tmptestscene.memo=this.testsceneList[e].memo,this.tmptestscene.creator=this.name,this.tmptestscene.projectid=window.localStorage.getItem("pid")},showUpdateapiconditionDialog:function(e){this.caseconditiondialogFormVisible=!0,this.apiconditiondialogStatus="update",this.tmpapicondition.id=this.apiconditioncaseList[e].id,this.tmpapicondition.subconditionname=this.apiconditioncaseList[e].subconditionname,this.tmpapicondition.deployunitname=this.apiconditioncaseList[e].deployunitname,this.tmpapicondition.apiname=this.apiconditioncaseList[e].apiname,this.tmpapicondition.casename=this.apiconditioncaseList[e].casename,this.tmpapicondition.modelname=this.apiconditioncaseList[e].modelname,this.tmpapicondition.memo=this.apiconditioncaseList[e].memo,this.tmpapicondition.creator=this.name,this.tmpapicondition.projectid=window.localStorage.getItem("pid")},updatetestscene:function(){var e=this;this.$refs.tmptestscene.validate(function(t){t&&Object(v.g)(e.tmptestscene).then(function(){e.$message.success("更新成功"),e.gettestsceneList(),e.dialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},updateapicondition:function(){var e=this;this.$refs.tmpapicondition.validate(function(t){t&&Object(w.d)(e.tmpapicondition).then(function(){e.$message.success("更新成功"),e.getapiconditionList(),e.caseconditiondialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")})})},removetestscene:function(e){var t=this;this.$confirm("删除该测试场景？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.testsceneList[e].id;Object(v.d)(i).then(function(){t.$message.success("删除成功"),t.gettestsceneList()})}).catch(function(){t.$message.info("已取消删除")})},removecaseapicondition:function(e){var t=this;this.$confirm("删除该前置条件？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i=t.apiconditioncaseList[e].id;Object(w.b)(i).then(function(){t.$message.success("删除成功"),t.getapiconditionList()})}).catch(function(){t.$message.info("已取消删除")})},removetestscenecase:function(e){var t=this;this.$confirm("删除该测试场景用例？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var i,a=t.testscenecaseList[e].id;(i=a,Object(f.a)({url:"/testscene/testcase/"+i,method:"delete"})).then(function(){t.$message.success("删除成功"),t.gettestscenecaseList(),t.gettestsceneList()})}).catch(function(){t.$message.info("已取消删除")})},isUniqueDetail:function(e){for(var t=0;t<this.testsceneList.length;t++)if(this.testsceneList[t].id!==e.id&&this.testsceneList[t].scenename===e.scenename)return this.$message.error("测试场景名已存在"),!1;return!0},searchdeployunitmodel:function(e){var t=this;Object(_.c)(e).then(function(e){t.modelList=e.data.list}).catch(function(e){t.$message.error("加载服务模块列表失败")})},apiconditiondeployunitselectChanged:function(e){var t=this;this.tmpapicondition.casename=null,this.tmpapicondition.apiname=null,this.tmpapicondition.modelname=null;for(var i=0;i<this.deployunitList.length;i++)this.deployunitList[i].deployunitname===e&&(this.tmpapicondition.deployunitid=this.deployunitList[i].id);Object(_.c)(this.tmpapicondition).then(function(e){t.apiconditionmodelList=e.data.list}).catch(function(e){t.$message.error("加载服务模块列表失败")}),this.apiconditionapiList=null,Object(b.d)(this.tmpapicondition).then(function(e){t.apiconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},apiconditionmodelselectChanged:function(e){var t=this;this.tmpapicondition.apiname=null,this.tmpapicondition.casename=null;for(var i=0;i<this.apiconditionmodelList.length;i++)this.apiconditionmodelList[i].modelname===e&&(this.tmpapicondition.modelid=this.apiconditionmodelList[i].id);""===e&&(this.tmpapicondition.modelid=0,this.tmpapicondition.modelname=""),Object(b.d)(this.tmpapicondition).then(function(e){t.apiconditionapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},deployunitselectChanged:function(e){var t=this;this.searchcase.modelid=0,this.searchcase.apiid=0,this.searchcase.deployunitid=0;for(var i=0;i<this.deployunitList.length;i++)this.deployunitList[i].deployunitname===e&&(this.searchcase.deployunitid=this.deployunitList[i].id);this.searchdeployunitmodel(this.searchcase),this.apiList=null,this.searchcase.apiname="",Object(b.d)(this.searchcase).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},addcasedeployunitselectChanged:function(e){var t=this;this.addsearchcase.modelid=0,this.addsearchcase.apiid=0;for(var i=0;i<this.deployunitList.length;i++)this.deployunitList[i].deployunitname===e&&(this.addsearchcase.deployunitid=this.deployunitList[i].id);this.searchdeployunitmodel(this.addsearchcase),this.addcaseapiList=null,this.addsearchcase.apiname="",this.addsearchcase.deployunitname=e,console.log(2.222222222222222e44),Object(b.d)(this.addsearchcase).then(function(e){t.addcaseapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},modelselectChanged:function(e){var t=this;this.searchcase.modelid=0,this.searchcase.apiid=0;for(var i=0;i<this.modelList.length;i++)this.modelList[i].modelname===e&&(this.searchcase.modelid=this.modelList[i].id);this.apiList=null,this.searchcase.apiname="",Object(b.d)(this.caseQuery).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},addcasemodelselectChanged:function(e){var t=this;this.addsearchcase.modelid=0,this.addsearchcase.apiid=0;for(var i=0;i<this.addcasemodelList.length;i++)this.addcasemodelList[i].modelname===e&&(this.addsearchcase.modelid=this.addcasemodelList[i].id);this.addcaseapiList=null,this.addsearchcase.apiname="",this.addsearchcase.deployunitname=e,Object(b.d)(this.addsearchcase).then(function(e){t.addcaseapiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},ApiselectChanged:function(e){this.searchcase.apiid=0;for(var t=0;t<this.apiList.length;t++)this.apiList[t].apiname===e&&(this.searchcase.apiid=this.apiList[t].id)},apiconditionapiselectChanged:function(e){var t=this;this.tmpapicondition.casename=null;for(var i=0;i<this.apiconditionapiList.length;i++)this.apiconditionapiList[i].apiname===e&&(this.tmpapicondition.apiid=this.apiconditionapiList[i].id);Object(p.d)(this.tmpapicondition).then(function(e){t.conditionapicaseList=e.data}).catch(function(e){t.$message.error("加载apicase列表失败")})},apiconditiontestcaseselectChanged:function(e){for(var t=0;t<this.conditionapicaseList.length;t++)this.conditionapicaseList[t].casename===e&&(this.tmpapicondition.caseid=this.conditionapicaseList[t].id)},addcaseApiselectChanged:function(e){this.addsearchcase.apiid=0;for(var t=0;t<this.addcaseapiList.length;t++)this.addcaseapiList[t].apiname===e&&(this.addsearchcase.apiid=this.addcaseapiList[t].id)}}},T={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("testscene:list")?i("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.gettestsceneList(t)}}},[e._v("刷新")]):e._e(),e._v(" "),e.hasPermission("testscene:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddtestsceneDialog(t)}}},[e._v("添加测试场景")]):e._e(),e._v(" "),e.hasPermission("testscene:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showCopytestsceneDialog(t)}}},[e._v("复制测试场景")]):e._e()],1),e._v(" "),e.hasPermission("testscene:search")?i("span",[i("el-form-item",[i("el-input",{attrs:{clearable:"",maxlength:"40",placeholder:"测试场景名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.scenename,callback:function(t){e.$set(e.search,"scenename",t)},expression:"search.scenename"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.testsceneList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"测试场景名",align:"center",prop:"scenename",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"类型",align:"center",prop:"usetype",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"用例数",align:"center",prop:"casenums",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"维护人",align:"center",prop:"creator",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n        ")]}}])}),e._v(" "),e.hasPermission("testscene:update")||e.hasPermission("testscene:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatetestsceneDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("testscene:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removetestscene(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("testscene:loadcase")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini","用例前置条件":"",icon:"el-icon-plus"},nativeOn:{click:function(i){return i.preventDefault(),e.showtestsceneCaseDialog(t.$index)}}},[e._v("装载用例")]):e._e(),e._v(" "),e.hasPermission("testscene:loadcase")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showDebugSceneDialog(t.$index)}}},[e._v("调试场景")]):e._e()]}}],null,!1,275854569)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.search.page,"page-size":e.search.size,total:e.total,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"tmptestscene",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmptestscene}},[i("el-form-item",{attrs:{label:"测试场景名",prop:"scenename",required:""}},[i("el-input",{attrs:{maxlength:"60",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestscene.scenename,callback:function(t){e.$set(e.tmptestscene,"scenename",t)},expression:"tmptestscene.scenename"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"场景类型",prop:"usetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"场景类型"},model:{value:e.tmptestscene.usetype,callback:function(t){e.$set(e.tmptestscene,"usetype",t)},expression:"tmptestscene.usetype"}},[i("el-option",{attrs:{label:"功能",value:"功能"}}),e._v(" "),i("el-option",{attrs:{label:"性能",value:"性能"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"60",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmptestscene.memo,callback:function(t){e.$set(e.tmptestscene,"memo",t)},expression:"tmptestscene.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmptestscene.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.dialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addtestscene(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.dialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatetestscene(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"复制场景",visible:e.CopysceneFormVisible},on:{"update:visible":function(t){e.CopysceneFormVisible=t}}},[i("el-form",{ref:"tmpcopyscene",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpcopyscene}},[i("el-form-item",{attrs:{label:"源场景",prop:"sourcescenename",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"源场景"},on:{change:function(t){return e.CopySourceSceneChanged(t)}},model:{value:e.tmpcopyscene.sourcescenename,callback:function(t){e.$set(e.tmpcopyscene,"sourcescenename",t)},expression:"tmpcopyscene.sourcescenename"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.sourcetestsceneList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.scenename,value:e.scenename,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"新场景名",prop:"newscenename",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpcopyscene.newscenename,callback:function(t){e.$set(e.tmpcopyscene,"newscenename",t)},expression:"tmpcopyscene.newscenename"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.CopysceneFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.copyscene(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1000px",title:"场景用例",visible:e.testscenecasedialogFormVisible},on:{"update:visible":function(t){e.testscenecasedialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"微服务:",prop:"deployunitname"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"微服务"},on:{change:function(t){return e.deployunitselectChanged(t)}},model:{value:e.searchcase.deployunitname,callback:function(t){e.$set(e.searchcase,"deployunitname",t)},expression:"searchcase.deployunitname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"模块:",prop:"modelname"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"模块"},on:{change:function(t){return e.modelselectChanged(t)}},model:{value:e.searchcase.modelname,callback:function(t){e.$set(e.searchcase,"modelname",t)},expression:"searchcase.modelname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.modelList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.modelname,value:e.modelname}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"API:"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"api名"},on:{change:function(t){return e.ApiselectChanged(t)}},model:{value:e.searchcase.apiname,callback:function(t){e.$set(e.searchcase,"apiname",t)},expression:"searchcase.apiname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.apiList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)})],2)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchscenecaseBy}},[e._v("查询")])],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.ShowAddCaseDialog}},[e._v("装载用例")])],1)],1)],1),e._v(" "),i("el-table",{ref:"caseTable",attrs:{data:e.testscenecaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scenecasegetIndex(t.$index))}})]}}])}),e._v(" "),e.show?i("el-table-column",{attrs:{label:"apiid",align:"center",prop:"apiid",width:"130"}}):e._e(),e._v(" "),e.show?i("el-table-column",{attrs:{label:"deployunitid",align:"center",prop:"deployunitid",width:"130"}}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"微服务",align:"center",prop:"deployunitname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"API",align:"center",prop:"apiname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{width:"90",align:"center",label:"执行步骤"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.edit?[i("el-input",{staticClass:"edit-input",attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",size:"small"},model:{value:a.caseorder,callback:function(t){e.$set(a,"caseorder",t)},expression:"row.caseorder"}}),e._v(" "),i("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(t){return e.cancelEdit(a)}}},[e._v("\n                取消\n              ")])]:i("span",[e._v(e._s(a.caseorder))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.edit?i("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(t){return e.confirmEdit(a)}}},[e._v("\n              保存\n            ")]):i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){a.edit=!a.edit}}},[e._v("\n              设置步骤\n            ")])]}}])}),e._v(" "),e.hasPermission("testscene:deletecase")||e.hasPermission("testscene:scenecondition")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"370"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:deletecase")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removetestscenecase(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showtestscenecaseConditionDialog(t.$index)}}},[e._v("前置条件")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showtestscenecaseLogicDialog(t.$index)}}},[e._v("逻辑设置")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showtestcasedataDialog(t.$index)}}},[e._v("用例数据")]):e._e()]}}],null,!1,3508143150)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchcase.page,"page-size":e.searchcase.size,total:e.casetotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.casehandleSizeChange,"current-change":e.casehandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:"场景前置条件",visible:e.sceneConditionFormVisible},on:{"update:visible":function(t){e.sceneConditionFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("executeplan:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapiparamsDialog(t)}}},[e._v("添加前置接口")]):e._e(),e._v(" "),e.hasPermission("executeplan:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapiparamsDialog(t)}}},[e._v("添加前置数据库")]):e._e(),e._v(" "),e.hasPermission("executeplan:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapiparamsDialog(t)}}},[e._v("添加前置脚本")]):e._e(),e._v(" "),e.hasPermission("executeplan:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddSceneCasedelayconditionDialog(t)}}},[e._v("添加前置延时")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.paramsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.paramgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Header",align:"center",prop:"globalheadername",width:"280"}}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateparamsDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeexecuteplanparam(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2267587065)}):e._e()],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.paramsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.paramgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Header",align:"center",prop:"globalheadername",width:"280"}}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateparamsDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeexecuteplanparam(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2267587065)}):e._e()],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.paramsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.paramgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Header",align:"center",prop:"globalheadername",width:"280"}}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateparamsDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeexecuteplanparam(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2267587065)}):e._e()],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.paramsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.paramgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Header",align:"center",prop:"globalheadername",width:"280"}}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateparamsDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removeexecuteplanparam(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2267587065)}):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"用例前置条件",width:"1150px",visible:e.scenecaseConditionFormVisible},on:{"update:visible":function(t){e.scenecaseConditionFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.ShowAddcasecaseconditionDialog(t)}}},[e._v("添加前置接口")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.AddcasedbconditionDialog(t)}}},[e._v("添加前置数据库")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddSceneCasedelayconditionDialog(t)}}},[e._v("添加前置延时")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddscriptDialog(t)}}},[e._v("添加前置脚本")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showscenecaseconditionorderDialog(t)}}},[e._v("设置前置条件顺序")]):e._e()],1)],1)],1),e._v("\n\n      1.接口前置条件：\n      "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.apiconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.apiconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属用例","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置接口","show-overflow-tooltip":!0,align:"center",prop:"casename",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("testscene:caseupdateapicondition")||e.hasPermission("testscene:casedeleteapicondition")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:caseupdateapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateapiconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("testscene:casedeleteapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removecaseapicondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showCaseVariablesforConditionDialog(t.$index)}}},[e._v("提取变量\n            ")]):e._e()]}}],null,!1,3297224524)}):e._e()],1),e._v("\n      2.延时前置条件：\n      "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.delayconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.delaycasegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名",align:"center",prop:"subconditionname",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属用例",align:"center",prop:"conditionname",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"等待时间(秒)",align:"center",prop:"delaytime",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("delaycondition:update")||e.hasPermission("delaycondition:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("delaycondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedelayconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("delaycondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedelaycondition(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,4005561702)}):e._e()],1),e._v("\n      3.数据库前置条件：\n      "),i("el-table",{staticClass:"tableAuto",attrs:{data:e.dbconditioncaseList,"table-layout":"auto","element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.dbconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属用例","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"环境",align:"center",prop:"enviromentname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"组件名",align:"center",prop:"assemblename",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql类型",align:"center",prop:"dbtype",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql内容",align:"center",prop:"dbcontent",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.dbcontent))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(">\n        "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("dbcondition:update")||e.hasPermission("dbcondition:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbcondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedbconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedbcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showdbvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,1195507353)}):e._e()],1),e._v("\n      4.脚本前置条件\n      "),i("el-table",{attrs:{data:e.scriptconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scriptcasegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"所属用例","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{label:"脚本",align:"center",prop:"script",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.script))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptcondition:update")||e.hasPermission("scriptcondition:delete")?i("el-table-column",{attrs:{label:"管理",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptcondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatescriptconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removescriptcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showscriptvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,33338166)}):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.scripttextMap[e.scriptdialogStatus],visible:e.scriptdialogFormVisible},on:{"update:visible":function(t){e.scriptdialogFormVisible=t}}},[i("el-form",{ref:"tmpscriptcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscriptcondition}},[i("el-form-item",{attrs:{label:"脚本条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptcondition.subconditionname,callback:function(t){e.$set(e.tmpscriptcondition,"subconditionname",t)},expression:"tmpscriptcondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Java代码",prop:"script",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"4000",placeholder:"Java 代码"},model:{value:e.tmpscriptcondition.script,callback:function(t){e.$set(e.tmpscriptcondition,"script",t)},expression:"tmpscriptcondition.script"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.scriptdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.scriptdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpscriptcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.scriptdialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.addscriptcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.scriptdialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatescriptcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.apiconditiontextMap[e.apiconditiondialogStatus],visible:e.caseconditiondialogFormVisible},on:{"update:visible":function(t){e.caseconditiondialogFormVisible=t}}},[i("el-form",{ref:"tmpapicondition",staticClass:"small-space",staticStyle:{width:"450px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpapicondition}},[i("el-form-item",{attrs:{label:"前置条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicondition.subconditionname,callback:function(t){e.$set(e.tmpapicondition,"subconditionname",t)},expression:"tmpapicondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"微服务",prop:"deployunitname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"微服务"},on:{change:function(t){return e.apiconditiondeployunitselectChanged(t)}},model:{value:e.tmpapicondition.deployunitname,callback:function(t){e.$set(e.tmpapicondition,"deployunitname",t)},expression:"tmpapicondition.deployunitname"}},e._l(e.deployunitList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)}),0)],1),e._v(" "),i("el-form-item",{attrs:{label:"模块:",prop:"modelname"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"模块"},on:{change:function(t){return e.apiconditionmodelselectChanged(t)}},model:{value:e.tmpapicondition.modelname,callback:function(t){e.$set(e.tmpapicondition,"modelname",t)},expression:"tmpapicondition.modelname"}},e._l(e.apiconditionmodelList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.modelname,value:e.modelname}})],1)}),0)],1),e._v(" "),i("el-form-item",{attrs:{label:"API",prop:"apiname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"API"},on:{change:function(t){return e.apiconditionapiselectChanged(t)}},model:{value:e.tmpapicondition.apiname,callback:function(t){e.$set(e.tmpapicondition,"apiname",t)},expression:"tmpapicondition.apiname"}},e._l(e.apiconditionapiList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)}),0)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口",prop:"casename",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"接口"},on:{change:function(t){return e.apiconditiontestcaseselectChanged(t)}},model:{value:e.tmpapicondition.casename,callback:function(t){e.$set(e.tmpapicondition,"casename",t)},expression:"tmpapicondition.casename"}},e._l(e.conditionapicaseList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.casename,value:e.casename,required:""}})],1)}),0)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.apiconditiondialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpapicondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.apiconditiondialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapicondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.apiconditiondialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateapicondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.dbtextMap[e.dbdialogStatus],visible:e.dbconditiondialogFormVisible},on:{"update:visible":function(t){e.dbconditiondialogFormVisible=t}}},[i("el-form",{ref:"tmpdbcondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdbcondition}},[i("el-form-item",{attrs:{label:"数据库条件名：",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbcondition.subconditionname,callback:function(t){e.$set(e.tmpdbcondition,"subconditionname",t)},expression:"tmpdbcondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"环境：",prop:"enviromentname",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"环境"},on:{change:function(t){return e.selectChangedEN(t)}},model:{value:e.tmpdbcondition.enviromentname,callback:function(t){e.$set(e.tmpdbcondition,"enviromentname",t)},expression:"tmpdbcondition.enviromentname"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"组件：",prop:"assemblename",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"组件"},on:{change:function(t){return e.ConditionselectChangedAS(t)}},model:{value:e.tmpdbcondition.assemblename,callback:function(t){e.$set(e.tmpdbcondition,"assemblename",t)},expression:"tmpdbcondition.assemblename"}},[i("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviroment_assembleList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"操作类型：",prop:"dbtype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"操作类型"},on:{change:function(t){return e.selectChangedDBType(t)}},model:{value:e.tmpdbcondition.dbtype,callback:function(t){e.$set(e.tmpdbcondition,"dbtype",t)},expression:"tmpdbcondition.dbtype"}},[i("el-option",{attrs:{label:"新增",value:"Insert"}}),e._v(" "),i("el-option",{attrs:{label:"删除",value:"Delete"}}),e._v(" "),i("el-option",{attrs:{label:"修改",value:"Update"}}),e._v(" "),i("el-option",{attrs:{label:"查询",value:"Select"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Sql语句：",prop:"dbcontent",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"10",cols:"50",maxlength:"2000","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbcondition.dbcontent,callback:function(t){e.$set(e.tmpdbcondition,"dbcontent",t)},expression:"tmpdbcondition.dbcontent"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dbconditiondialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dbdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdbcondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.dbdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.adddbcondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.dbdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbcondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"900px",title:"添加用例",visible:e.addtestscenecasedialogFormVisible},on:{"update:visible":function(t){e.addtestscenecasedialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"微服务:",prop:"deployunitname"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{required:"",filterable:"",placeholder:"微服务"},on:{change:function(t){return e.addcasedeployunitselectChanged(t)}},model:{value:e.addsearchcase.deployunitname,callback:function(t){e.$set(e.addsearchcase,"deployunitname",t)},expression:"addsearchcase.deployunitname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"模块:",prop:"modelname"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"模块"},on:{change:function(t){return e.addcasemodelselectChanged(t)}},model:{value:e.addsearchcase.modelname,callback:function(t){e.$set(e.addsearchcase,"modelname",t)},expression:"addsearchcase.modelname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.modelList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.modelname,value:e.modelname}})],1)})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"API:"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:"api名"},on:{change:function(t){return e.addcaseApiselectChanged(t)}},model:{value:e.addsearchcase.apiname,callback:function(t){e.$set(e.addsearchcase,"apiname",t)},expression:"addsearchcase.apiname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.addcaseapiList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)})],2)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchaddcaseBy}},[e._v("查询")])],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.addcaselistLoading,expression:"addcaselistLoading",modifiers:{body:!0}}],key:e.itemaddcaseKey,ref:"addcaseTable",attrs:{data:e.addtestcaselastList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.addcasehandleClickTableRow,"selection-change":e.addcasehandleSelectionChange}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.sceneaddcasegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),e.show?i("el-table-column",{attrs:{label:"apiid",align:"center",prop:"apiid",width:"120"}}):e._e(),e._v(" "),e.show?i("el-table-column",{attrs:{label:"deployunitid",align:"center",prop:"deployunitid",width:"120"}}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"250"}}),e._v(" "),i("el-table-column",{attrs:{label:"微服务",align:"center",prop:"deployunitname",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{label:"API",align:"center",prop:"apiname",width:"250"}}),e._v(" "),i("el-table-column",{attrs:{label:"类型",align:"center",prop:"casetype",width:"70"}})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.addsearchcase.page,"page-size":e.addsearchcase.size,total:e.addcasetotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.addcasehandleSizeChange,"current-change":e.addcasehandleCurrentChange}}),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.addtestscenecasedialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addtestscenetestcase(t)}}},[e._v("添加")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.DelaytextMap[e.DelaydialogStatus],visible:e.DelaydialogFormVisible},on:{"update:visible":function(t){e.DelaydialogFormVisible=t}}},[i("el-form",{ref:"tmpdelaycondition",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdelaycondition}},[i("el-form-item",{attrs:{label:"条件名",prop:"subconditionname",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"30","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdelaycondition.subconditionname,callback:function(t){e.$set(e.tmpdelaycondition,"subconditionname",t)},expression:"tmpdelaycondition.subconditionname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"等待时间(秒)",prop:"delaytime",required:""}},[i("el-input",{attrs:{placeholder:"等待时间(秒)",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdelaycondition.delaytime,callback:function(t){e.$set(e.tmpdelaycondition,"delaytime",t)},expression:"tmpdelaycondition.delaytime"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.DelaydialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.DelaydialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdelaycondition.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.DelaydialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.adddelaycondition(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.DelaydialogStatus?i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatedelaycondition(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"逻辑设置",visible:e.LogicdialogFormVisible},on:{"update:visible":function(t){e.LogicdialogFormVisible=t}}},[i("el-form",{ref:"tmpscenecaselogic",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscenecaselogic}},[i("el-form-item",{attrs:{label:"循环次数",prop:"loopnums",required:""}},[i("el-input",{attrs:{type:"text",maxlength:"50","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscenecaselogic.loopnums,callback:function(t){e.$set(e.tmpscenecaselogic,"loopnums","string"==typeof t?t.trim():t)},expression:"tmpscenecaselogic.loopnums"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"断言失败停止项",prop:"stopflag",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"类型"},model:{value:e.tmpscenecaselogic.stopflag,callback:function(t){e.$set(e.tmpscenecaselogic,"stopflag",t)},expression:"tmpscenecaselogic.stopflag"}},[i("el-option",{attrs:{label:"无",value:"无"}}),e._v(" "),i("el-option",{attrs:{label:"当前场景",value:"当前场景"}}),e._v(" "),i("el-option",{attrs:{label:"当前集合",value:"当前集合"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.LogicdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.updatescenecaselogic(t)}}},[e._v("保存")])],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1100px",title:"数据库变量列表",visible:e.dbVariablesDialogFormVisible},on:{"update:visible":function(t){e.dbVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAdddbvariablesDialog(t)}}},[e._v("添加数据库变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.dbvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.dbVariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"数据库变量名",align:"center","show-overflow-tooltip":!0,prop:"dbvariablesname",width:"130"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),i("el-table-column",{attrs:{label:"列名","show-overflow-tooltip":!0,align:"center",prop:"fieldname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"行号",align:"center",prop:"roworder",width:"45"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("dbvariables:update")||e.hasPermission("dbvariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbvariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedbvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedbvariables(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedbvariables(t.$index)}}},[e._v("使用变量")]):e._e()]}}],null,!1,1535661541)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchdbvariables.page,"page-size":e.searchdbvariables.size,total:e.dbvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.dbvariableshandleSizeChange,"current-change":e.dbvariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.dbvariablestextMap[e.dbvariablesdialogStatus],visible:e.adddbvariablesdialogFormVisible},on:{"update:visible":function(t){e.adddbvariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmpdbvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpdbvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"dbvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbvariables.dbvariablesname,callback:function(t){e.$set(e.tmpdbvariables,"dbvariablesname",t)},expression:"tmpdbvariables.dbvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpdbvariables.variablesdes,callback:function(t){e.$set(e.tmpdbvariables,"variablesdes",t)},expression:"tmpdbvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpdbvariables.valuetype,callback:function(t){e.$set(e.tmpdbvariables,"valuetype",t)},expression:"tmpdbvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"表列名",prop:"fieldname",required:""}},[i("el-input",{attrs:{placeholder:"数据库查询结果集表列名",maxLength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.fieldname,callback:function(t){e.$set(e.tmpdbvariables,"fieldname",t)},expression:"tmpdbvariables.fieldname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"表行号",prop:"roworder",required:""}},[i("el-input",{attrs:{placeholder:"数据库查询结果集行号",oninput:"value=value.replace(/[^\\d]/g,'')",maxLength:"10",type:"number","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.roworder,callback:function(t){e.$set(e.tmpdbvariables,"roworder",t)},expression:"tmpdbvariables.roworder"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"60",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpdbvariables.memo,callback:function(t){e.$set(e.tmpdbvariables,"memo",t)},expression:"tmpdbvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.adddbvariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dbvariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpdbvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.dbvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.adddbvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.dbvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatedbvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"用例值",width:"1000px",visible:e.casedataialogFormVisible},on:{"update:visible":function(t){e.casedataialogFormVisible=t}}},[i("el-form",{ref:"tmpapicasesdata",staticClass:"small-space",staticStyle:{width:"900px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"80px",model:e.tmpapicasesdata}},[i("el-form-item",{attrs:{label:"用例名:"}},[i("el-input",{attrs:{readonly:"true"},model:{value:e.tmpapicase.casename,callback:function(t){e.$set(e.tmpapicase,"casename",t)},expression:"tmpapicase.casename"}})],1),e._v(" "),[i("el-tabs",{ref:"tabs",attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"Header",name:"zero"}},[[i("el-table",{attrs:{data:e.Headertabledatas,border:""}},[i("el-table-column",{attrs:{label:"参数",prop:"apiparam",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.apiparam,callback:function(i){e.$set(t.row,"apiparam",i)},expression:"scope.row.apiparam"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"值",prop:"apiparamvalue",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"值"},model:{value:t.row.apiparamvalue,callback:function(i){e.$set(t.row,"apiparamvalue",i)},expression:"scope.row.apiparamvalue"}})]}}])})],1)]],2),e._v(" "),i("el-tab-pane",{attrs:{label:"Params",name:"first"}},[[i("el-table",{attrs:{data:e.Paramstabledatas,border:""}},[i("el-table-column",{attrs:{label:"参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.apiparam,callback:function(i){e.$set(t.row,"apiparam",i)},expression:"scope.row.apiparam"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"值类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.paramstype,callback:function(i){e.$set(t.row,"paramstype",i)},expression:"scope.row.paramstype"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"值"},model:{value:t.row.apiparamvalue,callback:function(i){e.$set(t.row,"apiparamvalue",i)},expression:"scope.row.apiparamvalue"}})]}}])})],1)]],2),e._v(" "),i("el-tab-pane",{attrs:{label:"Body",name:"second"}},[[e.BodyParamDataVisible?i("div",[i("el-table",{attrs:{data:e.Bodytabledatas,border:""}},[i("el-table-column",{attrs:{label:"参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"参数名"},model:{value:t.row.apiparam,callback:function(i){e.$set(t.row,"apiparam",i)},expression:"scope.row.apiparam"}})]}}],null,!1,1535784312)}),e._v(" "),i("el-table-column",{attrs:{label:"值类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.paramstype,callback:function(i){e.$set(t.row,"paramstype",i)},expression:"scope.row.paramstype"}})]}}],null,!1,1280670791)}),e._v(" "),i("el-table-column",{attrs:{label:"默认值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"默认值"},model:{value:t.row.apiparamvalue,callback:function(i){e.$set(t.row,"apiparamvalue",i)},expression:"scope.row.apiparamvalue"}})]}}],null,!1,1666315820)})],1)],1):e._e(),e._v(" "),e.BodyDataVisible?i("div",[i("el-form-item",{attrs:{label:"Body值：",prop:"apiparamvalue"}},[i("el-input",{attrs:{type:"textarea",rows:"20",cols:"70","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapicasesbodydata.apiparamvalue,callback:function(t){e.$set(e.tmpapicasesbodydata,"apiparamvalue","string"==typeof t?t.trim():t)},expression:"tmpapicasesbodydata.apiparamvalue"}})],1)],1):e._e()]],2),e._v(" "),i("el-tab-pane",{attrs:{label:"使用变量",name:"third"}},[i("uservariables")],1)],1)]],2),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.casedataialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addnewapicasesdata(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.caseaddvariablestextMap[e.caseaddvariablesdialogStatus],visible:e.caseaddvariablesdialogFormVisible},on:{"update:visible":function(t){e.caseaddvariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmptestvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmptestvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"testvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.testvariablesname,callback:function(t){e.$set(e.tmptestvariables,"testvariablesname",t)},expression:"tmptestvariables.testvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.variablesdes,callback:function(t){e.$set(e.tmptestvariables,"variablesdes",t)},expression:"tmptestvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量来源",prop:"testvariablestype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量来源"},on:{change:function(t){return e.testvariablestypeselectChanged(t)}},model:{value:e.tmptestvariables.testvariablestype,callback:function(t){e.$set(e.tmptestvariables,"testvariablestype",t)},expression:"tmptestvariables.testvariablestype"}},[i("el-option",{attrs:{label:"Header",value:"Header"}}),e._v(" "),i("el-option",{attrs:{label:"Cookies",value:"Cookies"}}),e._v(" "),i("el-option",{attrs:{label:"Body",value:"Body"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmptestvariables.valuetype,callback:function(t){e.$set(e.tmptestvariables,"valuetype",t)},expression:"tmptestvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.expressname,prop:"variablesexpress",required:""}},[i("el-input",{attrs:{type:"textarea",rows:"3",cols:"10",maxlength:"200",placeholder:"例如 $.store.book[0].title","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmptestvariables.variablesexpress,callback:function(t){e.$set(e.tmptestvariables,"variablesexpress",t)},expression:"tmptestvariables.variablesexpress"}}),e._v(" "),i("div",{staticClass:"right"},[i("el-tooltip",{attrs:{placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.如果获取变量值的接口返回数据类型是Json则使用JsonPath表达式提取变量值，例如：$.store.book[0].title   在线解析网站：http://www.e123456.com/aaaphp/online/jsonpath/"),i("br"),e._v("2.如果获取变量值接口返回是html，xml则使用XPath表达式提取变量值， 例如：//div/h3//text()   在线解析网站： http://www.ab173.com/other/xpath.php")]),e._v(" "),i("el-button",[e._v("变量值提取表达语法规则")])],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{type:"text",maxlength:"60","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmptestvariables.memo,callback:function(t){e.$set(e.tmptestvariables,"memo",t)},expression:"tmptestvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.caseaddvariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.caseaddvariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmptestvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.caseaddvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addtestvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.caseaddvariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatetestvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1200px",title:"用例提取变量列表",visible:e.caseVariablesDialogFormVisible},on:{"update:visible":function(t){e.caseVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddApicasesVariablesDialog(t)}}},[e._v("提取变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{attrs:{data:e.ApicasesVariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.ApicasesVariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量名",align:"center",prop:"testvariablesname",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属用例",align:"center",prop:"casename",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属API",align:"center",prop:"apiname",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"所属微服务",align:"center",prop:"deployunitname",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量来源",align:"center",prop:"testvariablestype",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量值提取表达",align:"center",prop:"variablesexpress",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("ApicasesVariables:update")||e.hasPermission("ApicasesVariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("ApicasesVariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatetestvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("ApicasesVariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removetestvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,3910988262)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchapicasevariables.page,"page-size":e.searchapicasevariables.size,total:e.apicasevariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.apicasevariableshandleSizeChange,"current-change":e.apicasevariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{width:"1050px",title:"脚本变量列表",visible:e.scriptVariablesDialogFormVisible},on:{"update:visible":function(t){e.scriptVariablesDialogFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("ApicasesVariables:add")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddscriptvariablesDialog(t)}}},[e._v("添加脚本变量")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.scriptvariablesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scriptvariablesgetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"脚本变量名",align:"center",prop:"scriptvariablesname",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"来源前置条件",align:"center",prop:"conditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"变量描述",align:"center",prop:"variablesdes",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"变量值类型",align:"center",prop:"valuetype",width:"85"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n          ")]}}])}),e._v(" "),e.hasPermission("scriptvariables:update")||e.hasPermission("scriptvariables:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptvariables:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatescriptvariablesDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removescriptvariables(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,1461344774)}):e._e()],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.searchscriptvariables.page,"page-size":e.searchscriptvariables.size,total:e.scriptvariablestotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.scriptvariableshandleSizeChange,"current-change":e.scriptvariableshandleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.scriptVariablestextMap[e.scriptVariablesdialogStatus],visible:e.addscriptVariablesdialogFormVisible},on:{"update:visible":function(t){e.addscriptVariablesdialogFormVisible=t}}},[i("el-form",{ref:"tmpscriptvariables",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpscriptvariables}},[i("el-form-item",{attrs:{label:"变量名",prop:"scriptvariablesname",required:""}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptvariables.scriptvariablesname,callback:function(t){e.$set(e.tmpscriptvariables,"scriptvariablesname",t)},expression:"tmpscriptvariables.scriptvariablesname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量描述",prop:"variablesdes",required:""}},[i("el-input",{attrs:{maxlength:"20",type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpscriptvariables.variablesdes,callback:function(t){e.$set(e.tmpscriptvariables,"variablesdes",t)},expression:"tmpscriptvariables.variablesdes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值类型",prop:"valuetype",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"变量值类型"},model:{value:e.tmpscriptvariables.valuetype,callback:function(t){e.$set(e.tmpscriptvariables,"valuetype",t)},expression:"tmpscriptvariables.valuetype"}},[i("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),i("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),i("el-option",{attrs:{label:"Array",value:"Array"}}),e._v(" "),i("el-option",{attrs:{label:"Bool",value:"Bool"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"memo"}},[i("el-input",{attrs:{maxlength:"50",type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpscriptvariables.memo,callback:function(t){e.$set(e.tmpscriptvariables,"memo",t)},expression:"tmpscriptvariables.memo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.addscriptVariablesdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.scriptVariablesdialogStatus?i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpscriptvariables.resetFields()}}},[e._v("重置")]):e._e(),e._v(" "),"add"===e.scriptVariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addscriptvariables(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.scriptVariablesdialogStatus?i("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatescriptvariables(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"前置条件顺序",width:"840px",visible:e.ConditionOrderdialogFormVisible},on:{"update:visible":function(t){e.ConditionOrderdialogFormVisible=t}}},[i("el-form",{staticClass:"small-space",attrs:{"status-icon":"","label-position":"left","label-width":"120px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.conditionorderList,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"subconditionname",align:"center",label:"前置条件名",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"conditionname",align:"center",label:"条件来源",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"subconditiontype",align:"center",label:"条件类型",width:"110px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"orderstatus",align:"center",label:"状态",width:"60px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"conditionorder",align:"center",label:"顺序",width:"50px"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作排序",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",disabled:0===t.$index},on:{click:function(i){return e.moveUp(t.$index,t.row)}}},[i("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),i("el-button",{attrs:{size:"mini",disabled:t.$index===e.conditionorderList.length-1},on:{click:function(i){return e.moveDown(t.$index,t.row)}}},[i("i",{staticClass:"el-icon-arrow-down"})])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.ConditionOrderdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.saveconditionorder(t)}}},[e._v("保存")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"调试测试场景",width:"1340px",visible:e.DebugScenedialogFormVisible},on:{"update:visible":function(t){e.DebugScenedialogFormVisible=t}}},[i("div",{staticClass:"container"},[i("div",{staticClass:"left-component"},[i("div",{staticClass:"tree-scroll"},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("el-tree",{ref:"tree",staticClass:"flow-tree",attrs:{data:e.SeceneDebugdata,props:e.defaultProps,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":e.filterNode},on:{"node-click":e.clickNode}})],1)]),e._v(" "),i("div",{staticClass:"right-component"},[i("el-form",{ref:"tmpapicasesdata",staticClass:"small-space",staticStyle:{width:"950px","margin-left":"50px"},attrs:{inline:"true","status-icon":"","label-position":"left","label-width":"80px",model:e.tmpapicasesdata}},[i("el-form",{ref:"tmptest",attrs:{inline:!0,model:e.tmptest}},[i("el-form-item",{attrs:{label:"调试目标：",required:""}},[i("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"未选择",readonly:"true"},model:{value:e.tmptest.casename,callback:function(t){e.$set(e.tmptest,"casename",t)},expression:"tmptest.casename"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"环境：",prop:"enviromentname",required:""}},[i("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"环境"},on:{change:function(t){return e.EnviromentselectChanged(t)}},model:{value:e.tmptest.enviromentname,callback:function(t){e.$set(e.tmptest,"enviromentname",t)},expression:"tmptest.enviromentname"}},[i("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return i("div",{key:t},[i("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),i("el-form-item",[e.hasPermission("testscene:list")?i("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.addnewapicasesdata(t)}}},[e._v("保存用例数据")]):e._e(),e._v(" "),e.hasPermission("testscene:list")?i("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.runtest(t)}}},[e._v("调试")]):e._e()],1),e._v(" "),i("el-tabs",{attrs:{type:"card"},model:{value:e.activebbbName,callback:function(t){e.activebbbName=t},expression:"activebbbName"}},[i("el-tab-pane",{attrs:{label:"用例数据",name:"xxx"}},[i("el-tabs",{ref:"tabs",attrs:{type:"card"},model:{value:e.activeaaaName,callback:function(t){e.activeaaaName=t},expression:"activeaaaName"}},[i("el-tab-pane",{attrs:{label:"Header",name:"zero"}},[[i("el-table",{attrs:{data:e.Headertabledatas,fit:"","highlight-current-row":"",border:""}},[i("el-table-column",{attrs:{label:"参数",prop:"apiparam",align:"center",width:"450"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.apiparam,callback:function(i){e.$set(t.row,"apiparam",i)},expression:"scope.row.apiparam"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"值",prop:"apiparamvalue",align:"center",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"值"},model:{value:t.row.apiparamvalue,callback:function(i){e.$set(t.row,"apiparamvalue",i)},expression:"scope.row.apiparamvalue"}})]}}])})],1)]],2),e._v(" "),i("el-tab-pane",{attrs:{label:"Params",name:"first"}},[[i("el-table",{attrs:{data:e.Paramstabledatas,border:""}},[i("el-table-column",{attrs:{label:"参数",align:"center",width:"450"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.apiparam,callback:function(i){e.$set(t.row,"apiparam",i)},expression:"scope.row.apiparam"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"值类型",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.paramstype,callback:function(i){e.$set(t.row,"paramstype",i)},expression:"scope.row.paramstype"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"值",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"值"},model:{value:t.row.apiparamvalue,callback:function(i){e.$set(t.row,"apiparamvalue",i)},expression:"scope.row.apiparamvalue"}})]}}])})],1)]],2),e._v(" "),i("el-tab-pane",{attrs:{label:"Body",name:"second"}},[[e.BodyParamDataVisible?i("div",[i("el-table",{attrs:{data:e.Bodytabledatas,border:""}},[i("el-table-column",{attrs:{label:"参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"参数名"},model:{value:t.row.apiparam,callback:function(i){e.$set(t.row,"apiparam",i)},expression:"scope.row.apiparam"}})]}}],null,!1,1535784312)}),e._v(" "),i("el-table-column",{attrs:{label:"值类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",readonly:"true"},model:{value:t.row.paramstype,callback:function(i){e.$set(t.row,"paramstype",i)},expression:"scope.row.paramstype"}})]}}],null,!1,1280670791)}),e._v(" "),i("el-table-column",{attrs:{label:"默认值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"默认值"},model:{value:t.row.apiparamvalue,callback:function(i){e.$set(t.row,"apiparamvalue",i)},expression:"scope.row.apiparamvalue"}})]}}],null,!1,1666315820)})],1)],1):e._e(),e._v(" "),e.BodyDataVisible?i("div",[i("el-form-item",{attrs:{prop:"apiparamvalue"}},[i("el-input",{staticStyle:{width:"950px"},attrs:{type:"textarea",rows:"15",cols:"10","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapicasesbodydata.apiparamvalue,callback:function(t){e.$set(e.tmpapicasesbodydata,"apiparamvalue","string"==typeof t?t.trim():t)},expression:"tmpapicasesbodydata.apiparamvalue"}})],1)],1):e._e()]],2),e._v(" "),i("el-tab-pane",{attrs:{label:"使用变量",name:"third"}},[i("uservariables",{staticStyle:{width:"950px"}})],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"前置条件",name:"xxx1"}},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.ShowAddcasecaseconditionDialog(t)}}},[e._v("添加前置接口")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.AddcasedbconditionDialog(t)}}},[e._v("添加前置数据库")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddSceneCasedelayconditionDialog(t)}}},[e._v("添加前置延时")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddscriptDialog(t)}}},[e._v("添加前置脚本")]):e._e(),e._v(" "),e.hasPermission("testscene:scenecasecondition")?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showscenecaseconditionorderDialog(t)}}},[e._v("设置前置条件顺序")]):e._e()],1)],1)],1),e._v("\n\n                1.接口前置条件：\n                "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.apiconditioncaseList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.apiconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置所属","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置接口","show-overflow-tooltip":!0,align:"center",prop:"casename",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n                    ")]}}])}),e._v(" "),e.hasPermission("testscene:caseupdateapicondition")||e.hasPermission("testscene:casedeleteapicondition")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("testscene:caseupdateapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdateapiconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("testscene:casedeleteapicondition")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removecaseapicondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showCaseVariablesforConditionDialog(t.$index)}}},[e._v("提取变量\n                      ")]):e._e()]}}],null,!1,4109806028)}):e._e()],1),e._v("\n                2.延时前置条件：\n                "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.delayconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.delaycasegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名",align:"center",prop:"subconditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置所属",align:"center",prop:"conditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"等待时间(秒)",align:"center",prop:"delaytime",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n                    ")]}}])}),e._v(" "),e.hasPermission("delaycondition:update")||e.hasPermission("delaycondition:delete")?i("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("delaycondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedelayconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("delaycondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedelaycondition(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,4005561702)}):e._e()],1),e._v("\n                3.数据库前置条件：\n                "),i("el-table",{staticClass:"tableAuto",attrs:{data:e.dbconditioncaseList,"table-layout":"auto","element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.dbconditioncaseIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置所属","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"环境",align:"center",prop:"enviromentname",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"组件名",align:"center",prop:"assemblename",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql类型",align:"center",prop:"dbtype",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"Sql内容",align:"center",prop:"dbcontent",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.dbcontent))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(">\n                  "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n                    ")]}}])}),e._v(" "),e.hasPermission("dbcondition:update")||e.hasPermission("dbcondition:delete")?i("el-table-column",{attrs:{label:"管理",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("dbcondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatedbconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removedbcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbvariables:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showdbvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,1195507353)}):e._e()],1),e._v("\n                4.脚本前置条件\n                "),i("el-table",{attrs:{data:e.scriptconditionList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.scriptcasegetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"前置条件名","show-overflow-tooltip":!0,align:"center",prop:"subconditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"前置所属","show-overflow-tooltip":!0,align:"center",prop:"conditionname",width:"110"}}),e._v(" "),i("el-table-column",{attrs:{label:"脚本",align:"center",prop:"script",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.script))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":!0,align:"center",prop:"createTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"最后修改时间","show-overflow-tooltip":!0,align:"center",prop:"lastmodifyTime",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n                    ")]}}])}),e._v(" "),e.hasPermission("scriptcondition:update")||e.hasPermission("scriptcondition:delete")?i("el-table-column",{attrs:{label:"管理",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("scriptcondition:update")&&t.row.id!==e.id?i("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showUpdatescriptconditionDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("scriptcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.removescriptcondition(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("dbcondition:delete")&&t.row.id!==e.id?i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.showscriptvariablesDialog(t.$index)}}},[e._v("提取变量")]):e._e()]}}],null,!1,33338166)}):e._e()],1)],1)],1)],1)],1)],1)]),e._v(" "),i("div",{staticStyle:{height:"350px"}},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"状态:",prop:"status"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"状态"},model:{value:e.debugsearch.status,callback:function(t){e.$set(e.debugsearch,"status",t)},expression:"debugsearch.status"}},[i("el-option",{attrs:{label:"成功",value:"成功"}}),e._v(" "),i("el-option",{attrs:{label:"失败",value:"失败"}})],1)],1),e._v(" "),i("el-form-item",[i("el-input",{attrs:{clearable:"",maxlength:"40",placeholder:"调试批次"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchcaseReportBy(t)}},model:{value:e.debugsearch.batchname,callback:function(t){e.$set(e.debugsearch,"batchname",t)},expression:"debugsearch.batchname"}})],1),e._v(" "),i("el-form-item",[i("el-input",{attrs:{clearable:"",maxlength:"40",placeholder:"用例名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchcaseReportBy(t)}},model:{value:e.debugsearch.casename,callback:function(t){e.$set(e.debugsearch,"casename",t)},expression:"debugsearch.casename"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchcaseReportBy}},[e._v("查询")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.apireportList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s(e.debuggetIndex(t.$index))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"调试批次",align:"center",prop:"batchname",width:"210"}}),e._v(" "),i("el-table-column",{attrs:{label:"测试场景",align:"center",prop:"scenename",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{label:"请求方式",align:"center",prop:"requestmethod",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"请求地址",align:"center",prop:"url",width:"190"}}),e._v(" "),i("el-table-column",{attrs:{label:"请求头",align:"center",prop:"requestheader",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.requestheader))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"请求数据",align:"center",prop:"requestdatas",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top-start"}},[i("p",[e._v(e._s(t.row.requestdatas))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"响应",align:"center",prop:"respone",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.respone))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"断言",align:"center",prop:"expect",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v(e._s(t.row.expect))]),e._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"运行时间(ms)",align:"center",prop:"runtime",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.debugsearch.page,"page-size":e.debugsearch.size,total:e.debugtotal,"page-sizes":[5],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.debughandleSizeChange,"current-change":e.debughandleCurrentChange}})],1)])],1)},staticRenderFns:[]};var B=i("VU/8")(F,T,!1,function(e){i("Wapz")},null,null);t.default=B.exports},UvrK:function(e,t,i){var a=i("kM2E");a(a.P+a.R,"Map",{toJSON:i("m9gC")("Map")})},Wapz:function(e,t){},Xjd4:function(e,t,i){i("9Bbf")("Map")},bqnK:function(e,t,i){i("HpRW")("Map")},ifoU:function(e,t,i){e.exports={default:i("3C/1"),__esModule:!0}},m9gC:function(e,t,i){var a=i("RY/4"),n=i("4WTo");e.exports=function(e){return function(){if(a(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},oeOm:function(e,t,i){var a=i("7Doy");e.exports=function(e,t){return new(a(e))(t)}},qCoq:function(e,t,i){"use strict";var a=i("9C8M"),n=i("LIJb");e.exports=i("qo66")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=a.getEntry(n(this,"Map"),e);return t&&t.v},set:function(e,t){return a.def(n(this,"Map"),0===e?0:e,t)}},a,!0)},qo66:function(e,t,i){"use strict";var a=i("7KvD"),n=i("kM2E"),s=i("06OY"),o=i("S82l"),l=i("hJx8"),r=i("xH/j"),c=i("NWt+"),d=i("2KxR"),p=i("EqjI"),u=i("e6n0"),m=i("evD5").f,b=i("ALrJ")(0),h=i("+E39");e.exports=function(e,t,i,v,f,g){var y=a[e],_=y,w=f?"set":"add",x=_&&_.prototype,L={};return h&&"function"==typeof _&&(g||x.forEach&&!o(function(){(new _).entries().next()}))?(_=t(function(t,i){d(t,_,e,"_c"),t._c=new y,void 0!=i&&c(i,f,t[w],t)}),b("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!g||"clear"!=e)&&l(_.prototype,e,function(i,a){if(d(this,_,e),!t&&g&&!p(i))return"get"==e&&void 0;var n=this._c[e](0===i?0:i,a);return t?this:n})}),g||m(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,e,f,w),r(_.prototype,i),s.NEED=!0),u(_,e),L[e]=_,n(n.G+n.W+n.F,L),g||v.setStrong(_,e,f),_}}});
//# sourceMappingURL=2.29a90d8760ab64265a05.js.map